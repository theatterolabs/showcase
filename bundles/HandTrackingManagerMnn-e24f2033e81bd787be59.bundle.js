webpackJsonpYMK([54],{

/***/ 1979:
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(27);
module.exports = function (it, TYPE) {
  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');
  return it;
};


/***/ }),

/***/ 2126:
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(2127), __esModule: true };

/***/ }),

/***/ 2127:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(122);
__webpack_require__(43);
__webpack_require__(60);
__webpack_require__(2128);
__webpack_require__(2134);
__webpack_require__(2137);
__webpack_require__(2139);
module.exports = __webpack_require__(2).Set;


/***/ }),

/***/ 2128:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var strong = __webpack_require__(2129);
var validate = __webpack_require__(1979);
var SET = 'Set';

// 23.2 Set Objects
module.exports = __webpack_require__(2130)(SET, function (get) {
  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.2.3.1 Set.prototype.add(value)
  add: function add(value) {
    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);
  }
}, strong);


/***/ }),

/***/ 2129:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var dP = __webpack_require__(15).f;
var create = __webpack_require__(84);
var redefineAll = __webpack_require__(185);
var ctx = __webpack_require__(33);
var anInstance = __webpack_require__(184);
var forOf = __webpack_require__(177);
var $iterDefine = __webpack_require__(127);
var step = __webpack_require__(195);
var setSpecies = __webpack_require__(196);
var DESCRIPTORS = __webpack_require__(20);
var fastKey = __webpack_require__(190).fastKey;
var validate = __webpack_require__(1979);
var SIZE = DESCRIPTORS ? '_s' : 'size';

var getEntry = function (that, key) {
  // fast case
  var index = fastKey(key);
  var entry;
  if (index !== 'F') return that._i[index];
  // frozen object case
  for (entry = that._f; entry; entry = entry.n) {
    if (entry.k == key) return entry;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;         // collection type
      that._i = create(null); // index
      that._f = undefined;    // first entry
      that._l = undefined;    // last entry
      that[SIZE] = 0;         // size
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.1.3.1 Map.prototype.clear()
      // 23.2.3.2 Set.prototype.clear()
      clear: function clear() {
        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {
          entry.r = true;
          if (entry.p) entry.p = entry.p.n = undefined;
          delete data[entry.i];
        }
        that._f = that._l = undefined;
        that[SIZE] = 0;
      },
      // 23.1.3.3 Map.prototype.delete(key)
      // 23.2.3.4 Set.prototype.delete(value)
      'delete': function (key) {
        var that = validate(this, NAME);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.n;
          var prev = entry.p;
          delete that._i[entry.i];
          entry.r = true;
          if (prev) prev.n = next;
          if (next) next.p = prev;
          if (that._f == entry) that._f = next;
          if (that._l == entry) that._l = prev;
          that[SIZE]--;
        } return !!entry;
      },
      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
      forEach: function forEach(callbackfn /* , that = undefined */) {
        validate(this, NAME);
        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
        var entry;
        while (entry = entry ? entry.n : this._f) {
          f(entry.v, entry.k, this);
          // revert to the last existing entry
          while (entry && entry.r) entry = entry.p;
        }
      },
      // 23.1.3.7 Map.prototype.has(key)
      // 23.2.3.7 Set.prototype.has(value)
      has: function has(key) {
        return !!getEntry(validate(this, NAME), key);
      }
    });
    if (DESCRIPTORS) dP(C.prototype, 'size', {
      get: function () {
        return validate(this, NAME)[SIZE];
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var entry = getEntry(that, key);
    var prev, index;
    // change existing entry
    if (entry) {
      entry.v = value;
    // create new entry
    } else {
      that._l = entry = {
        i: index = fastKey(key, true), // <- index
        k: key,                        // <- key
        v: value,                      // <- value
        p: prev = that._l,             // <- previous entry
        n: undefined,                  // <- next entry
        r: false                       // <- removed
      };
      if (!that._f) that._f = entry;
      if (prev) prev.n = entry;
      that[SIZE]++;
      // add to index
      if (index !== 'F') that._i[index] = entry;
    } return that;
  },
  getEntry: getEntry,
  setStrong: function (C, NAME, IS_MAP) {
    // add .keys, .values, .entries, [@@iterator]
    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
    $iterDefine(C, NAME, function (iterated, kind) {
      this._t = validate(iterated, NAME); // target
      this._k = kind;                     // kind
      this._l = undefined;                // previous
    }, function () {
      var that = this;
      var kind = that._k;
      var entry = that._l;
      // revert to the last existing entry
      while (entry && entry.r) entry = entry.p;
      // get next entry
      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
        // or finish the iteration
        that._t = undefined;
        return step(1);
      }
      // return step by kind
      if (kind == 'keys') return step(0, entry.k);
      if (kind == 'values') return step(0, entry.v);
      return step(0, [entry.k, entry.v]);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // add [@@species], 23.1.2.2, 23.2.2.2
    setSpecies(NAME);
  }
};


/***/ }),

/***/ 2130:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(7);
var $export = __webpack_require__(10);
var meta = __webpack_require__(190);
var fails = __webpack_require__(35);
var hide = __webpack_require__(28);
var redefineAll = __webpack_require__(185);
var forOf = __webpack_require__(177);
var anInstance = __webpack_require__(184);
var isObject = __webpack_require__(27);
var setToStringTag = __webpack_require__(59);
var dP = __webpack_require__(15).f;
var each = __webpack_require__(2131)(0);
var DESCRIPTORS = __webpack_require__(20);

module.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
  var Base = global[NAME];
  var C = Base;
  var ADDER = IS_MAP ? 'set' : 'add';
  var proto = C && C.prototype;
  var O = {};
  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {
    new C().entries().next();
  }))) {
    // create collection constructor
    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
    redefineAll(C.prototype, methods);
    meta.NEED = true;
  } else {
    C = wrapper(function (target, iterable) {
      anInstance(target, C, NAME, '_c');
      target._c = new Base();
      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);
    });
    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {
      var IS_ADDER = KEY == 'add' || KEY == 'set';
      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {
        anInstance(this, C, KEY);
        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;
        var result = this._c[KEY](a === 0 ? 0 : a, b);
        return IS_ADDER ? this : result;
      });
    });
    IS_WEAK || dP(C.prototype, 'size', {
      get: function () {
        return this._c.size;
      }
    });
  }

  setToStringTag(C, NAME);

  O[NAME] = C;
  $export($export.G + $export.W + $export.F, O);

  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);

  return C;
};


/***/ }),

/***/ 2131:
/***/ (function(module, exports, __webpack_require__) {

// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = __webpack_require__(33);
var IObject = __webpack_require__(126);
var toObject = __webpack_require__(42);
var toLength = __webpack_require__(83);
var asc = __webpack_require__(2132);
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};


/***/ }),

/***/ 2132:
/***/ (function(module, exports, __webpack_require__) {

// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = __webpack_require__(2133);

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};


/***/ }),

/***/ 2133:
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(27);
var isArray = __webpack_require__(199);
var SPECIES = __webpack_require__(6)('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};


/***/ }),

/***/ 2134:
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export = __webpack_require__(10);

$export($export.P + $export.R, 'Set', { toJSON: __webpack_require__(2135)('Set') });


/***/ }),

/***/ 2135:
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var classof = __webpack_require__(85);
var from = __webpack_require__(2136);
module.exports = function (NAME) {
  return function toJSON() {
    if (classof(this) != NAME) throw TypeError(NAME + "#toJSON isn't generic");
    return from(this);
  };
};


/***/ }),

/***/ 2136:
/***/ (function(module, exports, __webpack_require__) {

var forOf = __webpack_require__(177);

module.exports = function (iter, ITERATOR) {
  var result = [];
  forOf(iter, false, result.push, result, ITERATOR);
  return result;
};


/***/ }),

/***/ 2137:
/***/ (function(module, exports, __webpack_require__) {

// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of
__webpack_require__(2138)('Set');


/***/ }),

/***/ 2138:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://tc39.github.io/proposal-setmap-offrom/
var $export = __webpack_require__(10);

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { of: function of() {
    var length = arguments.length;
    var A = Array(length);
    while (length--) A[length] = arguments[length];
    return new this(A);
  } });
};


/***/ }),

/***/ 2139:
/***/ (function(module, exports, __webpack_require__) {

// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from
__webpack_require__(2140)('Set');


/***/ }),

/***/ 2140:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://tc39.github.io/proposal-setmap-offrom/
var $export = __webpack_require__(10);
var aFunction = __webpack_require__(58);
var ctx = __webpack_require__(33);
var forOf = __webpack_require__(177);

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {
    var mapFn = arguments[1];
    var mapping, A, n, cb;
    aFunction(this);
    mapping = mapFn !== undefined;
    if (mapping) aFunction(mapFn);
    if (source == undefined) return new this();
    A = [];
    if (mapping) {
      n = 0;
      cb = ctx(mapFn, arguments[2], 2);
      forOf(source, false, function (nextItem) {
        A.push(cb(nextItem, n++));
      });
    } else {
      forOf(source, false, A.push, A);
    }
    return new this(A);
  } });
};


/***/ }),

/***/ 2141:
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(2142), __esModule: true };

/***/ }),

/***/ 2142:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(122);
module.exports = __webpack_require__(86).f('toStringTag');


/***/ }),

/***/ 2781:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(8);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(9);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = __webpack_require__(0);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _HandModel = __webpack_require__(2782);

var _HandModel2 = _interopRequireDefault(_HandModel);

var _mnn = __webpack_require__(991);

var MNN = _interopRequireWildcard(_mnn);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HandTrackingManagerMnn = function HandTrackingManagerMnn(settings) {
  var _this = this;

  (0, _classCallCheck3.default)(this, HandTrackingManagerMnn);
  this.init = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {
    var webgl, js, mnnWASMBinary, mnnWASMCompiled, mnnWASM, builders;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            webgl = MNN.WebGLBuilder.create({
              precision: MNN.WebGLPrecision.High,
              enableProgramReusing: true,
              enableDownloadAcceleration: true,
              enableUploadAcceleration: true,
              minimumTextureSizeForDownloadAcceleration: 10240,
              minimumTextureSizeForUploadAcceleration: 10240
            }, document.getElementById('YMK-canvas-mnn3'));
            js = MNN.JSBuilder.create();
            _context.next = 4;
            return fetch("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/20210930/mnn.0.0.7.wasm', {
              credentials: 'same-origin'
            });

          case 4:
            mnnWASMBinary = _context.sent;
            _context.next = 7;
            return MNN.WasmBuilder.compile(mnnWASMBinary);

          case 7:
            mnnWASMCompiled = _context.sent;
            _context.next = 10;
            return MNN.WasmBuilder.create(mnnWASMCompiled);

          case 10:
            mnnWASM = _context.sent;
            builders = [webgl, mnnWASM, js];

            _this.initialized = true;

            if (!_this.settings.features.watch) {
              _context.next = 20;
              break;
            }

            _context.next = 16;
            return _this.wristTrackingModel.loadModel(builders);

          case 16:
            _context.next = 18;
            return _this.handPalmModel.loadModel(builders);

          case 18:
            _context.next = 35;
            break;

          case 20:
            if (!_this.settings.features.ring) {
              _context.next = 29;
              break;
            }

            _context.next = 23;
            return _this.palmModel.loadModel(builders);

          case 23:
            _context.next = 25;
            return _this.handModel.loadModel(builders);

          case 25:
            _context.next = 27;
            return _this.ringTrackingModel.loadModel(builders);

          case 27:
            _context.next = 35;
            break;

          case 29:
            _context.next = 31;
            return _this.nailModel.loadModel(builders);

          case 31:
            _context.next = 33;
            return _this.patchModel.loadModel(builders);

          case 33:
            _context.next = 35;
            return _this.palmModel.loadModel(builders);

          case 35:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this);
  }));

  this.detectNail1stPass = function () {
    var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(cropFrame, width, height, x, y, w, h) {
      var first_pass_input_size, first_pass_resize_ratio, input_width, input_height, _cropFrame, input_array, input_buffer, preprocess, heatmap_data, size_data, visible_data, heatmap_array, size_array, visible_array, heatmap_width, heatmap_height;

      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              first_pass_input_size = 192.0;
              first_pass_resize_ratio = Math.sqrt(first_pass_input_size * first_pass_input_size / (width * height));
              input_width = Math.max(Math.round(width * first_pass_resize_ratio) & ~31, 32);
              input_height = Math.max(Math.round(height * first_pass_resize_ratio) & ~31, 32);
              _cropFrame = cropFrame(input_width, input_height, x, y, w, h), input_array = _cropFrame.input_array, input_buffer = _cropFrame.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context2.next = 8;
              return _this.nailModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 8:
              _context2.next = 10;
              return _this.nailModel.model['heat/Sigmoid'].getData('NHWC');

            case 10:
              heatmap_data = _context2.sent;
              _context2.next = 13;
              return _this.nailModel.model['size/Sigmoid'].getData('NHWC');

            case 13:
              size_data = _context2.sent;
              _context2.next = 16;
              return _this.nailModel.model['visible/Sigmoid'].getData('NHWC');

            case 16:
              visible_data = _context2.sent;
              heatmap_array = new Float32Array(heatmap_data.data);
              size_array = new Float32Array(size_data.data);
              visible_array = new Float32Array(visible_data.data);
              heatmap_width = heatmap_data.dims[2];
              heatmap_height = heatmap_data.dims[1];
              return _context2.abrupt('return', { heatmap_array: heatmap_array, size_array: size_array, heatmap_width: heatmap_width, heatmap_height: heatmap_height, visible_array: visible_array, input_buffer: input_buffer });

            case 23:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, _this);
    }));

    return function (_x, _x2, _x3, _x4, _x5, _x6, _x7) {
      return _ref2.apply(this, arguments);
    };
  }();

  this.detectNail2ndPass = function () {
    var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(cropFrame, width, height) {
      var input_width, input_height, _cropFrame2, input_array, input_buffer, preprocess, output_0_data, output_0_array, output_1_data, output_1_array;

      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              input_width = 64;
              input_height = input_width * 5;
              _cropFrame2 = cropFrame(input_width, input_height), input_array = _cropFrame2.input_array, input_buffer = _cropFrame2.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context3.next = 6;
              return _this.patchModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 6:
              _context3.next = 8;
              return _this.patchModel.model['output_sigmoid/Sigmoid'].getData('NHWC');

            case 8:
              output_0_data = _context3.sent;
              output_0_array = new Float32Array(output_0_data.data);
              _context3.next = 12;
              return _this.patchModel.model['direction/sub'].getData('NHWC');

            case 12:
              output_1_data = _context3.sent;
              output_1_array = new Float32Array(output_1_data.data);
              return _context3.abrupt('return', { output_0_array: output_0_array, output_1_array: output_1_array, input_buffer: input_buffer, input_width: input_width, input_height: input_height });

            case 15:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, _this);
    }));

    return function (_x8, _x9, _x10) {
      return _ref3.apply(this, arguments);
    };
  }();

  this.detectPalm = function () {
    var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(cropFrame, width, height) {
      var input_width_height, resize_ratio, input_width, input_height, _cropFrame3, input_array, input_buffer, preprocess, output_data_0, output_data_1, output_data_2, heatmap_array, flag_array, size_array;

      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              input_width_height = 128.0;
              resize_ratio = Math.sqrt(input_width_height * input_width_height / (width * height));
              input_width = Math.round(width * resize_ratio) & ~15;
              input_height = Math.round(height * resize_ratio) & ~15;

              if (input_height == 0) {
                input_height = 16;
                input_width = input_width_height * input_width_height / 16;
              } else if (input_width == 0) {
                input_width = 16;
                input_height = input_width_height * input_width_height / 16;
              }

              _cropFrame3 = cropFrame(input_width, input_height), input_array = _cropFrame3.input_array, input_buffer = _cropFrame3.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context4.next = 9;
              return _this.palmModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 9:
              _context4.next = 11;
              return _this.palmModel.model['output_heatmap/Sigmoid'].getData('NHWC');

            case 11:
              output_data_0 = _context4.sent;
              _context4.next = 14;
              return _this.palmModel.model['output_flag/Sigmoid'].getData('NHWC');

            case 14:
              output_data_1 = _context4.sent;
              _context4.next = 17;
              return _this.palmModel.model['output_size/Sigmoid'].getData('NHWC');

            case 17:
              output_data_2 = _context4.sent;
              heatmap_array = new Float32Array(output_data_0.data);
              flag_array = new Float32Array(output_data_1.data);
              size_array = new Float32Array(output_data_2.data);
              return _context4.abrupt('return', { input_width: input_width, input_height: input_height, heatmap_array: heatmap_array, flag_array: flag_array, size_array: size_array, input_buffer: input_buffer, is_detect_palm: true });

            case 22:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, _this);
    }));

    return function (_x11, _x12, _x13) {
      return _ref4.apply(this, arguments);
    };
  }();

  this.detectHand = function () {
    var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(cropFrame, width, height) {
      var input_width_height, resize_ratio, input_width, input_height, _cropFrame4, input_array, input_buffer, preprocess, output_data, output_array;

      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              input_width_height = 256.0;
              resize_ratio = Math.sqrt(input_width_height * input_width_height / (width * height));
              input_width = Math.round(width * resize_ratio) & ~15;
              input_height = Math.round(height * resize_ratio) & ~15;

              if (input_height == 0) {
                input_height = 16;
                input_width = input_width_height * input_width_height / 16;
              } else if (input_width == 0) {
                input_width = 16;
                input_height = input_width_height * input_width_height / 16;
              }
              _cropFrame4 = cropFrame(input_width, input_height, 0, 0, width, height), input_array = _cropFrame4.input_array, input_buffer = _cropFrame4.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context5.next = 9;
              return _this.handModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 9:
              _context5.next = 11;
              return _this.handModel.model['output_sigmoid/Sigmoid'].getData('NHWC');

            case 11:
              output_data = _context5.sent;
              output_array = new Float32Array(output_data.data);
              return _context5.abrupt('return', { output_array: output_array, input_width: input_width, input_height: input_height, input_buffer: input_buffer });

            case 14:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, _this);
    }));

    return function (_x14, _x15, _x16) {
      return _ref5.apply(this, arguments);
    };
  }();

  this.detectHandPalm = function () {
    var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(cropFrame, width, height) {
      var input_width_height, resize_ratio, input_width, input_height, _cropFrame5, input_array, input_buffer, preprocess, output_data_0, output_data_1, output_data_2, output_data_3, flag_array, size_array, heatmap_array, handseg_array;

      return _regenerator2.default.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              input_width_height = 256.0;
              resize_ratio = Math.sqrt(input_width_height * input_width_height / (width * height));
              input_width = Math.round(width * resize_ratio) & ~31;
              input_height = Math.round(height * resize_ratio) & ~31;

              if (input_height == 0) {
                input_height = 16;
                input_width = input_width_height * input_width_height / 16;
              } else if (input_width == 0) {
                input_width = 16;
                input_height = input_width_height * input_width_height / 16;
              }
              _cropFrame5 = cropFrame(input_width, input_height), input_array = _cropFrame5.input_array, input_buffer = _cropFrame5.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context6.next = 9;
              return _this.handPalmModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 9:
              _context6.next = 11;
              return _this.handPalmModel.model['output_flag/Sigmoid'].getData('NHWC');

            case 11:
              output_data_0 = _context6.sent;
              _context6.next = 14;
              return _this.handPalmModel.model['output_size/Sigmoid'].getData('NHWC');

            case 14:
              output_data_1 = _context6.sent;
              _context6.next = 17;
              return _this.handPalmModel.model['output_heatmap/Sigmoid'].getData('NHWC');

            case 17:
              output_data_2 = _context6.sent;
              _context6.next = 20;
              return _this.handPalmModel.model['output_segment/Sigmoid'].getData('NHWC');

            case 20:
              output_data_3 = _context6.sent;
              flag_array = new Float32Array(output_data_0.data);
              size_array = new Float32Array(output_data_1.data);
              heatmap_array = new Float32Array(output_data_2.data);
              handseg_array = new Float32Array(output_data_3.data);
              return _context6.abrupt('return', { flag_array: flag_array, size_array: size_array, heatmap_array: heatmap_array, handseg_array: handseg_array, input_width: input_width, input_height: input_height, input_buffer: input_buffer });

            case 26:
            case 'end':
              return _context6.stop();
          }
        }
      }, _callee6, _this);
    }));

    return function (_x17, _x18, _x19) {
      return _ref6.apply(this, arguments);
    };
  }();

  this.detectWrist = function () {
    var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(cropFrame) {
      var tracking_model_input_size, input_width, input_height, _cropFrame6, input_array, a, bx, by, input_buffer, preprocess, output_data_0, output_data_1, heatmap_array_0, heatmap_array_1;

      return _regenerator2.default.wrap(function _callee7$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              tracking_model_input_size = 256;
              input_width = tracking_model_input_size;
              input_height = tracking_model_input_size;
              _cropFrame6 = cropFrame(input_width, input_height), input_array = _cropFrame6.input_array, a = _cropFrame6.a, bx = _cropFrame6.bx, by = _cropFrame6.by, input_buffer = _cropFrame6.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context7.next = 7;
              return _this.wristTrackingModel.model['input_1'].setData(input_array, 'uint8', [1, input_height, input_width, 3], 'NHWC', preprocess);

            case 7:
              _context7.next = 9;
              return _this.wristTrackingModel.model['coords_z/BiasAdd'].getData('NHWC');

            case 9:
              output_data_0 = _context7.sent;
              _context7.next = 12;
              return _this.wristTrackingModel.model['heatmaps/Sigmoid'].getData('NHWC');

            case 12:
              output_data_1 = _context7.sent;
              heatmap_array_0 = new Float32Array(output_data_0.data);
              heatmap_array_1 = new Float32Array(output_data_1.data);
              return _context7.abrupt('return', { heatmap_array_0: heatmap_array_0, heatmap_array_1: heatmap_array_1, a: a, bx: bx, by: by, input_buffer: input_buffer, is_mnn: true });

            case 16:
            case 'end':
              return _context7.stop();
          }
        }
      }, _callee7, _this);
    }));

    return function (_x20) {
      return _ref7.apply(this, arguments);
    };
  }();

  this.detectRing = function () {
    var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(cropFrame, width, height) {
      var tracking_model_input_size, tracking_model_input_channel, input_width, input_height, input_channel, _cropFrame7, input_array, input_buffer, preprocess, output_data_0, output_data_1, heatmap_array_0, heatmap_array_1;

      return _regenerator2.default.wrap(function _callee8$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              tracking_model_input_size = 256;
              tracking_model_input_channel = 4;
              input_width = tracking_model_input_size;
              input_height = tracking_model_input_size;
              input_channel = tracking_model_input_channel;
              _cropFrame7 = cropFrame(input_width, input_height, input_channel), input_array = _cropFrame7.input_array, input_buffer = _cropFrame7.input_buffer;
              preprocess = {
                norms: [1 / 255.0]
              };
              _context8.next = 9;
              return _this.ringTrackingModel.model['input_1'].setData(input_array, 'float32', [1, input_height, input_width, input_channel], 'NHWC', preprocess);

            case 9:
              _context8.next = 11;
              return _this.ringTrackingModel.model['coords_z/BiasAdd'].getData('NHWC');

            case 11:
              output_data_0 = _context8.sent;
              _context8.next = 14;
              return _this.ringTrackingModel.model['heatmaps/Sigmoid'].getData('NHWC');

            case 14:
              output_data_1 = _context8.sent;
              heatmap_array_0 = new Float32Array(output_data_0.data);
              heatmap_array_1 = new Float32Array(output_data_1.data);
              return _context8.abrupt('return', { heatmap_array_0: heatmap_array_0, heatmap_array_1: heatmap_array_1, input_buffer: input_buffer, is_mnn: true });

            case 18:
            case 'end':
              return _context8.stop();
          }
        }
      }, _callee8, _this);
    }));

    return function (_x21, _x22, _x23) {
      return _ref8.apply(this, arguments);
    };
  }();

  this.getBackend = function () {
    return '';
  };

  this.settings = settings;
  this.venus_makeup_live = null;
  this.ailibrary = 'mnn';
  this.nailModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220316/nail_detector.mnn');
  this.patchModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220316/nail_detector_patch.mnn');
  this.palmModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20211217/palm_detector.mnn');
  this.handModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220223/hand_detector.mnn');
  this.handPalmModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220301/handpalm_detector.mnn');
  this.wristTrackingModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220301/wrist_tracking_model.mnn');
  this.ringTrackingModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220104/ring_tracking_model.mnn');
  this.ringPoseModel = new _HandModel2.default("https://plugins-media.makeupar.com" + '/webconsultation/tfjs/handtracking/20220104/ring_pose_model.mnn');
  this.isWarmedUp = false;
};

exports.default = HandTrackingManagerMnn;
module.exports = exports['default'];

/***/ }),

/***/ 2782:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(8);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(9);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = __webpack_require__(0);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _mnn = __webpack_require__(991);

var MNN = _interopRequireWildcard(_mnn);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HandModel = function HandModel(url) {
  var _this = this;

  (0, _classCallCheck3.default)(this, HandModel);

  this.loadModel = function () {
    var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(builders) {
      var r, rr;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!_this.isLoaded) {
                _context.next = 2;
                break;
              }

              return _context.abrupt('return');

            case 2:
              _this.isLoaded = true;

              _context.next = 5;
              return fetch(_this.url);

            case 5:
              r = _context.sent;
              _context.next = 8;
              return r.arrayBuffer();

            case 8:
              rr = _context.sent;
              _context.next = 11;
              return MNN.loader.loadMNN(new Uint8Array(rr), builders);

            case 11:
              _this.model = _context.sent;

            case 12:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }();

  this.close = function () {
    _this.model && _this.model.dispose();
    _this.model = null;
    _this.isLoaded = false;
  };

  this.predict = function (props) {
    if (!_this.isLoaded) {
      return;
    }
    return _this.model.predict(props);
  };

  this.url = url;
  this.isLoaded = false;
  this.model = null;
};

exports.default = HandModel;
module.exports = exports['default'];

/***/ }),

/***/ 991:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _from=__webpack_require__(178);var _from2=_interopRequireDefault(_from);var _assign=__webpack_require__(117);var _assign2=_interopRequireDefault(_assign);var _set=__webpack_require__(2126);var _set2=_interopRequireDefault(_set);var _iterator=__webpack_require__(197);var _iterator2=_interopRequireDefault(_iterator);var _promise=__webpack_require__(18);var _promise2=_interopRequireDefault(_promise);var _setPrototypeOf=__webpack_require__(200);var _setPrototypeOf2=_interopRequireDefault(_setPrototypeOf);var _create=__webpack_require__(201);var _create2=_interopRequireDefault(_create);var _toStringTag=__webpack_require__(2141);var _toStringTag2=_interopRequireDefault(_toStringTag);var _symbol=__webpack_require__(198);var _symbol2=_interopRequireDefault(_symbol);var _defineProperty=__webpack_require__(179);var _defineProperty2=_interopRequireDefault(_defineProperty);var _typeof2=__webpack_require__(78);var _typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}!function(t,e){"object"==( false?"undefined":(0,_typeof3.default)(exports))&&"object"==( false?"undefined":(0,_typeof3.default)(module))?module.exports=e(): true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":(0,_typeof3.default)(exports))?exports.MNN=e():t.MNN=e();}(undefined,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports;}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||(0,_defineProperty2.default)(t,e,{enumerable:!0,get:r});},n.r=function(t){"undefined"!=typeof _symbol2.default&&_toStringTag2.default&&(0,_defineProperty2.default)(t,_toStringTag2.default,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(typeof t==="undefined"?"undefined":(0,_typeof3.default)(t))&&t&&t.__esModule)return t;var r=(0,_create2.default)(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t){n.d(r,i,function(e){return t[e];}.bind(null,i));}return r;},n.n=function(t){var e=t&&t.__esModule?function(){return t.default;}:function(){return t;};return n.d(e,"a",e),e;},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e);},n.p="",n(n.s=16);}([function(t,e,n){"use strict";var _r,i=this&&this.__extends||(_r=function r(t,e){return(_r=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__values||function(t){var e="function"==typeof _symbol2.default&&_iterator2.default,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLVar=e.VarShape=void 0;var f=n(8);Object.defineProperty(e,"VarShape",{enumerable:!0,get:function get(){return f.VarShape;}});var d=a(n(1)),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.runtime=n,r._preservedTextures=[],n.retain(),r;}return i(e,t),Object.defineProperty(e.prototype,"inputVars",{get:function get(){return this._inputVars;},enumerable:!1,configurable:!0}),e.prototype.mapInputVar=function(n){var r=this,i=t.prototype.mapInputVar.call(this,n);if(n instanceof e)Object.defineProperty(i,"texture",{get:function get(){return n.texture;}});else{var o=this.runtime;Object.defineProperty(i,"texture",{get:function get(){if(this.getContentState()==f.AlterableState.Const&&this._texture)return this._texture;o.releaseTexture(this._texture);var t=this.shape,e=this.download(),n=p(o.sizeTexture(t),2),i=n[0],s=n[1],a=o.reorderDataToTexture(i,s,t,e),u=o.pushState(),c=o.allocTexture(a,i,s);return o.popState(u),this.getContentState()==f.AlterableState.Const&&(this._texture=c,function(t){r._preservedTextures.push(t);}(c)),c;}});}return i;},e.prototype._prepareDownload=function(t){var e=t.size(),n=p(this.runtime.sizeTexture(new Int32Array([e])),2),r=n[0],i=n[1];if(!this._downloadShape||this._downloadShape.format!=t.format||this._downloadTexture.type!=this.texture.type||this._downloadTexture.width!=r||this._downloadTexture.height!=i){this._downloadShape=new f.VarShape([e],t.format),this.runtime.releaseTexture(this._downloadTexture),this._downloadTexture=this.runtime.allocTexture(this.texture.type,r,i);var o=t.isNHWC()?"\n      int n = o / "+t.size(1)+"; o = o - n * "+t.size(1)+";\n      int h = o / "+t.size(2)+"; o = o - h * "+t.size(2)+";\n      int w = o / "+t.size(3)+", c = o - w * "+t.size(3)+";\n    ":"\n      int n = o / "+t.size(1)+"; o = o - n * "+t.size(1)+";\n      int c = o / "+t.size(2)+"; o = o - c * "+t.size(2)+";\n      int h = o / "+t.size(3)+", w = o - h * "+t.size(3)+";\n    ",s="\n      "+this.runtime.precisionDescription+"\n\n      varying vec2 TexCoords;\n      uniform sampler2D input_s;\n      "+d.genDimsToCoords("coord_input",this.texture,this.shape)+"\n\n      float getIndex(int o) {\n        "+o+"\n\n        int mod = c - c / 4 * 4;\n        vec4 v = texture2D(input_s, coord_input(n, c / 4, h, w));\n        "+d.genVec4Split("v","mod")+"\n      }\n\n      void main() {\n        "+d.genCoordsToDims(this._downloadTexture,"TexCoords",this._downloadShape,"o")+"\n        o = o * 4;\n\n        vec4 result = vec4(\n          getIndex(o + 0),\n          getIndex(o + 1),\n          getIndex(o + 2),\n          getIndex(o + 3)\n        );\n        gl_FragColor = result;\n      }";this.runtime.deleteProgram(this._downloadProgram),this._downloadProgram=this.runtime.compile(s),this._downloadLocation=this.runtime.getUniformLocation(this._downloadProgram,"input_s");}},e.prototype.download=function(t){var e=t?this.shape.asFormat(t):this.shape;if(4!=e.dimensions||!this.runtime.enableDownloadAcceleration||this.runtime.minimumTextureSizeForDownloadAcceleration>e.size()){var n=this.runtime.readTexture(this.texture);return this.runtime.reorderTextureToData(this.texture.width,this.texture.height,e,n);}return this._prepareDownload(e),this.runtime.useProgram(this._downloadProgram),this.runtime.attachFramebuffer(this._downloadTexture),this.runtime.bindTexture(this.texture,this._downloadLocation,0),this.runtime.draw(),this.runtime.readTexture(this._downloadTexture).slice(0,e.size());},e.prototype.release=function(){return u(this,void 0,void 0,function(){var e,n,r,i,o;return c(this,function(s){this.runtime.releaseTexture(this.texture),delete this.texture,this.runtime.releaseTexture(this._downloadTexture),delete this._downloadTexture,this.runtime.deleteProgram(this.program),delete this.program,this.runtime.deleteProgram(this._downloadProgram),delete this._downloadProgram;try{for(e=h(this._preservedTextures),n=e.next();!n.done;n=e.next()){r=n.value,this.runtime.releaseTexture(r);}}catch(t){i={error:t};}finally{try{n&&!n.done&&(o=e.return)&&o.call(e);}finally{if(i)throw i.error;}}return this._preservedTextures=[],this.runtime.release(),t.prototype.release.call(this),[2];});});},e;}(f.OnboardVar);e.WebGLVar=l;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultVertexShaderSource=e.genVec4Split=e.genIndexToCoords=e.genCoordsToIndex=e.genDimsToCoords=e.genCoordsToDims=e.sizeTexture=void 0;var r=n(4),i=n(11);function o(t,e,n){for(var i=n.length,o=4==i?1:i-1,s=n.map(function(t,e){return e==o?r.upDiv(t,4):t;}),a=e,u=[],c=0;c<i;c++){var p=s[c];if(a<p)return{w:void 0,h:void 0,packedDims:s};if(a==p)return u.push(p),{w:Array.prototype.slice.call(s.slice(c+1,i)),h:u,packedDims:s};a%p==0&&(a/=p,u.push(p));}return{w:void 0,h:void 0,packedDims:s};}function s(t,e){return 1==e?t:t+" * "+e;}function a(t,e){return 1==e?t:t+" / "+e;}e.sizeTexture=function(t,e){var n=t instanceof i.VarShape?t.dimensions:t.length;if(0==n)return[1,~~r.upDiv(1,4)];var o=t instanceof i.VarShape?t.dimsAsNCHW:t,s=4==n?1:n-1,a=o.map(function(t,e){return e==s?r.upDiv(t,4):t;}),u=a.reduce(function(t,e){return t*e;});if(u>e*e)return console.error("exceed maximum texture size"),[1,1];if(a.some(function(t){return t>e;}))return[e,r.upDiv(u,e)];for(var c=1,p=1,h=0;h<n-1;){var f=p*a[h];if(f>e)break;p=f,h++;}for(;h<n;){var d=c*a[h];if(d>e)break;c=d,h++;}return h!=n?[e,r.upDiv(u,e)]:[c,p];},e.genCoordsToDims=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++){r[i-3]=arguments[i];}console.assert(r.length==n.dims.length);var u=o(t.width,t.height,n.dimsAsNCHW);return u.w&&u.h?"int "+r.join(", ")+"; {\nint _x = int("+e+".s * float("+t.width+"));\nint _y = int("+e+".t * float("+t.height+"));\n"+u.h.map(function(t,e){var n=u.h.slice(e+1).reduce(function(t,e){return t*e;},1);return r[e]+" = "+a("_y",n)+";"+(e<u.h.length-1?"_y = _y - "+s(r[e],n)+";":"");}).join("\n")+"\n"+u.w.map(function(t,e){var n=u.w.slice(e+1).reduce(function(t,e){return t*e;},1);return r[e+u.h.length]+" = "+a("_x",n)+";"+(e<u.w.length-1?"_x = _x - "+s(r[e+u.h.length],n)+";":"");}).join("\n")+"\n}":"int "+r.join(", ")+"; {\nint _x = int("+e+".s * float("+t.width+"));\nint _y = int("+e+".t * float("+t.height+"));\nint _index = _y * "+t.width+" + _x;\n"+r.map(function(t,e){var n=u.packedDims.slice(e+1).reduce(function(t,e){return t*e;},1);return t+" = "+a("_index",n)+";"+(e<r.length-1?"_index = _index - "+s(t,n)+";":"");}).join("\n")+"\n}";},e.genDimsToCoords=function(t,e,n){for(var r=[],s=3;s<arguments.length;s++){r[s-3]=arguments[s];}var a=n instanceof i.VarShape?n.dimsAsNCHW:n,u=n instanceof i.VarShape?n.dims.length:n.length;0==r.length?r=Array.prototype.slice.call(a).map(function(t,e){return"idx"+e;}):console.assert(a.length==u);var c=r.filter(function(t){return t.length>0;}),p=o(e.width,e.height,a);if(p.w&&p.h){var h=p.h.map(function(t,e){var n=r[e];if(n.length>0)return n+" * "+p.h.slice(e+1).reduce(function(t,e){return t*e;},1);if(1==t)return"";throw"dim "+e+" count not be skipped.";}).filter(function(t){return t.length>0;}),f=p.w.map(function(t,e){var n=r[e+p.h.length];if(n.length>0)return n+" * "+p.w.slice(e+1).reduce(function(t,e){return t*e;},1);if(1==t)return"";throw"dim "+e+" count not be skipped.";}).filter(function(t){return t.length>0;});return"vec2 "+t+"("+c.map(function(t){return"int "+t;}).join(", ")+") {\n"+(h.length>0?"int _y = "+h.join(" + ")+";\n":"int _y = 0;\n")+(f.length>0?"int _x = "+f.join(" + ")+";\n":"int _x = 0;\n")+"return (vec2(_x, _y) + vec2(0.5, 0.5)) / vec2("+e.width+", "+e.height+");\n}";}return"vec2 "+t+"("+c.map(function(t){return"int "+t;}).join(", ")+") {\nint _index = "+r.map(function(t,e){if(t.length>0)return t+" * "+p.packedDims.slice(e+1).reduce(function(t,e){return t*e;},1);if(1==p.packedDims[e])return"";throw"dim "+e+" count not be skipped.";}).filter(function(t){return t.length>0;}).join(" + ")+";\nint _y = _index / "+e.width+";\nint _x = _index - _y * "+e.width+";\nreturn (vec2(_x, _y) + vec2(0.5, 0.5)) / vec2("+e.width+", "+e.height+");\n}";},e.genCoordsToIndex=function(t,e){return"ivec2 "+t+"(vec2 coords) {\n  float s = coords.s * float("+e.width+");\n  float t = coords.t * float("+e.height+");\n  return ivec2(int(s), int(t));\n}";},e.genIndexToCoords=function(t,e){return"vec2 "+t+"(ivec2 index) {\n  vec2 coords = (vec2(index) + vec2(0.5,0.5)) / vec2("+e.width+", "+e.height+");\n  return coords;\n}";},e.genVec4Split=function(t,e,n){var r=n?n+" =":"return";return"\nif ("+e+" == 0) {\n  "+r+" "+t+".x;\n} else if ("+e+" == 1) {\n  "+r+" "+t+".y;\n} else if ("+e+" == 2) {\n  "+r+" "+t+".z;\n} else {\n  "+r+" "+t+".w;\n}";},e.defaultVertexShaderSource=function(){return"\nprecision highp float;\nattribute vec3 position;\nattribute vec2 textureCoord;\nvarying vec2 TexCoords;\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n  TexCoords = textureCoord;\n}";};},function(t,e,n){"use strict";var _r2,i=this&&this.__extends||(_r2=function r(t,e){return(_r2=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r2(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmVar=e.WasmRuntime=e.VarShape=void 0;var a=n(8);Object.defineProperty(e,"VarShape",{enumerable:!0,get:function get(){return a.VarShape;}});var u=n(14);Object.defineProperty(e,"WasmRuntime",{enumerable:!0,get:function get(){return u.WasmRuntime;}});var c=n(5),p=n(6),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.runtime=n,r._preservedData=[],r;}return i(e,t),Object.defineProperty(e.prototype,"inputVars",{get:function get(){return this._inputVars;},enumerable:!1,configurable:!0}),e.prototype.mapInputVar=function(n){var r=this,i=t.prototype.mapInputVar.call(this,n);if(n instanceof e)Object.defineProperty(i,"data",{get:function get(){return n.data;}});else{var o=this.runtime;Object.defineProperty(i,"data",{get:function get(){if(this.getContentState()==a.AlterableState.Const&&this._data)return this._data;var t=this.shape,e=this.download(),n=c.typedArrayGetType(e),i=o.allocData(t,n,e);return this.getContentState()==a.AlterableState.Const&&(this._data=i,function(t){r._preservedData.push(t);}(i)),i;}});}return i;},e.prototype.download=function(t){var e=this.data.typedArray();return t&&t!=this.shape.format?"NCHW"==t?p.reorderNHWCToNCHW(this.shape.dims,e):p.reorderNCHWToNHWC(this.shape.dims,e):e.slice();},e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.data&&(this.runtime.releaseData(this.data),delete this.data),t.prototype.release.call(this),[2];});});},e;}(a.OnboardVar);e.WasmVar=h;},function(t,e,n){"use strict";var _r3,i=this&&this.__extends||(_r3=function r(t,e){return(_r3=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r3(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.JSVar=e.VarShape=void 0;var o=n(8);Object.defineProperty(e,"VarShape",{enumerable:!0,get:function get(){return o.VarShape;}});var s=n(6),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.download=function(t){var e=this.data;return t&&t!=this.shape.format?"NCHW"==t?s.reorderNHWCToNCHW(this.shape.dims,e):s.reorderNCHWToNHWC(this.shape.dims,e):e;},e;}(o.OnboardVar);e.JSVar=a;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.upDiv=void 0,e.upDiv=function(t,e){return Math.floor((t+(e-1))/e);};},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typedArrayGetType=e.typedArrayWithData=void 0,e.typedArrayWithData=function(t,e,n,r){switch(t){case"uint8":return n?new Uint8Array(e,n,r):new Uint8Array(e);case"int8":return n?new Int8Array(e,n,r):new Int8Array(e);case"int32":return n?new Int32Array(e,n,r):new Int32Array(e);case"float32":return n?new Float32Array(e,n,r):new Float32Array(e);default:throw"invalid data type";}},e.typedArrayGetType=function(t){switch(t.constructor){case Uint8Array:return"uint8";case Int8Array:return"int8";case Int32Array:return"int32";case Float32Array:return"float32";default:throw"invalid typed array";}};},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reorderNHWCToNCHW=e.reorderNCHWToNHWC=void 0,e.reorderNCHWToNHWC=function(t,e){if(null==e)return null;if(4!=t.length)return e.slice();for(var n=t[0],r=t[1],i=t.slice(2).reduce(function(t,e){return t*e;},1),o=new e.constructor(n*r*i),s=0,a=0;a<n;a++){for(var u=0;u<r;u++){for(var c=0;c<i;c++){o[a*i*r+c*r+u]=e[s++];}}}return o;},e.reorderNHWCToNCHW=function(t,e){if(null==e)return null;if(4!=t.length)return e.slice();for(var n=t[0],r=t.slice(1,-1).reduce(function(t,e){return t*e;},1),i=t[t.length-1],o=new e.constructor(t.reduce(function(t,e){return t*e;})),s=0,a=0;a<n;a++){for(var u=0;u<r;u++){for(var c=0;c<i;c++){o[a*i*r+c*r+u]=e[s++];}}}return o;};},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDrawElement=e.debug=void 0,e.debug=!1,e.useDrawElement=!1;},function(t,e,n){"use strict";var _r4,i=this&&this.__extends||(_r4=function r(t,e){return(_r4=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r4(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.OnboardVar=e.AlterableState=e.VarShape=void 0;var a=n(25),u=n(11);Object.defineProperty(e,"VarShape",{enumerable:!0,get:function get(){return u.VarShape;}});var c,p=n(5),h=n(6),f=n(7);!function(t){t[t.Unknown=0]="Unknown",t[t.Dirty=1]="Dirty",t[t.Clean=2]="Clean",t[t.Const=3]="Const";}(c=e.AlterableState||(e.AlterableState={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inputVars=[],e._targetVars=[],e._shapeState=c.Unknown,e._computeState=c.Unknown,e;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(t){return[2];});});},e.prototype.setContentInvolvedInVarShape=function(t){var n=t.filter(function(t){return t instanceof e;});n.length>0?this._notifyShapeIsDirty=function(){return n.forEach(function(t){return t.setShapeIsDirty();});}:delete this._notifyShapeIsDirty;},Object.defineProperty(e.prototype,"inputVars",{get:function get(){return this._inputVars;},enumerable:!1,configurable:!0}),e.prototype.mapInputVar=function(t){return t instanceof e?{get shape(){return t.shape;},download:function download(e){return t.download(e);},getShapeState:function getShapeState(){return t._shapeState;},getContentState:function getContentState(){return t._computeState;},_compute:function _compute(e){return t._compute(e);}}:{get shape(){return this._shape;},download:function download(t){return t&&this._shape.format!=t?"NCHW"==t?(this._data=h.reorderNHWCToNCHW(this._shape.dims,this._data),this._data):(this._data=h.reorderNCHWToNHWC(this._shape.dims,this._data),this._data):this._data;},_compute:function _compute(t){},getShapeState:function getShapeState(){return c.Dirty;},getContentState:function getContentState(){return c.Dirty;}};},e.prototype.mapTargetVar=function(t){return t instanceof e?{setShapeIsDirty:function setShapeIsDirty(){return t.setShapeIsDirty();},setContentIsDirty:function setContentIsDirty(){return t.setContentIsDirty();}}:{setShapeIsDirty:function setShapeIsDirty(){},setContentIsDirty:function setContentIsDirty(){}};},e.prototype.connect=function(t,e){var n=this;this.__inputs=t,this.__targets=e,this._inputVars=t.map(function(t){return n.mapInputVar(t);}),this._targetVars=e.map(function(t){return n.mapTargetVar(t);});},e.prototype.setData=function(t,e,n,r,i){return o(this,void 0,void 0,function(){return s(this,function(t){throw"set data to non-Input variable is illegal!";});});},e.prototype.getData=function(t){return o(this,void 0,void 0,function(){var e,n;return s(this,function(r){return this._compute(),e=this.download(t),n=[],this.shape.dimsAsFormat(t).forEach(function(t){return n.push(t);}),[2,{type:p.typedArrayGetType(e),dims:n,data:e.buffer}];});});},e.prototype.resize=function(){return!1;},e.prototype.compute=function(){},e.prototype._compute=function(t){return o(this,void 0,void 0,function(){var e,n;return s(this,function(r){return(t=t||new _set2.default()).has(this)||(t.add(this),this._inputVars.forEach(function(e){return e._compute(t);}),this._shapeState!=c.Unknown&&this._shapeState!=c.Dirty||(e=this.resize(),this._shapeState==c.Unknown?(n=this._inputVars.some(function(t){return t.getShapeState()!=c.Const;}),this._shapeState=n?c.Clean:c.Const):(e&&this._targetVars.forEach(function(t){return t.setShapeIsDirty();}),this._shapeState=c.Clean),f.debug&&console.log("resized <"+this.constructor.name+"> "+this.name+" to "+(this.shape?this.shape.dims:""))),this._computeState!=c.Unknown&&this._computeState!=c.Dirty||(this.compute(),this._computeState==c.Unknown?(n=this._inputVars.some(function(t){return t.getContentState()!=c.Const;}),this._computeState=n?c.Clean:c.Const):(this._targetVars.forEach(function(t){return t.setContentIsDirty();}),this._computeState=c.Clean,this._notifyShapeIsDirty&&this._notifyShapeIsDirty()),f.debug&&console.log("computed <"+this.constructor.name+"> "+this.name))),[2];});});},e.prototype.setShapeIsConst=function(){this._shapeState=c.Const;},e.prototype.setShapeIsDirty=function(){this._shapeState!=c.Const&&(this._shapeState=c.Dirty,this._computeState=c.Dirty);},e.prototype.setContentIsConst=function(){this._shapeState=c.Const,this._computeState=c.Const;},e.prototype.setContentIsDirty=function(){this._computeState!=c.Const&&(this._computeState=c.Dirty);},e;}(a.Variable);e.OnboardVar=d;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnboardBuilder=void 0;var r=function(){function t(){this._variables={};}return t.prototype.supportedOperators=function(){var t=[];for(var e in this){e.startsWith("build")&&t.push(e.substr(5));}return t;},t.prototype.begin=function(){this._variables={};},t.prototype.finish=function(t,e){return _promise2.default.resolve(this._variables);},t;}();e.OnboardBuilder=r;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLPrecision=void 0,function(t){t[t.High=0]="High",t[t.Medium=1]="Medium",t[t.Low=2]="Low";}(e.WebGLPrecision||(e.WebGLPrecision={}));},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(r(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.VarShape=void 0;var o=function(){function t(t,e){this._format="NHWC"==e?e:"NCHW",this.dims=new Int32Array(t.length>0?t:[1]),this.dimensions=t.length;}return Object.defineProperty(t.prototype,"format",{get:function get(){return this._format;},enumerable:!1,configurable:!0}),t.prototype.isNHWC=function(){return"NHWC"==this._format;},t.prototype.isNCHW=function(){return"NCHW"==this._format;},Object.defineProperty(t.prototype,"dimsAsNHWC",{get:function get(){return this.isNHWC()||4!=this.dimensions?this.dims.slice():new Int32Array(i([this.dims[0]],this.dims.slice(2),[this.dims[1]]));},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimsAsNCHW",{get:function get(){return this.isNCHW()||4!=this.dimensions?this.dims.slice():new Int32Array(i([this.dims[0]],this.dims.slice(-1),this.dims.slice(1,-1)));},enumerable:!1,configurable:!0}),t.prototype.dimsAsFormat=function(t){return"NHWC"==t?this.dimsAsNHWC:this.dimsAsNCHW;},t.prototype.asNHWC=function(){return new t(this.dimsAsNHWC,"NHWC");},t.prototype.asNCHW=function(){return new t(this.dimsAsNCHW,"NCHW");},t.prototype.asFormat=function(t){var e="NHWC"==t?this.asNHWC():this.asNCHW();return e.dimensions=this.dimensions,e;},t.prototype.copy=function(){var e=new t(this.dims,this._format);return e.dimensions=this.dimensions,e;},t.isEqual=function(t,e){if(!t&&!e)return!0;if(t&&!e)return!1;if(!t&&e)return!1;if(t.dimensions!=e.dimensions)return!1;var n=t.dims,r=e.dimsAsFormat(t._format);return!n.some(function(t,e){return t!=r[e];});},t.isStrictEqual=function(t,e){if(!t&&!e)return!0;if(t&&!e)return!1;if(!t&&e)return!1;if(t.dimensions!=e.dimensions)return!1;if(t._format!=e._format)return!1;var n=t.dims,r=e.dims;return!n.some(function(t,e){return t!=r[e];});},t.prototype.size=function(t,e){return(null!=t?this.dims.slice(t,e):this.dims).reduce(function(t,e){return t*e;},1);},t;}();e.VarShape=o;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableImpl=void 0;var r=function(){function t(){this.retainCount=0,this.disposed=!1;}return t.prototype.retain=function(){this.retainCount++;},t.prototype.release=function(){this.retainCount--,this.retainCount<=0&&!this.disposed&&(this.dispose(),this.disposed=!0);},t;}();e.DisposableImpl=r;},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.reorderTextureToData=e.reorderDataToTexture=void 0;var i=n(4),o=n(11);e.reorderDataToTexture=function(t,e,n,s){if(null==s)return null;var a=n instanceof o.VarShape?n.dimsAsNCHW:n;if(4!=(n instanceof o.VarShape?n.dims.length:n.length)){var u=a.slice(0,-1).reduce(function(t,e){return t*e;},1),c=a[a.length-1],p=4*i.upDiv(c,4);if(c==p)return s;for(var h=new s.constructor(e*t*4),f=0;f<u;f++){h.set(s.subarray(f*c,f*c+c),f*p);}return h;}var d=n instanceof o.VarShape&&n.isNHWC(),l=r(a,4),b=l[0],_=l[1],y=l[2],m=l[3];if(d&&4==_)return s;var v=i.upDiv(_,4),g=y*m,x=new s.constructor(e*t*4);if(d)for(var T=0,w=0;w<b;w++){for(var S=0;S<g;S++){for(var I=0,O=4*(w*v*g+S);I+3<_;I+=4,O+=4*g){x[O]=s[T++],x[O+1]=s[T++],x[O+2]=s[T++],x[O+3]=s[T++];}for(;I<_;I++){x[O+I%4]=s[T++];}}}else for(w=0;w<b;w++){for(I=0;I+3<_;I+=4){var N=4*(w*v*g+I/4*g),A=w*_*g+I*g;for(S=0;S<g;S++,N+=4,A+=1){x[N]=s[A],x[N+1]=s[A+g],x[N+2]=s[A+2*g],x[N+3]=s[A+3*g];}}for(;I<_;I++){for(N=4*(w*v*g+Math.floor(I/4)*g)+I%4,A=w*_*g+I*g,S=0;S<g;S++,N+=4,A+=1){x[N]=s[A];}}}return x;},e.reorderTextureToData=function(t,e,n,s){if(null==s)return null;var a=n instanceof o.VarShape?n.dimsAsNCHW:n;if(4!=(n instanceof o.VarShape?n.dims.length:n.length)){var u=a.slice(0,-1).reduce(function(t,e){return t*e;},1),c=a[a.length-1],p=4*i.upDiv(c,4);if(c==p)return s;for(var h=new s.constructor(a.reduce(function(t,e){return t*e;},1)),f=0;f<u;f++){h.set(s.subarray(f*p,f*p+c),f*c);}return h;}var d=n instanceof o.VarShape&&n.isNHWC(),l=r(a,4),b=l[0],_=l[1],y=l[2],m=l[3];if(d&&4==_)return s;var v=i.upDiv(_,4),g=y*m,x=new s.constructor(a.reduce(function(t,e){return t*e;},1));if(d)for(var T=0,w=0;w<b;w++){for(var S=0;S<g;S++){for(var I=0,O=4*(w*v*g+S);I+3<_;I+=4,O+=4*g){x[T++]=s[O],x[T++]=s[O+1],x[T++]=s[O+2],x[T++]=s[O+3];}for(;I<_;I++){x[T++]=s[O+I%4];}}}else for(T=0,w=0;w<b;w++){for(I=0;I+3<_;I+=4){var N=w*_*g+I*g,A=4*(w*v*g+I/4*g);for(S=0;S<g;S++,A+=4,N+=1){x[N]=s[A],x[N+g]=s[A+1],x[N+2*g]=s[A+2],x[N+3*g]=s[A+3];}}for(;I<_;I++){for(N=w*_*g+I*g,A=4*(w*v*g+Math.floor(I/4)*g)+I%4,S=0;S<g;S++,A+=4,N+=1){x[N]=s[A];}}}return x;};},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmRuntime=void 0;var o=n(8),s=n(5),a=n(15),u=function(){function t(t){this._module=t;}return t.create=function(e){return r(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:return n=new WebAssembly.Memory({initial:256,maximum:32768}),r={env:{emscripten_notify_memory_growth:function emscripten_notify_memory_growth(){},memory:n}},[4,WebAssembly.instantiate(e,r)];case 1:return(o=i.sent()).exports._start(),[2,o?new t(o):null];}});});},t.prototype.buffer=function(){return this._module.exports.memory.buffer;},t.prototype.dataAsTypedArray=function(t){return s.typedArrayWithData(t.type,this.buffer(),t.offset,t.size);},t.prototype.allocData=function(t,e,n){var r=this._module.exports.alloc,i=(t instanceof o.VarShape?t.dims:t).reduce(function(t,e){return t*e;}),s=r((0==i?1:i)*a.bytesForDataType(e)),u=this.buffer();if(n){var c=new Uint8Array(u,s),p=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);c.set(p,0);}var h=this;return{type:e,offset:s,size:i,typedArray:function typedArray(){return h.dataAsTypedArray(this);}};},t.prototype.releaseData=function(t){t&&(0,this._module.exports.release)(t.offset);},t.prototype.kernel=function(t){return this._module.exports[t];},t;}();e.WasmRuntime=u;},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytesForDataType=void 0,e.bytesForDataType=function(t){switch(t){case"float32":return Float32Array.BYTES_PER_ELEMENT;case"int32":return Int32Array.BYTES_PER_ELEMENT;case"int8":return Int8Array.BYTES_PER_ELEMENT;case"uint8":return Uint8Array.BYTES_PER_ELEMENT;default:throw"invalid data type";}};},function(t,e,n){t.exports=n(17);},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);Object.defineProperty(e,"loader",{enumerable:!0,get:function get(){return r.loader;}});var i=n(21);Object.defineProperty(e,"WebGLBuilder",{enumerable:!0,get:function get(){return i.WebGLBuilder;}}),Object.defineProperty(e,"WebGLPrecision",{enumerable:!0,get:function get(){return i.WebGLPrecision;}});var o=n(54);Object.defineProperty(e,"WasmBuilder",{enumerable:!0,get:function get(){return o.WasmBuilder;}});var s=n(80);Object.defineProperty(e,"JSBuilder",{enumerable:!0,get:function get(){return s.JSBuilder;}});},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=_assign2.default||function(t){for(var e,n=1,r=arguments.length;n<r;n++){for(var i in e=arguments[n]){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);}}return t;}).apply(this,arguments);},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},s=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(s(arguments[e]));}return t;},u=this&&this.__values||function(t){var e="function"==typeof _symbol2.default&&_iterator2.default,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(e,"__esModule",{value:!0}),e.loader=void 0;var c=n(19),p=n(7),h=n(20),f=h.MNN.OpType,d=h.MNN.OpType;function l(t){switch(t){case h.MNN.MNN_DATA_FORMAT.NCHW:return"NCHW";case h.MNN.MNN_DATA_FORMAT.NHWC:return"NHWC";case h.MNN.MNN_DATA_FORMAT.NC4HW4:default:return"NC4HW4";}}function b(t){switch(t){case h.MNN.DataType.DT_FLOAT:return"float32";case h.MNN.DataType.DT_INT32:return"int32";case h.MNN.DataType.DT_INT8:return"int8";case h.MNN.DataType.DT_UINT8:return"uint8";case h.MNN.DataType.DT_INVALID:default:return"invalid";}}function _(t){var e=0;return t>255&&(t>>=8,e+=8),t>15&&(t>>=4,e+=4),t>3&&(t>>=2,e+=2),e+=t>>1;}function y(t,e,n,r,i){var o=t["build"+d[e.type()]];switch(e.type()){case f.Const:var s=e.main(new h.MNN.Blob()),a=s.float32sLength()>0?s.float32sArray():s.int32sLength()>0?s.int32sArray():s.int8sLength()>0?s.int8sArray():s.uint8sLength()>0?s.uint8sArray():void 0;if(!a)throw"data of const not found.";o.call(t,n,r,i,b(s.dataType()),l(s.dataFormat()),s.dimsArray(),a);break;case f.Input:var u=e.main(new h.MNN.Input());o.call(t,n,r,i,b(u.dtype()),l(u.dformat()),u.dimsArray());break;case f.Convolution:case f.ConvolutionDepthwise:var c=e.main(new h.MNN.Convolution2D()),p=c.common(),y=c.quanParameter(),m=y?y.bufferArray():void 0;o.call(t,n,r,i,m?function(t){for(var e=new Uint16Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)),n=new Uint32Array(e.length),r=0;r<e.length;r++){var i=e[r],o=(i&=65535)>>15&1,s=i>>10&31,a=1023&i;if(0==s){if(a>0){var u=10-_(a);a=a<<u&1023,s=113-u;}}else 31==s?s=255:s+=112;n[r]=o<<31|s<<23|a<<13;}return new Float32Array(n.buffer);}(m):c.weightArray(),c.biasArray(),[p.inputCount(),p.outputCount()],[p.kernelX(),p.kernelY()],[p.dilateX(),p.dilateY()],[p.strideX(),p.strideY()],[p.padX(),p.padY()],function(t){switch(t){case h.MNN.PadMode.CAFFE:return"caffe";case h.MNN.PadMode.VALID:return"valid";case h.MNN.PadMode.SAME:default:return"same";}}(p.padMode()),p.group(),p.relu()?"relu":p.relu6()?"relu6":"none");break;case f.ReLU:var v=e.main(new h.MNN.Relu());o.call(t,n,r,i,v.slope());break;case f.PReLU:var g=e.main(new h.MNN.PRelu());o.call(t,n,r,i,g.slopeArray());break;case f.Pooling:var x=e.main(new h.MNN.Pool());o.call(t,n,r,i,function(t){switch(t){case h.MNN.PoolType.MAXPOOL:return"max";case h.MNN.PoolType.AVEPOOL:default:return"average";}}(x.type()),x.isGlobal()?[-1,-1]:[x.kernelX(),x.kernelY()],[x.strideX(),x.strideY()],function(t){switch(t){case h.MNN.PoolPadType.CAFFE:return"caffe";case h.MNN.PoolPadType.VALID:return"valid";case h.MNN.PoolPadType.SAME:default:return"same";}}(x.padType()),[x.padX(),x.padY()],x.ceilModel(),x.isGlobal());break;case f.BinaryOp:var T=e.main(new h.MNN.BinaryOp());o.call(t,n,r,i,function(t){switch(t){case h.MNN.BinaryOpOperation.ADD:return"add";case h.MNN.BinaryOpOperation.SUB:return"sub";case h.MNN.BinaryOpOperation.MUL:return"mul";case h.MNN.BinaryOpOperation.DIV:return"div";case h.MNN.BinaryOpOperation.REALDIV:return"real_div";case h.MNN.BinaryOpOperation.POW:return"pow";case h.MNN.BinaryOpOperation.MINIMUM:return"min";case h.MNN.BinaryOpOperation.MAXIMUM:return"max";case h.MNN.BinaryOpOperation.GREATER:return"greater";case h.MNN.BinaryOpOperation.GREATER_EQUAL:return"greater_equal";case h.MNN.BinaryOpOperation.LESS:return"less";case h.MNN.BinaryOpOperation.LESS_EQUAL:return"less_equal";case h.MNN.BinaryOpOperation.EQUAL:return"equal";case h.MNN.BinaryOpOperation.FLOORDIV:return"floor_div";case h.MNN.BinaryOpOperation.FLOORMOD:return"floor_mod";case h.MNN.BinaryOpOperation.SquaredDifference:return"squared_difference";default:throw"unsupported binary operation type: "+t;}}(T.opType()));break;case f.UnaryOp:var w=e.main(new h.MNN.UnaryOp());o.call(t,n,r,i,function(t){switch(t){case h.MNN.UnaryOpOperation.ABS:return"abs";case h.MNN.UnaryOpOperation.NEG:return"neg";case h.MNN.UnaryOpOperation.CEIL:return"ceil";case h.MNN.UnaryOpOperation.FLOOR:return"floor";case h.MNN.UnaryOpOperation.SQUARE:return"square";case h.MNN.UnaryOpOperation.SQRT:return"sqrt";case h.MNN.UnaryOpOperation.RSQRT:return"rsqrt";case h.MNN.UnaryOpOperation.EXP:return"exp";case h.MNN.UnaryOpOperation.LOG:return"log";case h.MNN.UnaryOpOperation.SIGN:return"sign";case h.MNN.UnaryOpOperation.ROUND:return"round";case h.MNN.UnaryOpOperation.SIN:return"sin";case h.MNN.UnaryOpOperation.COS:return"cos";case h.MNN.UnaryOpOperation.TAN:return"tan";case h.MNN.UnaryOpOperation.ASIN:return"asin";case h.MNN.UnaryOpOperation.ACOS:return"acos";case h.MNN.UnaryOpOperation.ATAN:return"atan";case h.MNN.UnaryOpOperation.RECIPROCAL:return"reciprocal";default:throw"unsupported unary operation type: "+t;}}(w.opType()));break;case f.Reduction:var S=e.main(new h.MNN.ReductionParam());o.call(t,n,r,i,function(t){switch(t){case h.MNN.ReductionType.SUM:return"sum";case h.MNN.ReductionType.MEAN:return"mean";case h.MNN.ReductionType.MAXIMUM:return"max";case h.MNN.ReductionType.MINIMUM:return"min";case h.MNN.ReductionType.PROD:return"prod";case h.MNN.ReductionType.ANY:return"any";case h.MNN.ReductionType.ALL:return"all";default:throw"unsupported reduction type: "+t;}}(S.operation()),S.dimArray(),S.keepDims());break;case f.Reshape:var I=e.main(new h.MNN.Reshape());o.call(t,n,r,i,I.dimsArray(),l(I.dimType()));break;case f.MatMul:var O=e.main(new h.MNN.MatMul());o.call(t,n,r,i,O.transposeA(),O.transposeB());break;case f.BatchMatMul:O=e.main(new h.MNN.BatchMatMulParam());o.call(t,n,r,i,O.adjX(),O.adjY());break;case f.Softmax:var N=e.main(new h.MNN.Axis());o.call(t,n,r,i,N.axis());break;case f.ConvertTensor:var A=e.main(new h.MNN.TensorConvertInfo());o.call(t,n,r,i,l(A.source()),l(A.dest()));break;case f.Normalize:var P=e.main(new h.MNN.Normalize());o.call(t,n,r,i,P.acrossSpatial(),P.channelShared(),P.eps(),P.scaleArray());break;case f.Eltwise:var D=e.main(new h.MNN.Eltwise());o.call(t,n,r,i,function(t){switch(t){case h.MNN.EltwiseType.PROD:return"prod";case h.MNN.EltwiseType.SUM:return"sum";case h.MNN.EltwiseType.MAXIMUM:return"max";case h.MNN.EltwiseType.SUB:return"sub";default:throw"unsupported eltwise type: "+t;}}(D.type()),D.coeffArray());break;case f.Concat:var V=e.main(new h.MNN.Axis());o.call(t,n,r,i,V.axis());break;case f.Scale:var F=e.main(new h.MNN.Scale());o.call(t,n,r,i,F.channels(),F.scaleDataArray(),F.biasDataArray());break;case f.ExpandDims:var E=e.main(new h.MNN.ExpandDims());o.call(t,n,r,i,E.axis());break;case f.Pack:var R=e.main(new h.MNN.PackParam());o.call(t,n,r,i,R.axis());break;case f.Unpack:var M=e.main(new h.MNN.Axis());o.call(t,n,r,i,M.axis());break;case f.CropAndResize:var C=e.main(new h.MNN.CropAndResize());o.call(t,n,r,i,C.extrapolationValue(),function(t){switch(t){case h.MNN.CropAndResizeMethod.NEAREST:return"nearest";case h.MNN.CropAndResizeMethod.BILINEAR:return"bilinear";default:throw"unsupported interpolation method: "+t;}}(C.method()));break;case f.Slice:var L=e.main(new h.MNN.Slice());o.call(t,n,r,i,L.axis(),L.slicePointsArray());break;case f.StridedSlice:var z=e.main(new h.MNN.StridedSliceParam());o.call(t,n,r,i,b(z.T()),z.beginMask(),z.endMask(),z.ellipsisMask(),z.newAxisMask(),z.shrinkAxisMask());break;case f.Squeeze:case f.Unsqueeze:var j=e.main(new h.MNN.SqueezeParam());o.call(t,n,r,i,j.squeezeDimsArray());break;case f.Interp:var k=e.main(new h.MNN.Interp());o.call(t,n,r,i,k.widthScale(),k.heightScale(),k.outputWidth(),k.outputHeight(),k.resizeType(),k.alignCorners());break;case f.Cast:var B=e.main(new h.MNN.CastParam());o.call(t,n,r,i,B.srcT(),B.dstT());break;case f.SpaceToDepth:case f.DepthToSpace:var U=e.main(new h.MNN.DepthSpaceParam());o.call(t,n,r,i,U.blockSize());break;case f.SpaceToBatchND:case f.BatchToSpaceND:var W=(U=e.main(new h.MNN.SpaceBatch())).blockShape(new h.MNN.Blob()),G=U.padding(new h.MNN.Blob());o.call(t,n,r,i,W.int32sArray(),W.dimsArray(),G.int32sArray(),G.dimsArray());break;case f.Permute:var H=e.main(new h.MNN.Permute());o.call(t,n,r,i,H.dimsArray());break;case f.PriorBox:var Q=e.main(new h.MNN.PriorBox());o.call(t,n,r,i,Q.minSizesArray(),Q.maxSizesArray(),Q.aspectRatiosArray(),Q.flip(),Q.clip(),Q.variancesArray(),[Q.imageHeight(),Q.imageWidth()],[Q.stepHeight(),Q.stepWidth()],Q.offset());break;case f.DetectionOutput:U=e.main(new h.MNN.DetectionOutput());o.call(t,n,r,i,U.classCount(),U.shareLocation(),U.backgroundLable(),U.nmsThresholdold(),U.nmsTopK(),U.codeType(),U.varianceEncodedTarget(),U.keepTopK(),U.confidenceThreshold(),U.objectnessScore());break;case f.Selu:var X=e.main(new h.MNN.Selu());o.call(t,n,r,i,X.scale(),X.alpha());break;case f.ELU:var q=e.main(new h.MNN.ELU());o.call(t,n,r,i,q.alpha());break;case f.Moments:var Z=e.main(new h.MNN.MomentsParam());o.call(t,n,r,i,Z.dimArray(),Z.keepDims());break;case f.OneHot:U=e.main(new h.MNN.OneHotParam());o.call(t,n,r,i,U.axis());break;case f.ReverseSequence:U=e.main(new h.MNN.ReverseSequenceParam());o.call(t,n,r,i,U.batchDim(),U.seqDim());break;case f.Shape:o.call(t,n,r,i,l(e.defaultDimentionFormat()));break;case f.Fill:case f.Gather:case f.GatherV2:case f.GatherND:case f.Padding:case f.Sigmoid:case f.SliceTf:case f.TanH:case f.Tile:case f.Transpose:case f.ReLU6:case f.Size:case f.Rank:case f.Range:case f.ZerosLike:case f.BroadcastTo:case f.SetDiff1D:case f.UnravelIndex:case f.ScatterNd:case f.MatrixBandPart:case f.NonMaxSuppressionV2:case f.Select:case f.TopKV2:case f.Where:o.call(t,n,r,i);break;default:throw"unsupported op: "+i+" type: "+d[e.type()]+"!";}return t;}function m(t,e,n){var r=n[e];if(r){var i=new Int32Array(r.length+t.length);i.set(r),i.set(t,r.length),n[e]=i;}else n[e]=t.slice();}function v(t,e){return i(this,void 0,void 0,function(){var n,i,s,c,h,f,l,b,_,v,g,x,T,w,S,I,O,N,A,P,D,V;return o(this,function(o){switch(o.label){case 0:for(n={},i={},s=[],c=0;c<e.oplistsLength();c++){if(h=e.oplists(c),h.type(),f=h.inputIndexesArray(),l=h.outputIndexesArray(),p.debug&&console.log("found "+c+" / "+h.name()+". "+f+" => "+l+"."),f&&0!=f.length||s.push(c),f&&l){for(b=0;b<f.length;b++){m(l,f[b],i);}for(b=0;b<l.length;b++){m(f,l[b],n);}}}for(_=(0,_from2.default)({length:e.oplistsLength()},function(t,e){return e;}).sort(function(t,e){var n=s.includes(t)?1:0;return(s.includes(e)?1:0)-n;}),v=[],g={},t.forEach(function(t){return t.begin();}),x=function x(){var n=_.shift();if(v.includes(n))return"continue";var r=e.oplists(n),i=r.inputIndexesArray()||new Int32Array(0);if(i.some(function(t){return!g[t];})){if(0==_.length)throw"recursive dependency found";return _.push(n),"continue";}v.push(n);var o="build"+d[r.type()],s=t.filter(function(t){return(null==t.maximumInputs||t.maximumInputs>i.length)&&null!=t[o];});if(0==s.length)throw"unsupported op: "+r.name()+", method: "+o+", type: "+d[r.type()]+"!";var u=s[0];if(i.length>0){var c=g[i[0]];s.includes(c)&&!i.some(function(t){return g[t]!=c;})&&(u=c);}var h=r.outputIndexesArray()||new Int32Array(0);h.forEach(function(t){return g[t]=u;});var f=a(h).map(function(t){return e.tensorName(t);});y(u,r,i,h,f),p.debug&&console.log("choose "+u.constructor.name+" for "+r.name()+".");};_.length>0;){x();}T={},o.label=1;case 1:o.trys.push([1,6,7,8]),w=u(t),S=w.next(),o.label=2;case 2:return S.done?[3,5]:(I=S.value,O=[r({},T)],[4,I.finish()]);case 3:T=r.apply(void 0,O.concat([o.sent()])),o.label=4;case 4:return S=w.next(),[3,2];case 5:return[3,8];case 6:return N=o.sent(),D={error:N},[3,8];case 7:try{S&&!S.done&&(V=w.return)&&V.call(w);}finally{if(D)throw D.error;}return[7];case 8:for(P in A=function A(t){var e=T[t],r=[],o=[];n[t]&&n[t].forEach(function(t){return r.push(T[t]);}),i[t]&&i[t].forEach(function(t){return o.push(T[t]);}),e.connect(r,o);},T){A(P);}return[2,T];}});});}var g=function(){function t(){}return t.loadMNN=function(t,e,n,r){return i(this,void 0,void 0,function(){var n,r,i,s,a,u,p;return o(this,function(o){switch(o.label){case 0:if(null==t||t.length<=0)throw"null or empty bytes.";if(0==e.length)throw"no builder provided.";if(n=new c.flatbuffers.ByteBuffer(t),(r=h.MNN.Net.getRootAsNet(n)).oplistsLength()<=0)throw"no operator found.";return[4,v(e,r)];case 1:for(a in i=o.sent(),s={},i){u=i[a],p=r.tensorName(Number(a)),u.name=p,s[p]=u;}return[2,s];}});});},t;}();e.loader=g;},function(t,e,n){"use strict";n.r(e),n.d(e,"flatbuffers",function(){return r;});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(t,e){this.low=0|t,this.high=0|e;},r.Long.create=function(t,e){return 0==t&&0==e?r.Long.ZERO:new r.Long(t,e);},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high;},r.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high;},r.Long.ZERO=new r.Long(0,0),r.Builder=function(t){if(t)e=t;else var e=1024;this.bb=r.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1;},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1;},r.Builder.prototype.forceDefaults=function(t){this.force_defaults=t;},r.Builder.prototype.dataBuffer=function(){return this.bb;},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset());},r.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<n+t+e;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i;}this.pad(n);},r.Builder.prototype.pad=function(t){for(var e=0;e<t;e++){this.bb.writeInt8(--this.space,0);}},r.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t);},r.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t);},r.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t);},r.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t);},r.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t);},r.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t);},r.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t);},r.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t);},r.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t);},r.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t);},r.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t);},r.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t);},r.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t));},r.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t));},r.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t));},r.Builder.prototype.addFieldInt64=function(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t));},r.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t));},r.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t));},r.Builder.prototype.addFieldOffset=function(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t));},r.Builder.prototype.addFieldStruct=function(t,e,n){e!=n&&(this.nested(e),this.slot(t));},r.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.");},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.");},r.Builder.prototype.slot=function(t){this.vtable[t]=this.offset();},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space;},r.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i;},r.Builder.prototype.addOffset=function(t){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-t+r.SIZEOF_INT);},r.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++){this.vtable[e]=0;}this.isNested=!0,this.object_start=this.offset();},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--){}for(var n=e+1;e>=0;e--){this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);}this.addInt16(t-this.object_start);var i=(n+2)*r.SIZEOF_SHORT;this.addInt16(i);var o=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(a)){for(var u=r.SIZEOF_SHORT;u<i;u+=r.SIZEOF_SHORT){if(this.bb.readInt16(s+u)!=this.bb.readInt16(a+u))continue t;}o=this.vtables[e];break;}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t;},r.Builder.prototype.finish=function(t,e,n){var i=n?r.SIZE_PREFIX_LENGTH:0;if(e){var o=e;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+i),o.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var s=r.FILE_IDENTIFIER_LENGTH-1;s>=0;s--){this.writeInt8(o.charCodeAt(s));}}this.prep(this.minalign,r.SIZEOF_INT+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space);},r.Builder.prototype.finishSizePrefixed=function(t,e){this.finish(t,e,!0);},r.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(r+e)))throw new Error("FlatBuffers: field "+e+" must be set");},r.Builder.prototype.startVector=function(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(r.SIZEOF_INT,t*e),this.prep(n,t*e);},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset();},r.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var n=0;n<t.length;){var r,i=t.charCodeAt(n++);if(i<55296||i>=56320)r=i;else r=(i<<10)+t.charCodeAt(n++)+-56613888;r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128));}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);n=0;for(var o=this.space,s=this.bb.bytes();n<e.length;n++){s[o++]=e[n];}return this.endVector();},r.Builder.prototype.createLong=function(t,e){return r.Long.create(t,e);},r.ByteBuffer=function(t){this.bytes_=t,this.position_=0;},r.ByteBuffer.allocate=function(t){return new r.ByteBuffer(new Uint8Array(t));},r.ByteBuffer.prototype.clear=function(){this.position_=0;},r.ByteBuffer.prototype.bytes=function(){return this.bytes_;},r.ByteBuffer.prototype.position=function(){return this.position_;},r.ByteBuffer.prototype.setPosition=function(t){this.position_=t;},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length;},r.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24;},r.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t];},r.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16;},r.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8;},r.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24;},r.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0;},r.ByteBuffer.prototype.readInt64=function(t){return new r.Long(this.readInt32(t),this.readInt32(t+4));},r.ByteBuffer.prototype.readUint64=function(t){return new r.Long(this.readUint32(t),this.readUint32(t+4));},r.ByteBuffer.prototype.readFloat32=function(t){return r.int32[0]=this.readInt32(t),r.float32[0];},r.ByteBuffer.prototype.readFloat64=function(t){return r.int32[r.isLittleEndian?0:1]=this.readInt32(t),r.int32[r.isLittleEndian?1:0]=this.readInt32(t+4),r.float64[0];},r.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e;},r.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e;},r.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8;},r.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8;},r.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24;},r.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24;},r.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high);},r.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high);},r.ByteBuffer.prototype.writeFloat32=function(t,e){r.float32[0]=e,this.writeInt32(t,r.int32[0]);},r.ByteBuffer.prototype.writeFloat64=function(t,e){r.float64[0]=e,this.writeInt32(t,r.int32[r.isLittleEndian?0:1]),this.writeInt32(t+4,r.int32[r.isLittleEndian?1:0]);},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<r.FILE_IDENTIFIER_LENGTH;e++){t+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+e));}return t;},r.ByteBuffer.prototype.__offset=function(t,e){var n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0;},r.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t;},r.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),i="",o=0;if(t+=r.SIZEOF_INT,e===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;o<n;){var s,a=this.readUint8(t+o++);if(a<192)s=a;else{var u=this.readUint8(t+o++);if(a<224)s=(31&a)<<6|63&u;else{var c=this.readUint8(t+o++);if(a<240)s=(15&a)<<12|(63&u)<<6|63&c;else s=(7&a)<<18|(63&u)<<12|(63&c)<<6|63&this.readUint8(t+o++);}}s<65536?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296+(s>>10),56320+(1023&s)));}return i;},r.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t);},r.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+r.SIZEOF_INT;},r.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t));},r.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var e=0;e<r.FILE_IDENTIFIER_LENGTH;e++){if(t.charCodeAt(e)!=this.readInt8(this.position_+r.SIZEOF_INT+e))return!1;}return!0;},r.ByteBuffer.prototype.createLong=function(t,e){return r.Long.create(t,e);};},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MNN=void 0,function(t){!function(t){t[t.CAFFE=0]="CAFFE",t[t.TENSORFLOW=1]="TENSORFLOW",t[t.TFLITE=2]="TFLITE",t[t.ONNX=3]="ONNX";}(t.NetSource||(t.NetSource={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT";}(t.DataType||(t.DataType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.NCHW=0]="NCHW",t[t.NHWC=1]="NHWC",t[t.NC4HW4=2]="NC4HW4",t[t.NHWC4=3]="NHWC4",t[t.UNKNOWN=4]="UNKNOWN";}(t.MNN_DATA_FORMAT||(t.MNN_DATA_FORMAT={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.CAFFE=0]="CAFFE",t[t.VALID=1]="VALID",t[t.SAME=2]="SAME";}(t.PadMode||(t.PadMode={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.OVERFLOW_AWARE=1]="OVERFLOW_AWARE";}(t.QuantizeAlgo||(t.QuantizeAlgo={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.REORDER_NONE=0]="REORDER_NONE",t[t.REORDER_I4O4=1]="REORDER_I4O4",t[t.REORDER_I16O4=2]="REORDER_I16O4",t[t.REORDER_C4=3]="REORDER_C4";}(t.ReorderType||(t.ReorderType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.MAXPOOL=0]="MAXPOOL",t[t.AVEPOOL=1]="AVEPOOL";}(t.PoolType||(t.PoolType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.CAFFE=0]="CAFFE",t[t.VALID=1]="VALID",t[t.SAME=2]="SAME";}(t.PoolPadType||(t.PoolPadType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.PROD=0]="PROD",t[t.SUM=1]="SUM",t[t.MAXIMUM=2]="MAXIMUM",t[t.SUB=3]="SUB";}(t.EltwiseType||(t.EltwiseType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.ADD=0]="ADD",t[t.SUB=1]="SUB",t[t.MUL=2]="MUL",t[t.DIV=3]="DIV",t[t.MAX_TEMP=4]="MAX_TEMP",t[t.MIN_TEMP=5]="MIN_TEMP",t[t.POW=6]="POW",t[t.REALDIV=7]="REALDIV",t[t.MINIMUM=8]="MINIMUM",t[t.MAXIMUM=9]="MAXIMUM",t[t.GREATER=10]="GREATER",t[t.GREATER_EQUAL=11]="GREATER_EQUAL",t[t.LESS=12]="LESS",t[t.FLOORDIV=13]="FLOORDIV",t[t.SquaredDifference=14]="SquaredDifference",t[t.EQUAL=15]="EQUAL",t[t.LESS_EQUAL=16]="LESS_EQUAL",t[t.FLOORMOD=17]="FLOORMOD",t[t.MOD=19]="MOD",t[t.ATAN2=20]="ATAN2",t[t.LOGICALOR=21]="LOGICALOR",t[t.NOTEQUAL=22]="NOTEQUAL";}(t.BinaryOpOperation||(t.BinaryOpOperation={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.SUM=0]="SUM",t[t.ASUM=1]="ASUM",t[t.SUMSQ=2]="SUMSQ",t[t.MEAN=3]="MEAN",t[t.MAXIMUM=4]="MAXIMUM",t[t.MINIMUM=5]="MINIMUM",t[t.PROD=6]="PROD",t[t.ANY=7]="ANY",t[t.ALL=8]="ALL";}(t.ReductionType||(t.ReductionType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.ABS=0]="ABS",t[t.NEG=1]="NEG",t[t.FLOOR=2]="FLOOR",t[t.CEIL=3]="CEIL",t[t.SQUARE=4]="SQUARE",t[t.SQRT=5]="SQRT",t[t.RSQRT=6]="RSQRT",t[t.EXP=7]="EXP",t[t.LOG=8]="LOG",t[t.SIN=9]="SIN",t[t.COS=10]="COS",t[t.TAN=11]="TAN",t[t.ASIN=12]="ASIN",t[t.ACOS=13]="ACOS",t[t.ATAN=14]="ATAN",t[t.RECIPROCAL=15]="RECIPROCAL",t[t.LOG1P=16]="LOG1P",t[t.BNLL=17]="BNLL",t[t.ACOSH=18]="ACOSH",t[t.SINH=19]="SINH",t[t.ASINH=20]="ASINH",t[t.ATANH=21]="ATANH",t[t.SIGN=22]="SIGN",t[t.ROUND=23]="ROUND",t[t.COSH=24]="COSH",t[t.ERF=25]="ERF",t[t.ERFC=26]="ERFC",t[t.ERFINV=27]="ERFINV",t[t.EXPM1=28]="EXPM1";}(t.UnaryOpOperation||(t.UnaryOpOperation={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.BILINEAR=0]="BILINEAR",t[t.NEAREST=1]="NEAREST";}(t.CropAndResizeMethod||(t.CropAndResizeMethod={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.CONSTANT=0]="CONSTANT",t[t.REFLECT=1]="REFLECT",t[t.SYMMETRIC=2]="SYMMETRIC";}(t.PadValueMode||(t.PadValueMode={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.AbsVal=0]="AbsVal",t[t.QuantizedAdd=1]="QuantizedAdd",t[t.ArgMax=2]="ArgMax",t[t.AsString=3]="AsString",t[t.InstanceNorm=4]="InstanceNorm",t[t.BatchToSpaceND=5]="BatchToSpaceND",t[t.Bias=6]="Bias",t[t.BinaryOp=7]="BinaryOp",t[t.Bnll=8]="Bnll",t[t.Cast=9]="Cast",t[t.Concat=10]="Concat",t[t.Const=11]="Const",t[t.Convolution=12]="Convolution",t[t.ConvolutionDepthwise=13]="ConvolutionDepthwise",t[t.Crop=14]="Crop",t[t.CropAndResize=15]="CropAndResize",t[t.Cubic=16]="Cubic",t[t.Deconvolution=17]="Deconvolution",t[t.DeconvolutionDepthwise=18]="DeconvolutionDepthwise",t[t.Dequantize=19]="Dequantize",t[t.DetectionOutput=20]="DetectionOutput",t[t.Dropout=21]="Dropout",t[t.Eltwise=22]="Eltwise",t[t.ELU=23]="ELU",t[t.Embed=24]="Embed",t[t.Exp=25]="Exp",t[t.ExpandDims=26]="ExpandDims",t[t.Fill=27]="Fill",t[t.Flatten=28]="Flatten",t[t.FloorMod=29]="FloorMod",t[t.Gather=30]="Gather",t[t.GatherV2=31]="GatherV2",t[t.Im2Seq=32]="Im2Seq",t[t.InnerProduct=33]="InnerProduct",t[t.Input=34]="Input",t[t.Interp=35]="Interp",t[t.Log=36]="Log",t[t.LRN=37]="LRN",t[t.LSTM=38]="LSTM",t[t.MatMul=39]="MatMul",t[t.MVN=40]="MVN",t[t.NonMaxSuppression=41]="NonMaxSuppression",t[t.NonMaxSuppressionV2=42]="NonMaxSuppressionV2",t[t.Normalize=43]="Normalize",t[t.Pack=44]="Pack",t[t.Padding=45]="Padding",t[t.Permute=46]="Permute",t[t.Pooling=47]="Pooling",t[t.Power=48]="Power",t[t.PReLU=49]="PReLU",t[t.PriorBox=50]="PriorBox",t[t.Proposal=51]="Proposal",t[t.QuantizedAvgPool=52]="QuantizedAvgPool",t[t.QuantizedBiasAdd=53]="QuantizedBiasAdd",t[t.QuantizedConcat=54]="QuantizedConcat",t[t.QuantizedDepthwiseConv2D=55]="QuantizedDepthwiseConv2D",t[t.QuantizedLogistic=56]="QuantizedLogistic",t[t.QuantizedMatMul=57]="QuantizedMatMul",t[t.QuantizedMaxPool=58]="QuantizedMaxPool",t[t.QuantizedRelu=59]="QuantizedRelu",t[t.QuantizedRelu6=60]="QuantizedRelu6",t[t.QuantizedReshape=61]="QuantizedReshape",t[t.QuantizedSoftmax=62]="QuantizedSoftmax",t[t.QuantizeMaxMin=63]="QuantizeMaxMin",t[t.QuantizeV2=64]="QuantizeV2",t[t.Range=65]="Range",t[t.Rank=66]="Rank",t[t.ReduceJoin=67]="ReduceJoin",t[t.Reduction=68]="Reduction",t[t.ReLU=69]="ReLU",t[t.ReLU6=70]="ReLU6",t[t.RequantizationRange=71]="RequantizationRange",t[t.Requantize=72]="Requantize",t[t.Reshape=73]="Reshape",t[t.Resize=74]="Resize",t[t.RNN=75]="RNN",t[t.ROIPooling=76]="ROIPooling",t[t.Scale=77]="Scale",t[t.Selu=78]="Selu",t[t.Seq2Out=79]="Seq2Out",t[t.Shape=80]="Shape",t[t.Sigmoid=81]="Sigmoid",t[t.Size=82]="Size",t[t.Slice=83]="Slice",t[t.SliceTf=84]="SliceTf",t[t.Softmax=85]="Softmax",t[t.SpaceToBatchND=86]="SpaceToBatchND",t[t.SpatialProduct=87]="SpatialProduct",t[t.Split=88]="Split",t[t.SPP=89]="SPP",t[t.Squeeze=90]="Squeeze",t[t.StridedSlice=91]="StridedSlice",t[t.StringJoin=92]="StringJoin",t[t.StringSplit=93]="StringSplit",t[t.StringToNumber=94]="StringToNumber",t[t.TanH=95]="TanH",t[t.TfQuantizedConv2D=96]="TfQuantizedConv2D",t[t.Threshold=97]="Threshold",t[t.Tile=98]="Tile",t[t.TopKV2=99]="TopKV2",t[t.Transpose=100]="Transpose",t[t.UnaryOp=101]="UnaryOp",t[t.Unpack=102]="Unpack",t[t.Where=103]="Where",t[t.Moments=104]="Moments",t[t.RNNSequenceGRU=105]="RNNSequenceGRU",t[t.BatchMatMul=106]="BatchMatMul",t[t.Unsqueeze=107]="Unsqueeze",t[t.CosineSimilarity=108]="CosineSimilarity",t[t.DepthToSpace=109]="DepthToSpace",t[t.SpaceToDepth=110]="SpaceToDepth",t[t.ReverseSequence=111]="ReverseSequence",t[t.Pooling3D=112]="Pooling3D",t[t.Convolution3D=113]="Convolution3D",t[t.MatrixBandPart=114]="MatrixBandPart",t[t.GatherND=115]="GatherND",t[t.DetectionPostProcess=116]="DetectionPostProcess",t[t.UnravelIndex=117]="UnravelIndex",t[t.ScatterNd=118]="ScatterNd",t[t.OneHot=119]="OneHot",t[t.BroadcastTo=120]="BroadcastTo",t[t.Dilation2D=121]="Dilation2D",t[t.MaxLayerCount=128]="MaxLayerCount",t[t.ConvertTensor=129]="ConvertTensor",t[t.ArgMin=130]="ArgMin",t[t.LinSpace=131]="LinSpace",t[t.Plugin=256]="Plugin",t[t.Select=257]="Select",t[t.ZerosLike=258]="ZerosLike",t[t.Broastcast=259]="Broastcast",t[t.SetDiff1D=260]="SetDiff1D",t[t.ReluGrad=261]="ReluGrad",t[t.Relu6Grad=262]="Relu6Grad",t[t.PoolGrad=263]="PoolGrad",t[t.SoftmaxGrad=264]="SoftmaxGrad",t[t.Conv2DBackPropFilter=265]="Conv2DBackPropFilter",t[t.TrainableParam=266]="TrainableParam",t[t.BatchNorm=267]="BatchNorm",t[t.ZeroGrad=268]="ZeroGrad",t[t.Extra=512]="Extra",t[t.ConvInt8=513]="ConvInt8",t[t.Int8ToFloat=514]="Int8ToFloat",t[t.DepthwiseConvInt8=515]="DepthwiseConvInt8",t[t.PoolInt8=516]="PoolInt8",t[t.FloatToInt8=517]="FloatToInt8",t[t.EltwiseInt8=518]="EltwiseInt8",t[t.While=600]="While",t[t.If=601]="If",t[t.Dense=602]="Dense",t[t.LayerNorm=603]="LayerNorm";}(t.OpType||(t.OpType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.NONE=0]="NONE",t[t.QuantizedAdd=1]="QuantizedAdd",t[t.ArgMax=2]="ArgMax",t[t.AsString=3]="AsString",t[t.Axis=4]="Axis",t[t.BatchNorm=5]="BatchNorm",t[t.BinaryOp=6]="BinaryOp",t[t.Blob=7]="Blob",t[t.CastParam=8]="CastParam",t[t.Convolution2D=9]="Convolution2D",t[t.Crop=10]="Crop",t[t.CropAndResize=11]="CropAndResize",t[t.Dequantize=12]="Dequantize",t[t.DetectionOutput=13]="DetectionOutput",t[t.Eltwise=14]="Eltwise",t[t.ExpandDims=15]="ExpandDims",t[t.Fill=16]="Fill",t[t.Flatten=17]="Flatten",t[t.Gather=18]="Gather",t[t.GatherV2=19]="GatherV2",t[t.InnerProduct=20]="InnerProduct",t[t.Input=21]="Input",t[t.Interp=22]="Interp",t[t.LRN=23]="LRN",t[t.LSTM=24]="LSTM",t[t.MatMul=25]="MatMul",t[t.NonMaxSuppressionV2=26]="NonMaxSuppressionV2",t[t.Normalize=27]="Normalize",t[t.PackParam=28]="PackParam",t[t.Permute=29]="Permute",t[t.Plugin=30]="Plugin",t[t.Pool=31]="Pool",t[t.PRelu=32]="PRelu",t[t.PriorBox=33]="PriorBox",t[t.Proposal=34]="Proposal",t[t.QuantizedAvgPool=35]="QuantizedAvgPool",t[t.QuantizedBiasAdd=36]="QuantizedBiasAdd",t[t.QuantizedConcat=37]="QuantizedConcat",t[t.QuantizedLogistic=38]="QuantizedLogistic",t[t.QuantizedMatMul=39]="QuantizedMatMul",t[t.QuantizedMaxPool=40]="QuantizedMaxPool",t[t.QuantizedRelu=41]="QuantizedRelu",t[t.QuantizedRelu6=42]="QuantizedRelu6",t[t.QuantizedReshape=43]="QuantizedReshape",t[t.QuantizedSoftmax=44]="QuantizedSoftmax",t[t.QuantizeMaxMin=45]="QuantizeMaxMin",t[t.QuantizeV2=46]="QuantizeV2",t[t.Range=47]="Range",t[t.Rank=48]="Rank",t[t.ReduceJoin=49]="ReduceJoin",t[t.ReductionParam=50]="ReductionParam",t[t.Relu=51]="Relu",t[t.Relu6=52]="Relu6",t[t.RequantizationRange=53]="RequantizationRange",t[t.Requantize=54]="Requantize",t[t.Reshape=55]="Reshape",t[t.Resize=56]="Resize",t[t.RoiPooling=57]="RoiPooling",t[t.Scale=58]="Scale",t[t.Selu=59]="Selu",t[t.Size=60]="Size",t[t.Slice=61]="Slice",t[t.SliceTf=62]="SliceTf",t[t.SpaceBatch=63]="SpaceBatch",t[t.SqueezeParam=64]="SqueezeParam",t[t.StridedSliceParam=65]="StridedSliceParam",t[t.TensorConvertInfo=66]="TensorConvertInfo",t[t.TfQuantizedConv2D=67]="TfQuantizedConv2D",t[t.TopKV2=68]="TopKV2",t[t.Transpose=69]="Transpose",t[t.UnaryOp=70]="UnaryOp",t[t.MomentsParam=71]="MomentsParam",t[t.RNNParam=72]="RNNParam",t[t.BatchMatMulParam=73]="BatchMatMulParam",t[t.QuantizedFloatParam=74]="QuantizedFloatParam",t[t.DepthSpaceParam=75]="DepthSpaceParam",t[t.EltwiseInt8=76]="EltwiseInt8",t[t.ReverseSequenceParam=77]="ReverseSequenceParam",t[t.Extra=78]="Extra",t[t.Pool3D=79]="Pool3D",t[t.Convolution3D=80]="Convolution3D",t[t.ELU=81]="ELU",t[t.DetectionPostProcessParam=82]="DetectionPostProcessParam",t[t.OneHotParam=83]="OneHotParam",t[t.PadParam=84]="PadParam",t[t.WhileParam=85]="WhileParam",t[t.IfParam=86]="IfParam",t[t.Dense=87]="Dense",t[t.LayerNorm=88]="LayerNorm";}(t.OpParameter||(t.OpParameter={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.CPU=0]="CPU",t[t.METAL=1]="METAL",t[t.OPENCL=2]="OPENCL",t[t.OPENGLES=3]="OPENGLES",t[t.VULKAN=4]="VULKAN";}(t.ForwardType||(t.ForwardType={}));}(e.MNN||(e.MNN={})),function(t){!function(t){t[t.INFERENCE=0]="INFERENCE",t[t.TRAIN=1]="TRAIN";}(t.Usage||(t.Usage={}));}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsBlob=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsBlob=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dimsArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.dataFormat=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NCHW;},e.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.prototype.uint8s=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0;},e.prototype.uint8sLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.uint8sArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.int8s=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t):0;},e.prototype.int8sLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.int8sArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.int32s=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.int32sLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.int32sArray=function(){var t=this.bb.__offset(this.bb_pos,14);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.int64s=function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0);},e.prototype.int64sLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.float32s=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.float32sLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.float32sArray=function(){var t=this.bb.__offset(this.bb_pos,18);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.strings=function(t,e){var n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},e.prototype.stringsLength=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startBlob=function(t){t.startObject(9);},e.addDims=function(t,e){t.addFieldOffset(0,e,0);},e.createDimsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDimsVector=function(t,e){t.startVector(4,e,4);},e.addDataFormat=function(e,n){e.addFieldInt8(1,n,t.MNN_DATA_FORMAT.NCHW);},e.addDataType=function(e,n){e.addFieldInt32(2,n,t.DataType.DT_FLOAT);},e.addUint8s=function(t,e){t.addFieldOffset(3,e,0);},e.createUint8sVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(e[n]);}return t.endVector();},e.startUint8sVector=function(t,e){t.startVector(1,e,1);},e.addInt8s=function(t,e){t.addFieldOffset(4,e,0);},e.createInt8sVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(e[n]);}return t.endVector();},e.startInt8sVector=function(t,e){t.startVector(1,e,1);},e.addInt32s=function(t,e){t.addFieldOffset(5,e,0);},e.createInt32sVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startInt32sVector=function(t,e){t.startVector(4,e,4);},e.addInt64s=function(t,e){t.addFieldOffset(6,e,0);},e.createInt64sVector=function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--){t.addInt64(e[n]);}return t.endVector();},e.startInt64sVector=function(t,e){t.startVector(8,e,8);},e.addFloat32s=function(t,e){t.addFieldOffset(7,e,0);},e.createFloat32sVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startFloat32sVector=function(t,e){t.startVector(4,e,4);},e.addStrings=function(t,e){t.addFieldOffset(8,e,0);},e.createStringsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startStringsVector=function(t,e){t.startVector(4,e,4);},e.endBlob=function(t){return t.endObject();},e.createBlob=function(t,n,r,i,o,s,a,u,c,p){return e.startBlob(t),e.addDims(t,n),e.addDataFormat(t,r),e.addDataType(t,i),e.addUint8s(t,o),e.addInt8s(t,s),e.addInt32s(t,a),e.addInt64s(t,u),e.addFloat32s(t,c),e.addStrings(t,p),e.endBlob(t);},e;}();t.Blob=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsListValue=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsListValue=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.s=function(t,e){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},t.prototype.sLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.i=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.iLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.iArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.f=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.fLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.fArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.b=function(t){var e=this.bb.__offset(this.bb_pos,10);return!!e&&!!this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t);},t.prototype.bLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.bArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.type=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.typeLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.typeArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startListValue=function(t){t.startObject(5);},t.addS=function(t,e){t.addFieldOffset(0,e,0);},t.createSVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},t.startSVector=function(t,e){t.startVector(4,e,4);},t.addI=function(t,e){t.addFieldOffset(1,e,0);},t.createIVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startIVector=function(t,e){t.startVector(4,e,4);},t.addF=function(t,e){t.addFieldOffset(2,e,0);},t.createFVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startFVector=function(t,e){t.startVector(4,e,4);},t.addB=function(t,e){t.addFieldOffset(3,e,0);},t.createBVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(+e[n]);}return t.endVector();},t.startBVector=function(t,e){t.startVector(1,e,1);},t.addType=function(t,e){t.addFieldOffset(4,e,0);},t.createTypeVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startTypeVector=function(t,e){t.startVector(4,e,4);},t.endListValue=function(t){return t.endObject();},t.createListValue=function(e,n,r,i,o,s){return t.startListValue(e),t.addS(e,n),t.addI(e,r),t.addF(e,i),t.addB(e,o),t.addType(e,s),t.endListValue(e);},t;}();t.ListValue=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsAttribute=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsAttribute=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.s=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.i=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.b=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.key=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.f=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.prototype.tensor=function(e){var n=this.bb.__offset(this.bb_pos,16);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.list=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.ListValue()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.func=function(e){var n=this.bb.__offset(this.bb_pos,20);return n?(e||new t.NamedAttrList()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startAttribute=function(t){t.startObject(9);},e.addS=function(t,e){t.addFieldOffset(0,e,0);},e.addI=function(t,e){t.addFieldInt32(1,e,0);},e.addB=function(t,e){t.addFieldInt8(2,+e,0);},e.addKey=function(t,e){t.addFieldOffset(3,e,0);},e.addType=function(e,n){e.addFieldInt32(4,n,t.DataType.DT_INVALID);},e.addF=function(t,e){t.addFieldFloat32(5,e,0);},e.addTensor=function(t,e){t.addFieldOffset(6,e,0);},e.addList=function(t,e){t.addFieldOffset(7,e,0);},e.addFunc=function(t,e){t.addFieldOffset(8,e,0);},e.endAttribute=function(t){return t.endObject();},e.createAttribute=function(t,n,r,i,o,s,a,u,c,p){return e.startAttribute(t),e.addS(t,n),e.addI(t,r),e.addB(t,i),e.addKey(t,o),e.addType(t,s),e.addF(t,a),e.addTensor(t,u),e.addList(t,c),e.addFunc(t,p),e.endAttribute(t);},e;}();t.Attribute=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsNamedAttrList=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsNamedAttrList=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.attr=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.Attribute()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.attrLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startNamedAttrList=function(t){t.startObject(2);},e.addName=function(t,e){t.addFieldOffset(0,e,0);},e.addAttr=function(t,e){t.addFieldOffset(1,e,0);},e.createAttrVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAttrVector=function(t,e){t.startVector(4,e,4);},e.endNamedAttrList=function(t){return t.endObject();},e.createNamedAttrList=function(t,n,r){return e.startNamedAttrList(t),e.addName(t,n),e.addAttr(t,r),e.endNamedAttrList(t);},e;}();t.NamedAttrList=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsConvolution2DCommon=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsConvolution2DCommon=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.padX=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.padY=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.kernelX=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.kernelY=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.strideX=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.strideY=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.dilateX=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.dilateY=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.padMode=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readInt8(this.bb_pos+e):t.PadMode.CAFFE;},e.prototype.group=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):1;},e.prototype.outputCount=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.inputCount=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.relu=function(){var t=this.bb.__offset(this.bb_pos,28);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.relu6=function(){var t=this.bb.__offset(this.bb_pos,30);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.pads=function(t){var e=this.bb.__offset(this.bb_pos,32);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.padsLength=function(){var t=this.bb.__offset(this.bb_pos,32);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.padsArray=function(){var t=this.bb.__offset(this.bb_pos,32);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.startConvolution2DCommon=function(t){t.startObject(15);},e.addPadX=function(t,e){t.addFieldInt32(0,e,0);},e.addPadY=function(t,e){t.addFieldInt32(1,e,0);},e.addKernelX=function(t,e){t.addFieldInt32(2,e,1);},e.addKernelY=function(t,e){t.addFieldInt32(3,e,1);},e.addStrideX=function(t,e){t.addFieldInt32(4,e,1);},e.addStrideY=function(t,e){t.addFieldInt32(5,e,1);},e.addDilateX=function(t,e){t.addFieldInt32(6,e,1);},e.addDilateY=function(t,e){t.addFieldInt32(7,e,1);},e.addPadMode=function(e,n){e.addFieldInt8(8,n,t.PadMode.CAFFE);},e.addGroup=function(t,e){t.addFieldInt32(9,e,1);},e.addOutputCount=function(t,e){t.addFieldInt32(10,e,0);},e.addInputCount=function(t,e){t.addFieldInt32(11,e,0);},e.addRelu=function(t,e){t.addFieldInt8(12,+e,0);},e.addRelu6=function(t,e){t.addFieldInt8(13,+e,0);},e.addPads=function(t,e){t.addFieldOffset(14,e,0);},e.createPadsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startPadsVector=function(t,e){t.startVector(4,e,4);},e.endConvolution2DCommon=function(t){return t.endObject();},e.createConvolution2DCommon=function(t,n,r,i,o,s,a,u,c,p,h,f,d,l,b,_){return e.startConvolution2DCommon(t),e.addPadX(t,n),e.addPadY(t,r),e.addKernelX(t,i),e.addKernelY(t,o),e.addStrideX(t,s),e.addStrideY(t,a),e.addDilateX(t,u),e.addDilateY(t,c),e.addPadMode(t,p),e.addGroup(t,h),e.addOutputCount(t,f),e.addInputCount(t,d),e.addRelu(t,l),e.addRelu6(t,b),e.addPads(t,_),e.endConvolution2DCommon(t);},e;}();t.Convolution2DCommon=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsConvolution3DCommon=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsConvolution3DCommon=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dilates=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dilatesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dilatesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.strides=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.stridesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.stridesArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.kernels=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.kernelsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.kernelsArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.pads=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.padsLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.padsArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.padMode=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt8(this.bb_pos+e):t.PadMode.CAFFE;},e.prototype.inputCount=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.outputCount=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.relu=function(){var t=this.bb.__offset(this.bb_pos,18);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.relu6=function(){var t=this.bb.__offset(this.bb_pos,20);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.startConvolution3DCommon=function(t){t.startObject(9);},e.addDilates=function(t,e){t.addFieldOffset(0,e,0);},e.createDilatesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDilatesVector=function(t,e){t.startVector(4,e,4);},e.addStrides=function(t,e){t.addFieldOffset(1,e,0);},e.createStridesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startStridesVector=function(t,e){t.startVector(4,e,4);},e.addKernels=function(t,e){t.addFieldOffset(2,e,0);},e.createKernelsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startKernelsVector=function(t,e){t.startVector(4,e,4);},e.addPads=function(t,e){t.addFieldOffset(3,e,0);},e.createPadsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startPadsVector=function(t,e){t.startVector(4,e,4);},e.addPadMode=function(e,n){e.addFieldInt8(4,n,t.PadMode.CAFFE);},e.addInputCount=function(t,e){t.addFieldInt32(5,e,0);},e.addOutputCount=function(t,e){t.addFieldInt32(6,e,0);},e.addRelu=function(t,e){t.addFieldInt8(7,+e,0);},e.addRelu6=function(t,e){t.addFieldInt8(8,+e,0);},e.endConvolution3DCommon=function(t){return t.endObject();},e.createConvolution3DCommon=function(t,n,r,i,o,s,a,u,c,p){return e.startConvolution3DCommon(t),e.addDilates(t,n),e.addStrides(t,r),e.addKernels(t,i),e.addPads(t,o),e.addPadMode(t,s),e.addInputCount(t,a),e.addOutputCount(t,u),e.addRelu(t,c),e.addRelu6(t,p),e.endConvolution3DCommon(t);},e;}();t.Convolution3DCommon=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsIDSTQuan=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsIDSTQuan=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.buffer=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t):0;},t.prototype.bufferLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.bufferArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.alpha=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.alphaLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.alphaArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.useInt32=function(){var t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.quantScale=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.scaleIn=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.scaleOut=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.aMax=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.aMin=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.readType=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.hasScaleInt=function(){var t=this.bb.__offset(this.bb_pos,24);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.startIDSTQuan=function(t){t.startObject(11);},t.addBuffer=function(t,e){t.addFieldOffset(0,e,0);},t.createBufferVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(e[n]);}return t.endVector();},t.startBufferVector=function(t,e){t.startVector(1,e,1);},t.addAlpha=function(t,e){t.addFieldOffset(1,e,0);},t.createAlphaVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startAlphaVector=function(t,e){t.startVector(4,e,4);},t.addType=function(t,e){t.addFieldInt32(2,e,0);},t.addUseInt32=function(t,e){t.addFieldInt8(3,+e,0);},t.addQuantScale=function(t,e){t.addFieldFloat32(4,e,0);},t.addScaleIn=function(t,e){t.addFieldFloat32(5,e,0);},t.addScaleOut=function(t,e){t.addFieldFloat32(6,e,0);},t.addAMax=function(t,e){t.addFieldInt32(7,e,0);},t.addAMin=function(t,e){t.addFieldInt32(8,e,0);},t.addReadType=function(t,e){t.addFieldInt32(9,e,0);},t.addHasScaleInt=function(t,e){t.addFieldInt8(10,+e,0);},t.endIDSTQuan=function(t){return t.endObject();},t.createIDSTQuan=function(e,n,r,i,o,s,a,u,c,p,h,f){return t.startIDSTQuan(e),t.addBuffer(e,n),t.addAlpha(e,r),t.addType(e,i),t.addUseInt32(e,o),t.addQuantScale(e,s),t.addScaleIn(e,a),t.addScaleOut(e,u),t.addAMax(e,c),t.addAMin(e,p),t.addReadType(e,h),t.addHasScaleInt(e,f),t.endIDSTQuan(e);},t;}();t.IDSTQuan=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsQuantizedFloatParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsQuantizedFloatParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.scale=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.scaleLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.scaleArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.tensorScale=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.tensorScaleLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.tensorScaleArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.method=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt8(this.bb_pos+e):t.QuantizeAlgo.DEFAULT;},e.prototype.weightOrder=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt8(this.bb_pos+e):t.ReorderType.REORDER_NONE;},e.prototype.biasOrder=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt8(this.bb_pos+e):t.ReorderType.REORDER_NONE;},e.prototype.scaleOrder=function(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.readInt8(this.bb_pos+e):t.ReorderType.REORDER_NONE;},e.startQuantizedFloatParam=function(t){t.startObject(8);},e.addWeight=function(t,e){t.addFieldOffset(0,e,0);},e.createWeightVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(1,e,1);},e.addBias=function(t,e){t.addFieldOffset(1,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.addScale=function(t,e){t.addFieldOffset(2,e,0);},e.createScaleVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startScaleVector=function(t,e){t.startVector(4,e,4);},e.addTensorScale=function(t,e){t.addFieldOffset(3,e,0);},e.createTensorScaleVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startTensorScaleVector=function(t,e){t.startVector(4,e,4);},e.addMethod=function(e,n){e.addFieldInt8(4,n,t.QuantizeAlgo.DEFAULT);},e.addWeightOrder=function(e,n){e.addFieldInt8(5,n,t.ReorderType.REORDER_NONE);},e.addBiasOrder=function(e,n){e.addFieldInt8(6,n,t.ReorderType.REORDER_NONE);},e.addScaleOrder=function(e,n){e.addFieldInt8(7,n,t.ReorderType.REORDER_NONE);},e.endQuantizedFloatParam=function(t){return t.endObject();},e.createQuantizedFloatParam=function(t,n,r,i,o,s,a,u,c){return e.startQuantizedFloatParam(t),e.addWeight(t,n),e.addBias(t,r),e.addScale(t,i),e.addTensorScale(t,o),e.addMethod(t,s),e.addWeightOrder(t,a),e.addBiasOrder(t,u),e.addScaleOrder(t,c),e.endQuantizedFloatParam(t);},e;}();t.QuantizedFloatParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsConvolution2D=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsConvolution2D=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.common=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.Convolution2DCommon()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.quanParameter=function(e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new t.IDSTQuan()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.symmetricQuan=function(e){var n=this.bb.__offset(this.bb_pos,12);return n?(e||new t.QuantizedFloatParam()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startConvolution2D=function(t){t.startObject(5);},e.addCommon=function(t,e){t.addFieldOffset(0,e,0);},e.addWeight=function(t,e){t.addFieldOffset(1,e,0);},e.createWeightVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(4,e,4);},e.addBias=function(t,e){t.addFieldOffset(2,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.addQuanParameter=function(t,e){t.addFieldOffset(3,e,0);},e.addSymmetricQuan=function(t,e){t.addFieldOffset(4,e,0);},e.endConvolution2D=function(t){return t.endObject();},e.createConvolution2D=function(t,n,r,i,o,s){return e.startConvolution2D(t),e.addCommon(t,n),e.addWeight(t,r),e.addBias(t,i),e.addQuanParameter(t,o),e.addSymmetricQuan(t,s),e.endConvolution2D(t);},e;}();t.Convolution2D=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsConvolution3D=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsConvolution3D=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.common=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.Convolution3DCommon()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.startConvolution3D=function(t){t.startObject(3);},e.addCommon=function(t,e){t.addFieldOffset(0,e,0);},e.addWeight=function(t,e){t.addFieldOffset(1,e,0);},e.createWeightVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(4,e,4);},e.addBias=function(t,e){t.addFieldOffset(2,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.endConvolution3D=function(t){return t.endObject();},e.createConvolution3D=function(t,n,r,i){return e.startConvolution3D(t),e.addCommon(t,n),e.addWeight(t,r),e.addBias(t,i),e.endConvolution3D(t);},e;}();t.Convolution3D=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsInnerProduct=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsInnerProduct=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.outputCount=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.biasTerm=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.weightSize=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.transpose=function(){var t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.quanParameter=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.IDSTQuan()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startInnerProduct=function(t){t.startObject(8);},e.addOutputCount=function(t,e){t.addFieldInt32(0,e,0);},e.addBiasTerm=function(t,e){t.addFieldInt32(1,e,0);},e.addWeightSize=function(t,e){t.addFieldInt32(2,e,0);},e.addWeight=function(t,e){t.addFieldOffset(3,e,0);},e.createWeightVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(4,e,4);},e.addBias=function(t,e){t.addFieldOffset(4,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.addAxis=function(t,e){t.addFieldInt32(5,e,0);},e.addTranspose=function(t,e){t.addFieldInt8(6,+e,0);},e.addQuanParameter=function(t,e){t.addFieldOffset(7,e,0);},e.endInnerProduct=function(t){return t.endObject();},e.createInnerProduct=function(t,n,r,i,o,s,a,u,c){return e.startInnerProduct(t),e.addOutputCount(t,n),e.addBiasTerm(t,r),e.addWeightSize(t,i),e.addWeight(t,o),e.addBias(t,s),e.addAxis(t,a),e.addTranspose(t,u),e.addQuanParameter(t,c),e.endInnerProduct(t);},e;}();t.InnerProduct=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsPool=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsPool=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.padX=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.padY=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.isGlobal=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.kernelX=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.kernelY=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.strideX=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.strideY=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.readInt8(this.bb_pos+e):t.PoolType.MAXPOOL;},e.prototype.padType=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readInt8(this.bb_pos+e):t.PoolPadType.CAFFE;},e.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.prototype.ceilModel=function(){var t=this.bb.__offset(this.bb_pos,24);return!t||!!this.bb.readInt8(this.bb_pos+t);},e.prototype.pads=function(t){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.padsLength=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.padsArray=function(){var t=this.bb.__offset(this.bb_pos,26);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.startPool=function(t){t.startObject(12);},e.addPadX=function(t,e){t.addFieldInt32(0,e,0);},e.addPadY=function(t,e){t.addFieldInt32(1,e,0);},e.addIsGlobal=function(t,e){t.addFieldInt8(2,+e,0);},e.addKernelX=function(t,e){t.addFieldInt32(3,e,0);},e.addKernelY=function(t,e){t.addFieldInt32(4,e,0);},e.addStrideX=function(t,e){t.addFieldInt32(5,e,0);},e.addStrideY=function(t,e){t.addFieldInt32(6,e,0);},e.addType=function(e,n){e.addFieldInt8(7,n,t.PoolType.MAXPOOL);},e.addPadType=function(e,n){e.addFieldInt8(8,n,t.PoolPadType.CAFFE);},e.addDataType=function(e,n){e.addFieldInt32(9,n,t.DataType.DT_FLOAT);},e.addCeilModel=function(t,e){t.addFieldInt8(10,+e,1);},e.addPads=function(t,e){t.addFieldOffset(11,e,0);},e.createPadsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startPadsVector=function(t,e){t.startVector(4,e,4);},e.endPool=function(t){return t.endObject();},e.createPool=function(t,n,r,i,o,s,a,u,c,p,h,f,d){return e.startPool(t),e.addPadX(t,n),e.addPadY(t,r),e.addIsGlobal(t,i),e.addKernelX(t,o),e.addKernelY(t,s),e.addStrideX(t,a),e.addStrideY(t,u),e.addType(t,c),e.addPadType(t,p),e.addDataType(t,h),e.addCeilModel(t,f),e.addPads(t,d),e.endPool(t);},e;}();t.Pool=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsPool3D=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsPool3D=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.strides=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.stridesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.stridesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.kernels=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.kernelsLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.kernelsArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.pads=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.padsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.padsArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt8(this.bb_pos+e):t.PoolType.MAXPOOL;},e.prototype.padType=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt8(this.bb_pos+e):t.PoolPadType.CAFFE;},e.startPool3D=function(t){t.startObject(5);},e.addStrides=function(t,e){t.addFieldOffset(0,e,0);},e.createStridesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startStridesVector=function(t,e){t.startVector(4,e,4);},e.addKernels=function(t,e){t.addFieldOffset(1,e,0);},e.createKernelsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startKernelsVector=function(t,e){t.startVector(4,e,4);},e.addPads=function(t,e){t.addFieldOffset(2,e,0);},e.createPadsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startPadsVector=function(t,e){t.startVector(4,e,4);},e.addType=function(e,n){e.addFieldInt8(3,n,t.PoolType.MAXPOOL);},e.addPadType=function(e,n){e.addFieldInt8(4,n,t.PoolPadType.CAFFE);},e.endPool3D=function(t){return t.endObject();},e.createPool3D=function(t,n,r,i,o,s){return e.startPool3D(t),e.addStrides(t,n),e.addKernels(t,r),e.addPads(t,i),e.addType(t,o),e.addPadType(t,s),e.endPool3D(t);},e;}();t.Pool3D=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRelu=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRelu=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.slope=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startRelu=function(t){t.startObject(1);},t.addSlope=function(t,e){t.addFieldFloat32(0,e,0);},t.endRelu=function(t){return t.endObject();},t.createRelu=function(e,n){return t.startRelu(e),t.addSlope(e,n),t.endRelu(e);},t;}();t.Relu=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRelu6=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRelu6=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.minValue=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.maxValue=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):6;},t.startRelu6=function(t){t.startObject(2);},t.addMinValue=function(t,e){t.addFieldFloat32(0,e,0);},t.addMaxValue=function(t,e){t.addFieldFloat32(1,e,6);},t.endRelu6=function(t){return t.endObject();},t.createRelu6=function(e,n,r){return t.startRelu6(e),t.addMinValue(e,n),t.addMaxValue(e,r),t.endRelu6(e);},t;}();t.Relu6=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsPRelu=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsPRelu=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.slopeCount=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.slope=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.slopeLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.slopeArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startPRelu=function(t){t.startObject(2);},t.addSlopeCount=function(t,e){t.addFieldInt32(0,e,0);},t.addSlope=function(t,e){t.addFieldOffset(1,e,0);},t.createSlopeVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startSlopeVector=function(t,e){t.startVector(4,e,4);},t.endPRelu=function(t){return t.endObject();},t.createPRelu=function(e,n,r){return t.startPRelu(e),t.addSlopeCount(e,n),t.addSlope(e,r),t.endPRelu(e);},t;}();t.PRelu=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsELU=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsELU=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.alpha=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startELU=function(t){t.startObject(1);},t.addAlpha=function(t,e){t.addFieldFloat32(0,e,0);},t.endELU=function(t){return t.endObject();},t.createELU=function(e,n){return t.startELU(e),t.addAlpha(e,n),t.endELU(e);},t;}();t.ELU=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsLRN=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsLRN=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.regionType=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.localSize=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.alpha=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.beta=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startLRN=function(t){t.startObject(4);},t.addRegionType=function(t,e){t.addFieldInt32(0,e,0);},t.addLocalSize=function(t,e){t.addFieldInt32(1,e,0);},t.addAlpha=function(t,e){t.addFieldFloat32(2,e,0);},t.addBeta=function(t,e){t.addFieldFloat32(3,e,0);},t.endLRN=function(t){return t.endObject();},t.createLRN=function(e,n,r,i,o){return t.startLRN(e),t.addRegionType(e,n),t.addLocalSize(e,r),t.addAlpha(e,i),t.addBeta(e,o),t.endLRN(e);},t;}();t.LRN=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsArgMax=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsArgMax=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.outMaxVal=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.topK=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.softmaxThreshold=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},t.startArgMax=function(t){t.startObject(4);},t.addOutMaxVal=function(t,e){t.addFieldInt32(0,e,0);},t.addTopK=function(t,e){t.addFieldInt32(1,e,0);},t.addAxis=function(t,e){t.addFieldInt32(2,e,0);},t.addSoftmaxThreshold=function(t,e){t.addFieldInt32(3,e,0);},t.endArgMax=function(t){return t.endObject();},t.createArgMax=function(e,n,r,i,o){return t.startArgMax(e),t.addOutMaxVal(e,n),t.addTopK(e,r),t.addAxis(e,i),t.addSoftmaxThreshold(e,o),t.endArgMax(e);},t;}();t.ArgMax=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsAxis=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsAxis=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.startAxis=function(t){t.startObject(1);},t.addAxis=function(t,e){t.addFieldInt32(0,e,0);},t.endAxis=function(t){return t.endObject();},t.createAxis=function(e,n){return t.startAxis(e),t.addAxis(e,n),t.endAxis(e);},t;}();t.Axis=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsInput=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsInput=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dimsArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.dtype=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.prototype.dformat=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NC4HW4;},e.startInput=function(t){t.startObject(3);},e.addDims=function(t,e){t.addFieldOffset(0,e,0);},e.createDimsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDimsVector=function(t,e){t.startVector(4,e,4);},e.addDtype=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_FLOAT);},e.addDformat=function(e,n){e.addFieldInt8(2,n,t.MNN_DATA_FORMAT.NC4HW4);},e.endInput=function(t){return t.endObject();},e.createInput=function(t,n,r,i){return e.startInput(t),e.addDims(t,n),e.addDtype(t,r),e.addDformat(t,i),e.endInput(t);},e;}();t.Input=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsLSTM=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsLSTM=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.outputCount=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.weightSize=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.clippingThreshold=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.prototype.weightI=function(e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.weightH=function(e){var n=this.bb.__offset(this.bb_pos,12);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.bias=function(e){var n=this.bb.__offset(this.bb_pos,14);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.weightIQ=function(e){var n=this.bb.__offset(this.bb_pos,16);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.weightIA=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.quantScale=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.startLSTM=function(t){t.startObject(9);},e.addOutputCount=function(t,e){t.addFieldInt32(0,e,0);},e.addWeightSize=function(t,e){t.addFieldInt32(1,e,0);},e.addClippingThreshold=function(t,e){t.addFieldFloat32(2,e,0);},e.addWeightI=function(t,e){t.addFieldOffset(3,e,0);},e.addWeightH=function(t,e){t.addFieldOffset(4,e,0);},e.addBias=function(t,e){t.addFieldOffset(5,e,0);},e.addWeightIQ=function(t,e){t.addFieldOffset(6,e,0);},e.addWeightIA=function(t,e){t.addFieldOffset(7,e,0);},e.addQuantScale=function(t,e){t.addFieldFloat32(8,e,0);},e.endLSTM=function(t){return t.endObject();},e.createLSTM=function(t,n,r,i,o,s,a,u,c,p){return e.startLSTM(t),e.addOutputCount(t,n),e.addWeightSize(t,r),e.addClippingThreshold(t,i),e.addWeightI(t,o),e.addWeightH(t,s),e.addBias(t,a),e.addWeightIQ(t,u),e.addWeightIA(t,c),e.addQuantScale(t,p),e.endLSTM(t);},e;}();t.LSTM=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsSlice=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsSlice=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.slicePoints=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.slicePointsLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.slicePointsArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.sourceType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt8(this.bb_pos+e):t.NetSource.CAFFE;},e.startSlice=function(t){t.startObject(3);},e.addAxis=function(t,e){t.addFieldInt32(0,e,0);},e.addSlicePoints=function(t,e){t.addFieldOffset(1,e,0);},e.createSlicePointsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startSlicePointsVector=function(t,e){t.startVector(4,e,4);},e.addSourceType=function(e,n){e.addFieldInt8(2,n,t.NetSource.CAFFE);},e.endSlice=function(t){return t.endObject();},e.createSlice=function(t,n,r,i){return e.startSlice(t),e.addAxis(t,n),e.addSlicePoints(t,r),e.addSourceType(t,i),e.endSlice(t);},e;}();t.Slice=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsBatchNorm=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsBatchNorm=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.channels=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.slopeData=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.slopeDataLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.slopeDataArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.meanData=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.meanDataLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.meanDataArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.varData=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.varDataLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.varDataArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.biasData=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.biasDataLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.biasDataArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.Adata=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.AdataLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.AdataArray=function(){var t=this.bb.__offset(this.bb_pos,14);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.Bdata=function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.BdataLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.BdataArray=function(){var t=this.bb.__offset(this.bb_pos,16);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.epsilon=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):.001;},t.startBatchNorm=function(t){t.startObject(8);},t.addChannels=function(t,e){t.addFieldInt32(0,e,0);},t.addSlopeData=function(t,e){t.addFieldOffset(1,e,0);},t.createSlopeDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startSlopeDataVector=function(t,e){t.startVector(4,e,4);},t.addMeanData=function(t,e){t.addFieldOffset(2,e,0);},t.createMeanDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startMeanDataVector=function(t,e){t.startVector(4,e,4);},t.addVarData=function(t,e){t.addFieldOffset(3,e,0);},t.createVarDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startVarDataVector=function(t,e){t.startVector(4,e,4);},t.addBiasData=function(t,e){t.addFieldOffset(4,e,0);},t.createBiasDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startBiasDataVector=function(t,e){t.startVector(4,e,4);},t.addAdata=function(t,e){t.addFieldOffset(5,e,0);},t.createAdataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startAdataVector=function(t,e){t.startVector(4,e,4);},t.addBdata=function(t,e){t.addFieldOffset(6,e,0);},t.createBdataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startBdataVector=function(t,e){t.startVector(4,e,4);},t.addEpsilon=function(t,e){t.addFieldFloat32(7,e,.001);},t.endBatchNorm=function(t){return t.endObject();},t.createBatchNorm=function(e,n,r,i,o,s,a,u,c){return t.startBatchNorm(e),t.addChannels(e,n),t.addSlopeData(e,r),t.addMeanData(e,i),t.addVarData(e,o),t.addBiasData(e,s),t.addAdata(e,a),t.addBdata(e,u),t.addEpsilon(e,c),t.endBatchNorm(e);},t;}();t.BatchNorm=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsScale=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsScale=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.channels=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.scaleData=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.scaleDataLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.scaleDataArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.biasData=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.biasDataLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.biasDataArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startScale=function(t){t.startObject(3);},t.addChannels=function(t,e){t.addFieldInt32(0,e,0);},t.addScaleData=function(t,e){t.addFieldOffset(1,e,0);},t.createScaleDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startScaleDataVector=function(t,e){t.startVector(4,e,4);},t.addBiasData=function(t,e){t.addFieldOffset(2,e,0);},t.createBiasDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startBiasDataVector=function(t,e){t.startVector(4,e,4);},t.endScale=function(t){return t.endObject();},t.createScale=function(e,n,r,i){return t.startScale(e),t.addChannels(e,n),t.addScaleData(e,r),t.addBiasData(e,i),t.endScale(e);},t;}();t.Scale=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsEltwise=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsEltwise=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.EltwiseType.PROD;},e.prototype.coeff=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.coeffLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.coeffArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.startEltwise=function(t){t.startObject(2);},e.addType=function(e,n){e.addFieldInt8(0,n,t.EltwiseType.PROD);},e.addCoeff=function(t,e){t.addFieldOffset(1,e,0);},e.createCoeffVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startCoeffVector=function(t,e){t.startVector(4,e,4);},e.endEltwise=function(t){return t.endObject();},e.createEltwise=function(t,n,r){return e.startEltwise(t),e.addType(t,n),e.addCoeff(t,r),e.endEltwise(t);},e;}();t.Eltwise=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsFlatten=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsFlatten=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.endAxis=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.startFlatten=function(t){t.startObject(2);},t.addAxis=function(t,e){t.addFieldInt32(0,e,0);},t.addEndAxis=function(t,e){t.addFieldInt32(1,e,0);},t.endFlatten=function(t){return t.endObject();},t.createFlatten=function(e,n,r){return t.startFlatten(e),t.addAxis(e,n),t.addEndAxis(e,r),t.endFlatten(e);},t;}();t.Flatten=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsPermute=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsPermute=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.dimsArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startPermute=function(t){t.startObject(1);},t.addDims=function(t,e){t.addFieldOffset(0,e,0);},t.createDimsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startDimsVector=function(t,e){t.startVector(4,e,4);},t.endPermute=function(t){return t.endObject();},t.createPermute=function(e,n){return t.startPermute(e),t.addDims(e,n),t.endPermute(e);},t;}();t.Permute=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsReshape=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsReshape=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dimsArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.dimType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NCHW;},e.startReshape=function(t){t.startObject(2);},e.addDims=function(t,e){t.addFieldOffset(0,e,0);},e.createDimsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDimsVector=function(t,e){t.startVector(4,e,4);},e.addDimType=function(e,n){e.addFieldInt8(1,n,t.MNN_DATA_FORMAT.NCHW);},e.endReshape=function(t){return t.endObject();},e.createReshape=function(t,n,r){return e.startReshape(t),e.addDims(t,n),e.addDimType(t,r),e.endReshape(t);},e;}();t.Reshape=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsDetectionOutput=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsDetectionOutput=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.classCount=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.nmsThresholdold=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.nmsTopK=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.keepTopK=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.confidenceThreshold=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.shareLocation=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.backgroundLable=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.varianceEncodedTarget=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.codeType=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.objectnessScore=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):.01;},t.startDetectionOutput=function(t){t.startObject(10);},t.addClassCount=function(t,e){t.addFieldInt32(0,e,0);},t.addNmsThresholdold=function(t,e){t.addFieldFloat32(1,e,0);},t.addNmsTopK=function(t,e){t.addFieldInt32(2,e,0);},t.addKeepTopK=function(t,e){t.addFieldInt32(3,e,0);},t.addConfidenceThreshold=function(t,e){t.addFieldFloat32(4,e,0);},t.addShareLocation=function(t,e){t.addFieldInt32(5,e,0);},t.addBackgroundLable=function(t,e){t.addFieldInt32(6,e,0);},t.addVarianceEncodedTarget=function(t,e){t.addFieldInt32(7,e,0);},t.addCodeType=function(t,e){t.addFieldInt32(8,e,0);},t.addObjectnessScore=function(t,e){t.addFieldFloat32(9,e,.01);},t.endDetectionOutput=function(t){return t.endObject();},t.createDetectionOutput=function(e,n,r,i,o,s,a,u,c,p,h){return t.startDetectionOutput(e),t.addClassCount(e,n),t.addNmsThresholdold(e,r),t.addNmsTopK(e,i),t.addKeepTopK(e,o),t.addConfidenceThreshold(e,s),t.addShareLocation(e,a),t.addBackgroundLable(e,u),t.addVarianceEncodedTarget(e,c),t.addCodeType(e,p),t.addObjectnessScore(e,h),t.endDetectionOutput(e);},t;}();t.DetectionOutput=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRoiPooling=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRoiPooling=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.pooledWidth=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.pooledHeight=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.spatialScale=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startRoiPooling=function(t){t.startObject(3);},t.addPooledWidth=function(t,e){t.addFieldInt32(0,e,0);},t.addPooledHeight=function(t,e){t.addFieldInt32(1,e,0);},t.addSpatialScale=function(t,e){t.addFieldFloat32(2,e,0);},t.endRoiPooling=function(t){return t.endObject();},t.createRoiPooling=function(e,n,r,i){return t.startRoiPooling(e),t.addPooledWidth(e,n),t.addPooledHeight(e,r),t.addSpatialScale(e,i),t.endRoiPooling(e);},t;}();t.RoiPooling=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsProposal=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsProposal=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.featStride=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.baseSize=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.preNmsTopN=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.afterNmsTopN=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.nmsThreshold=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.prototype.minSize=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.ratios=function(e){var n=this.bb.__offset(this.bb_pos,16);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.scales=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.anchors=function(e){var n=this.bb.__offset(this.bb_pos,20);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startProposal=function(t){t.startObject(9);},e.addFeatStride=function(t,e){t.addFieldInt32(0,e,0);},e.addBaseSize=function(t,e){t.addFieldInt32(1,e,0);},e.addPreNmsTopN=function(t,e){t.addFieldInt32(2,e,0);},e.addAfterNmsTopN=function(t,e){t.addFieldInt32(3,e,0);},e.addNmsThreshold=function(t,e){t.addFieldFloat32(4,e,0);},e.addMinSize=function(t,e){t.addFieldInt32(5,e,0);},e.addRatios=function(t,e){t.addFieldOffset(6,e,0);},e.addScales=function(t,e){t.addFieldOffset(7,e,0);},e.addAnchors=function(t,e){t.addFieldOffset(8,e,0);},e.endProposal=function(t){return t.endObject();},e.createProposal=function(t,n,r,i,o,s,a,u,c,p){return e.startProposal(t),e.addFeatStride(t,n),e.addBaseSize(t,r),e.addPreNmsTopN(t,i),e.addAfterNmsTopN(t,o),e.addNmsThreshold(t,s),e.addMinSize(t,a),e.addRatios(t,u),e.addScales(t,c),e.addAnchors(t,p),e.endProposal(t);},e;}();t.Proposal=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsInterp=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsInterp=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.widthScale=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.heightScale=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.outputWidth=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.outputHeight=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.resizeType=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.alignCorners=function(){var t=this.bb.__offset(this.bb_pos,14);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.halfPixelCenters=function(){var t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.startInterp=function(t){t.startObject(7);},t.addWidthScale=function(t,e){t.addFieldFloat32(0,e,0);},t.addHeightScale=function(t,e){t.addFieldFloat32(1,e,0);},t.addOutputWidth=function(t,e){t.addFieldInt32(2,e,0);},t.addOutputHeight=function(t,e){t.addFieldInt32(3,e,0);},t.addResizeType=function(t,e){t.addFieldInt32(4,e,0);},t.addAlignCorners=function(t,e){t.addFieldInt8(5,+e,0);},t.addHalfPixelCenters=function(t,e){t.addFieldInt8(6,+e,0);},t.endInterp=function(t){return t.endObject();},t.createInterp=function(e,n,r,i,o,s,a,u){return t.startInterp(e),t.addWidthScale(e,n),t.addHeightScale(e,r),t.addOutputWidth(e,i),t.addOutputHeight(e,o),t.addResizeType(e,s),t.addAlignCorners(e,a),t.addHalfPixelCenters(e,u),t.endInterp(e);},t;}();t.Interp=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsResize=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsResize=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.xScale=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.yScale=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startResize=function(t){t.startObject(2);},t.addXScale=function(t,e){t.addFieldFloat32(0,e,0);},t.addYScale=function(t,e){t.addFieldFloat32(1,e,0);},t.endResize=function(t){return t.endObject();},t.createResize=function(e,n,r){return t.startResize(e),t.addXScale(e,n),t.addYScale(e,r),t.endResize(e);},t;}();t.Resize=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsPriorBox=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsPriorBox=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.minSizes=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.minSizesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.minSizesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.maxSizes=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.maxSizesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.maxSizesArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.aspectRatios=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.aspectRatiosLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.aspectRatiosArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.variances=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.variancesLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.variancesArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.flip=function(){var t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.clip=function(){var t=this.bb.__offset(this.bb_pos,14);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.imageWidth=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.imageHeight=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.stepWidth=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.stepHeight=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.offset=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startPriorBox=function(t){t.startObject(11);},t.addMinSizes=function(t,e){t.addFieldOffset(0,e,0);},t.createMinSizesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startMinSizesVector=function(t,e){t.startVector(4,e,4);},t.addMaxSizes=function(t,e){t.addFieldOffset(1,e,0);},t.createMaxSizesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startMaxSizesVector=function(t,e){t.startVector(4,e,4);},t.addAspectRatios=function(t,e){t.addFieldOffset(2,e,0);},t.createAspectRatiosVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startAspectRatiosVector=function(t,e){t.startVector(4,e,4);},t.addVariances=function(t,e){t.addFieldOffset(3,e,0);},t.createVariancesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startVariancesVector=function(t,e){t.startVector(4,e,4);},t.addFlip=function(t,e){t.addFieldInt8(4,+e,0);},t.addClip=function(t,e){t.addFieldInt8(5,+e,0);},t.addImageWidth=function(t,e){t.addFieldInt32(6,e,0);},t.addImageHeight=function(t,e){t.addFieldInt32(7,e,0);},t.addStepWidth=function(t,e){t.addFieldInt32(8,e,0);},t.addStepHeight=function(t,e){t.addFieldInt32(9,e,0);},t.addOffset=function(t,e){t.addFieldFloat32(10,e,0);},t.endPriorBox=function(t){return t.endObject();},t.createPriorBox=function(e,n,r,i,o,s,a,u,c,p,h,f){return t.startPriorBox(e),t.addMinSizes(e,n),t.addMaxSizes(e,r),t.addAspectRatios(e,i),t.addVariances(e,o),t.addFlip(e,s),t.addClip(e,a),t.addImageWidth(e,u),t.addImageHeight(e,c),t.addStepWidth(e,p),t.addStepHeight(e,h),t.addOffset(e,f),t.endPriorBox(e);},t;}();t.PriorBox=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsNormalize=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsNormalize=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.acrossSpatial=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.channelShared=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.eps=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.scale=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.scaleLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.scaleArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startNormalize=function(t){t.startObject(4);},t.addAcrossSpatial=function(t,e){t.addFieldInt32(0,e,0);},t.addChannelShared=function(t,e){t.addFieldInt32(1,e,0);},t.addEps=function(t,e){t.addFieldFloat32(2,e,0);},t.addScale=function(t,e){t.addFieldOffset(3,e,0);},t.createScaleVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startScaleVector=function(t,e){t.startVector(4,e,4);},t.endNormalize=function(t){return t.endObject();},t.createNormalize=function(e,n,r,i,o){return t.startNormalize(e),t.addAcrossSpatial(e,n),t.addChannelShared(e,r),t.addEps(e,i),t.addScale(e,o),t.endNormalize(e);},t;}();t.Normalize=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsEltwiseInt8=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsEltwiseInt8=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.EltwiseType.PROD;},e.prototype.inputQuan0=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.QuantizedFloatParam()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.inputQuan1=function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.QuantizedFloatParam()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.outputQuan=function(e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new t.QuantizedFloatParam()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startEltwiseInt8=function(t){t.startObject(4);},e.addType=function(e,n){e.addFieldInt8(0,n,t.EltwiseType.PROD);},e.addInputQuan0=function(t,e){t.addFieldOffset(1,e,0);},e.addInputQuan1=function(t,e){t.addFieldOffset(2,e,0);},e.addOutputQuan=function(t,e){t.addFieldOffset(3,e,0);},e.endEltwiseInt8=function(t){return t.endObject();},e.createEltwiseInt8=function(t,n,r,i,o){return e.startEltwiseInt8(t),e.addType(t,n),e.addInputQuan0(t,r),e.addInputQuan1(t,i),e.addOutputQuan(t,o),e.endEltwiseInt8(t);},e;}();t.EltwiseInt8=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsBinaryOp=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsBinaryOp=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.opType=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.startBinaryOp=function(t){t.startObject(2);},e.addOpType=function(t,e){t.addFieldInt32(0,e,0);},e.addT=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_FLOAT);},e.endBinaryOp=function(t){return t.endObject();},e.createBinaryOp=function(t,n,r){return e.startBinaryOp(t),e.addOpType(t,n),e.addT(t,r),e.endBinaryOp(t);},e;}();t.BinaryOp=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsPackParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsPackParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.startPackParam=function(t){t.startObject(2);},e.addDataType=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addAxis=function(t,e){t.addFieldInt32(1,e,0);},e.endPackParam=function(t){return t.endObject();},e.createPackParam=function(t,n,r){return e.startPackParam(t),e.addDataType(t,n),e.addAxis(t,r),e.endPackParam(t);},e;}();t.PackParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsStridedSliceParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsStridedSliceParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.Index=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.beginMask=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.endMask=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.ellipsisMask=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.newAxisMask=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.shrinkAxisMask=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0;},e.startStridedSliceParam=function(t){t.startObject(7);},e.addIndex=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addT=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.addBeginMask=function(t,e){t.addFieldInt32(2,e,0);},e.addEndMask=function(t,e){t.addFieldInt32(3,e,0);},e.addEllipsisMask=function(t,e){t.addFieldInt32(4,e,0);},e.addNewAxisMask=function(t,e){t.addFieldInt32(5,e,0);},e.addShrinkAxisMask=function(t,e){t.addFieldInt32(6,e,0);},e.endStridedSliceParam=function(t){return t.endObject();},e.createStridedSliceParam=function(t,n,r,i,o,s,a,u){return e.startStridedSliceParam(t),e.addIndex(t,n),e.addT(t,r),e.addBeginMask(t,i),e.addEndMask(t,o),e.addEllipsisMask(t,s),e.addNewAxisMask(t,a),e.addShrinkAxisMask(t,u),e.endStridedSliceParam(t);},e;}();t.StridedSliceParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsSqueezeParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsSqueezeParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.squeezeDims=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.squeezeDimsLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.squeezeDimsArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startSqueezeParam=function(t){t.startObject(1);},t.addSqueezeDims=function(t,e){t.addFieldOffset(0,e,0);},t.createSqueezeDimsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startSqueezeDimsVector=function(t,e){t.startVector(4,e,4);},t.endSqueezeParam=function(t){return t.endObject();},t.createSqueezeParam=function(e,n){return t.startSqueezeParam(e),t.addSqueezeDims(e,n),t.endSqueezeParam(e);},t;}();t.SqueezeParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsCastParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsCastParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.srcT=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.dstT=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startCastParam=function(t){t.startObject(2);},e.addSrcT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addDstT=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.endCastParam=function(t){return t.endObject();},e.createCastParam=function(t,n,r){return e.startCastParam(t),e.addSrcT(t,n),e.addDstT(t,r),e.endCastParam(t);},e;}();t.CastParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsReductionParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsReductionParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.operation=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.ReductionType.SUM;},e.prototype.dim=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dimLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dimArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.coeff=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.prototype.keepDims=function(){var t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.dType=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.startReductionParam=function(t){t.startObject(5);},e.addOperation=function(e,n){e.addFieldInt8(0,n,t.ReductionType.SUM);},e.addDim=function(t,e){t.addFieldOffset(1,e,0);},e.createDimVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDimVector=function(t,e){t.startVector(4,e,4);},e.addCoeff=function(t,e){t.addFieldFloat32(2,e,0);},e.addKeepDims=function(t,e){t.addFieldInt8(3,+e,0);},e.addDType=function(e,n){e.addFieldInt32(4,n,t.DataType.DT_FLOAT);},e.endReductionParam=function(t){return t.endObject();},e.createReductionParam=function(t,n,r,i,o,s){return e.startReductionParam(t),e.addOperation(t,n),e.addDim(t,r),e.addCoeff(t,i),e.addKeepDims(t,o),e.addDType(t,s),e.endReductionParam(t);},e;}();t.ReductionParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsGather=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsGather=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.Tindices=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.Tparams=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.validateIndices=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},e.startGather=function(t){t.startObject(4);},e.addTindices=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addTparams=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.addValidateIndices=function(t,e){t.addFieldInt8(2,+e,0);},e.addAxis=function(t,e){t.addFieldInt32(3,e,0);},e.endGather=function(t){return t.endObject();},e.createGather=function(t,n,r,i,o){return e.startGather(t),e.addTindices(t,n),e.addTparams(t,r),e.addValidateIndices(t,i),e.addAxis(t,o),e.endGather(t);},e;}();t.Gather=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsExpandDims=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsExpandDims=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.Tdim=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},e.startExpandDims=function(t){t.startObject(3);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addTdim=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.addAxis=function(t,e){t.addFieldInt32(2,e,0);},e.endExpandDims=function(t){return t.endObject();},e.createExpandDims=function(t,n,r,i){return e.startExpandDims(t),e.addT(t,n),e.addTdim(t,r),e.addAxis(t,i),e.endExpandDims(t);},e;}();t.ExpandDims=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsSelu=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsSelu=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.scale=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.alpha=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.startSelu=function(t){t.startObject(2);},t.addScale=function(t,e){t.addFieldFloat32(0,e,0);},t.addAlpha=function(t,e){t.addFieldFloat32(1,e,0);},t.endSelu=function(t){return t.endObject();},t.createSelu=function(e,n,r){return t.startSelu(e),t.addScale(e,n),t.addAlpha(e,r),t.endSelu(e);},t;}();t.Selu=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsAsString=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsAsString=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.precision=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.scientific=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.shortest=function(){var t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.width=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.fillString=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null;},e.startAsString=function(t){t.startObject(6);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addPrecision=function(t,e){t.addFieldInt32(1,e,0);},e.addScientific=function(t,e){t.addFieldInt8(2,+e,0);},e.addShortest=function(t,e){t.addFieldInt8(3,+e,0);},e.addWidth=function(t,e){t.addFieldInt32(4,e,0);},e.addFillString=function(t,e){t.addFieldOffset(5,e,0);},e.endAsString=function(t){return t.endObject();},e.createAsString=function(t,n,r,i,o,s,a){return e.startAsString(t),e.addT(t,n),e.addPrecision(t,r),e.addScientific(t,i),e.addShortest(t,o),e.addWidth(t,s),e.addFillString(t,a),e.endAsString(t);},e;}();t.AsString=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsReduceJoin=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsReduceJoin=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.keepDims=function(){var t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.separator=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null;},t.startReduceJoin=function(t){t.startObject(2);},t.addKeepDims=function(t,e){t.addFieldInt8(0,+e,0);},t.addSeparator=function(t,e){t.addFieldOffset(1,e,0);},t.endReduceJoin=function(t){return t.endObject();},t.createReduceJoin=function(e,n,r){return t.startReduceJoin(e),t.addKeepDims(e,n),t.addSeparator(e,r),t.endReduceJoin(e);},t;}();t.ReduceJoin=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsUnaryOp=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsUnaryOp=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.opType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.UnaryOpOperation.ABS;},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startUnaryOp=function(t){t.startObject(2);},e.addOpType=function(e,n){e.addFieldInt32(0,n,t.UnaryOpOperation.ABS);},e.addT=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.endUnaryOp=function(t){return t.endObject();},e.createUnaryOp=function(t,n,r){return e.startUnaryOp(t),e.addOpType(t,n),e.addT(t,r),e.endUnaryOp(t);},e;}();t.UnaryOp=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsTopKV2=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsTopKV2=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.prototype.sorted=function(){var t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.startTopKV2=function(t){t.startObject(2);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_FLOAT);},e.addSorted=function(t,e){t.addFieldInt8(1,+e,0);},e.endTopKV2=function(t){return t.endObject();},e.createTopKV2=function(t,n,r){return e.startTopKV2(t),e.addT(t,n),e.addSorted(t,r),e.endTopKV2(t);},e;}();t.TopKV2=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsCropAndResize=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsCropAndResize=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.extrapolationValue=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0;},e.prototype.method=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):t.CropAndResizeMethod.BILINEAR;},e.startCropAndResize=function(t){t.startObject(2);},e.addExtrapolationValue=function(t,e){t.addFieldFloat32(0,e,0);},e.addMethod=function(e,n){e.addFieldInt8(1,n,t.CropAndResizeMethod.BILINEAR);},e.endCropAndResize=function(t){return t.endObject();},e.createCropAndResize=function(t,n,r){return e.startCropAndResize(t),e.addExtrapolationValue(t,n),e.addMethod(t,r),e.endCropAndResize(t);},e;}();t.CropAndResize=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsFill=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsFill=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startFill=function(t){t.startObject(0);},t.endFill=function(t){return t.endObject();},t.createFill=function(e){return t.startFill(e),t.endFill(e);},t;}();t.Fill=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsGatherV2=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsGatherV2=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.Taxis=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.Tindices=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.Tparams=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startGatherV2=function(t){t.startObject(3);},e.addTaxis=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addTindices=function(e,n){e.addFieldInt32(1,n,t.DataType.DT_INVALID);},e.addTparams=function(e,n){e.addFieldInt32(2,n,t.DataType.DT_INVALID);},e.endGatherV2=function(t){return t.endObject();},e.createGatherV2=function(t,n,r,i){return e.startGatherV2(t),e.addTaxis(t,n),e.addTindices(t,r),e.addTparams(t,i),e.endGatherV2(t);},e;}();t.GatherV2=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsNonMaxSuppressionV2=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsNonMaxSuppressionV2=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startNonMaxSuppressionV2=function(t){t.startObject(0);},t.endNonMaxSuppressionV2=function(t){return t.endObject();},t.createNonMaxSuppressionV2=function(e){return t.startNonMaxSuppressionV2(e),t.endNonMaxSuppressionV2(e);},t;}();t.NonMaxSuppressionV2=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsRange=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsRange=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.Tidx=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startRange=function(t){t.startObject(1);},e.addTidx=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.endRange=function(t){return t.endObject();},e.createRange=function(t,n){return e.startRange(t),e.addTidx(t,n),e.endRange(t);},e;}();t.Range=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRank=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRank=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startRank=function(t){t.startObject(0);},t.endRank=function(t){return t.endObject();},t.createRank=function(e){return t.startRank(e),t.endRank(e);},t;}();t.Rank=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsSize=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsSize=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.outputDataType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startSize=function(t){t.startObject(1);},e.addOutputDataType=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.endSize=function(t){return t.endObject();},e.createSize=function(t,n){return e.startSize(t),e.addOutputDataType(t,n),e.endSize(t);},e;}();t.Size=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsTranspose=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsTranspose=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.Tperm=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startTranspose=function(t){t.startObject(1);},e.addTperm=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.endTranspose=function(t){return t.endObject();},e.createTranspose=function(t,n){return e.startTranspose(t),e.addTperm(t,n),e.endTranspose(t);},e;}();t.Transpose=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsSliceTf=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsSliceTf=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startSliceTf=function(t){t.startObject(1);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.endSliceTf=function(t){return t.endObject();},e.createSliceTf=function(t,n){return e.startSliceTf(t),e.addT(t,n),e.endSliceTf(t);},e;}();t.SliceTf=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsQuantizeMaxMin=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsQuantizeMaxMin=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.startQuantizeMaxMin=function(t){t.startObject(1);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.endQuantizeMaxMin=function(t){return t.endObject();},e.createQuantizeMaxMin=function(t,n){return e.startQuantizeMaxMin(t),e.addT(t,n),e.endQuantizeMaxMin(t);},e;}();t.QuantizeMaxMin=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsCrop=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsCrop=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):2;},t.prototype.offset=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.offsetLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.offsetArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startCrop=function(t){t.startObject(2);},t.addAxis=function(t,e){t.addFieldInt32(0,e,2);},t.addOffset=function(t,e){t.addFieldOffset(1,e,0);},t.createOffsetVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startOffsetVector=function(t,e){t.startVector(4,e,4);},t.endCrop=function(t){return t.endObject();},t.createCrop=function(e,n,r){return t.startCrop(e),t.addAxis(e,n),t.addOffset(e,r),t.endCrop(e);},t;}();t.Crop=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsSpaceBatch=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsSpaceBatch=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.blockShape=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.padding=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startSpaceBatch=function(t){t.startObject(2);},e.addBlockShape=function(t,e){t.addFieldOffset(0,e,0);},e.addPadding=function(t,e){t.addFieldOffset(1,e,0);},e.endSpaceBatch=function(t){return t.endObject();},e.createSpaceBatch=function(t,n,r){return e.startSpaceBatch(t),e.addBlockShape(t,n),e.addPadding(t,r),e.endSpaceBatch(t);},e;}();t.SpaceBatch=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsMatMul=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsMatMul=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.transposeA=function(){var t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.transposeB=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.startMatMul=function(t){t.startObject(5);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addTransposeA=function(t,e){t.addFieldInt8(1,+e,0);},e.addTransposeB=function(t,e){t.addFieldInt8(2,+e,0);},e.addWeight=function(t,e){t.addFieldOffset(3,e,0);},e.createWeightVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(4,e,4);},e.addBias=function(t,e){t.addFieldOffset(4,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.endMatMul=function(t){return t.endObject();},e.createMatMul=function(t,n,r,i,o,s){return e.startMatMul(t),e.addT(t,n),e.addTransposeA(t,r),e.addTransposeB(t,i),e.addWeight(t,o),e.addBias(t,s),e.endMatMul(t);},e;}();t.MatMul=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsDense=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsDense=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.T=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_INVALID;},e.prototype.weight=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.weightLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.weightArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.bias=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.biasLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.biasArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.numOutput=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.biasTerm=function(){var t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.startDense=function(t){t.startObject(5);},e.addT=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_INVALID);},e.addWeight=function(t,e){t.addFieldOffset(1,e,0);},e.createWeightVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startWeightVector=function(t,e){t.startVector(4,e,4);},e.addBias=function(t,e){t.addFieldOffset(2,e,0);},e.createBiasVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},e.startBiasVector=function(t,e){t.startVector(4,e,4);},e.addNumOutput=function(t,e){t.addFieldInt32(3,e,0);},e.addBiasTerm=function(t,e){t.addFieldInt8(4,+e,0);},e.endDense=function(t){return t.endObject();},e.createDense=function(t,n,r,i,o,s){return e.startDense(t),e.addT(t,n),e.addWeight(t,r),e.addBias(t,i),e.addNumOutput(t,o),e.addBiasTerm(t,s),e.endDense(t);},e;}();t.Dense=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsMomentsParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsMomentsParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dim=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.dimLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.dimArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.keepDims=function(){var t=this.bb.__offset(this.bb_pos,6);return!t||!!this.bb.readInt8(this.bb_pos+t);},e.prototype.dType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.startMomentsParam=function(t){t.startObject(3);},e.addDim=function(t,e){t.addFieldOffset(0,e,0);},e.createDimVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startDimVector=function(t,e){t.startVector(4,e,4);},e.addKeepDims=function(t,e){t.addFieldInt8(1,+e,1);},e.addDType=function(e,n){e.addFieldInt32(2,n,t.DataType.DT_FLOAT);},e.endMomentsParam=function(t){return t.endObject();},e.createMomentsParam=function(t,n,r,i){return e.startMomentsParam(t),e.addDim(t,n),e.addKeepDims(t,r),e.addDType(t,i),e.endMomentsParam(t);},e;}();t.MomentsParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsRNNParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsRNNParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.numUnits=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.isBidirectionalRNN=function(){var t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.keepAllOutputs=function(){var t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},e.prototype.fwGateWeight=function(e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.fwGateBias=function(e){var n=this.bb.__offset(this.bb_pos,12);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.fwCandidateWeight=function(e){var n=this.bb.__offset(this.bb_pos,14);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.fwCandidateBias=function(e){var n=this.bb.__offset(this.bb_pos,16);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.bwGateWeight=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.bwGateBias=function(e){var n=this.bb.__offset(this.bb_pos,20);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.bwCandidateWeight=function(e){var n=this.bb.__offset(this.bb_pos,22);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.bwCandidateBias=function(e){var n=this.bb.__offset(this.bb_pos,24);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.startRNNParam=function(t){t.startObject(11);},e.addNumUnits=function(t,e){t.addFieldInt32(0,e,0);},e.addIsBidirectionalRNN=function(t,e){t.addFieldInt8(1,+e,0);},e.addKeepAllOutputs=function(t,e){t.addFieldInt8(2,+e,0);},e.addFwGateWeight=function(t,e){t.addFieldOffset(3,e,0);},e.addFwGateBias=function(t,e){t.addFieldOffset(4,e,0);},e.addFwCandidateWeight=function(t,e){t.addFieldOffset(5,e,0);},e.addFwCandidateBias=function(t,e){t.addFieldOffset(6,e,0);},e.addBwGateWeight=function(t,e){t.addFieldOffset(7,e,0);},e.addBwGateBias=function(t,e){t.addFieldOffset(8,e,0);},e.addBwCandidateWeight=function(t,e){t.addFieldOffset(9,e,0);},e.addBwCandidateBias=function(t,e){t.addFieldOffset(10,e,0);},e.endRNNParam=function(t){return t.endObject();},e.createRNNParam=function(t,n,r,i,o,s,a,u,c,p,h,f){return e.startRNNParam(t),e.addNumUnits(t,n),e.addIsBidirectionalRNN(t,r),e.addKeepAllOutputs(t,i),e.addFwGateWeight(t,o),e.addFwGateBias(t,s),e.addFwCandidateWeight(t,a),e.addFwCandidateBias(t,u),e.addBwGateWeight(t,c),e.addBwGateBias(t,p),e.addBwCandidateWeight(t,h),e.addBwCandidateBias(t,f),e.endRNNParam(t);},e;}();t.RNNParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsBatchMatMulParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsBatchMatMulParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.adjX=function(){var t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.adjY=function(){var t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.startBatchMatMulParam=function(t){t.startObject(2);},t.addAdjX=function(t,e){t.addFieldInt8(0,+e,0);},t.addAdjY=function(t,e){t.addFieldInt8(1,+e,0);},t.endBatchMatMulParam=function(t){return t.endObject();},t.createBatchMatMulParam=function(e,n,r){return t.startBatchMatMulParam(e),t.addAdjX(e,n),t.addAdjY(e,r),t.endBatchMatMulParam(e);},t;}();t.BatchMatMulParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsDepthSpaceParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsDepthSpaceParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.blockSize=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.startDepthSpaceParam=function(t){t.startObject(1);},t.addBlockSize=function(t,e){t.addFieldInt32(0,e,0);},t.endDepthSpaceParam=function(t){return t.endObject();},t.createDepthSpaceParam=function(e,n){return t.startDepthSpaceParam(e),t.addBlockSize(e,n),t.endDepthSpaceParam(e);},t;}();t.DepthSpaceParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsReverseSequenceParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsReverseSequenceParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.batchDim=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.seqDim=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.startReverseSequenceParam=function(t){t.startObject(2);},t.addBatchDim=function(t,e){t.addFieldInt32(0,e,0);},t.addSeqDim=function(t,e){t.addFieldInt32(1,e,0);},t.endReverseSequenceParam=function(t){return t.endObject();},t.createReverseSequenceParam=function(e,n,r){return t.startReverseSequenceParam(e),t.addBatchDim(e,n),t.addSeqDim(e,r),t.endReverseSequenceParam(e);},t;}();t.ReverseSequenceParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsDetectionPostProcessParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsDetectionPostProcessParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.maxDetections=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.maxClassesPerDetection=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.detectionsPerClass=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.nmsScoreThreshold=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.iouThreshold=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.numClasses=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):0;},t.prototype.useRegularNMS=function(){var t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t);},t.prototype.centerSizeEncoding=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.centerSizeEncodingLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.centerSizeEncodingArray=function(){var t=this.bb.__offset(this.bb_pos,18);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startDetectionPostProcessParam=function(t){t.startObject(8);},t.addMaxDetections=function(t,e){t.addFieldInt32(0,e,0);},t.addMaxClassesPerDetection=function(t,e){t.addFieldInt32(1,e,0);},t.addDetectionsPerClass=function(t,e){t.addFieldInt32(2,e,0);},t.addNmsScoreThreshold=function(t,e){t.addFieldFloat32(3,e,0);},t.addIouThreshold=function(t,e){t.addFieldFloat32(4,e,0);},t.addNumClasses=function(t,e){t.addFieldInt32(5,e,0);},t.addUseRegularNMS=function(t,e){t.addFieldInt8(6,+e,0);},t.addCenterSizeEncoding=function(t,e){t.addFieldOffset(7,e,0);},t.createCenterSizeEncodingVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startCenterSizeEncodingVector=function(t,e){t.startVector(4,e,4);},t.endDetectionPostProcessParam=function(t){return t.endObject();},t.createDetectionPostProcessParam=function(e,n,r,i,o,s,a,u,c){return t.startDetectionPostProcessParam(e),t.addMaxDetections(e,n),t.addMaxClassesPerDetection(e,r),t.addDetectionsPerClass(e,i),t.addNmsScoreThreshold(e,o),t.addIouThreshold(e,s),t.addNumClasses(e,a),t.addUseRegularNMS(e,u),t.addCenterSizeEncoding(e,c),t.endDetectionPostProcessParam(e);},t;}();t.DetectionPostProcessParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsOneHotParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsOneHotParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.dType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.DataType.DT_FLOAT;},e.prototype.axis=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):-1;},e.startOneHotParam=function(t){t.startObject(2);},e.addDType=function(e,n){e.addFieldInt32(0,n,t.DataType.DT_FLOAT);},e.addAxis=function(t,e){t.addFieldInt32(1,e,-1);},e.endOneHotParam=function(t){return t.endObject();},e.createOneHotParam=function(t,n,r){return e.startOneHotParam(t),e.addDType(t,n),e.addAxis(t,r),e.endOneHotParam(t);},e;}();t.OneHotParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsPadParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsPadParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.mode=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.PadValueMode.CONSTANT;},e.startPadParam=function(t){t.startObject(1);},e.addMode=function(e,n){e.addFieldInt8(0,n,t.PadValueMode.CONSTANT);},e.endPadParam=function(t){return t.endObject();},e.createPadParam=function(t,n){return e.startPadParam(t),e.addMode(t,n),e.endPadParam(t);},e;}();t.PadParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsLayerNorm=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsLayerNorm=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.axis=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.axisLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.axisArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.epsilon=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0;},t.prototype.gamma=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.gammaLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.gammaArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.prototype.beta=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0;},t.prototype.betaLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.prototype.betaArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},t.startLayerNorm=function(t){t.startObject(4);},t.addAxis=function(t,e){t.addFieldOffset(0,e,0);},t.createAxisVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},t.startAxisVector=function(t,e){t.startVector(4,e,4);},t.addEpsilon=function(t,e){t.addFieldFloat32(1,e,0);},t.addGamma=function(t,e){t.addFieldOffset(2,e,0);},t.createGammaVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startGammaVector=function(t,e){t.startVector(4,e,4);},t.addBeta=function(t,e){t.addFieldOffset(3,e,0);},t.createBetaVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addFloat32(e[n]);}return t.endVector();},t.startBetaVector=function(t,e){t.startVector(4,e,4);},t.endLayerNorm=function(t){return t.endObject();},t.createLayerNorm=function(e,n,r,i,o){return t.startLayerNorm(e),t.addAxis(e,n),t.addEpsilon(e,r),t.addGamma(e,i),t.addBeta(e,o),t.endLayerNorm(e);},t;}();t.LayerNorm=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsGpuBuffer=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsGpuBuffer=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startGpuBuffer=function(t){t.startObject(0);},t.endGpuBuffer=function(t){return t.endObject();},t.createGpuBuffer=function(e){return t.startGpuBuffer(e),t.endGpuBuffer(e);},t;}();t.GpuBuffer=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsGpuPipeline=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsGpuPipeline=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startGpuPipeline=function(t){t.startObject(0);},t.endGpuPipeline=function(t){return t.endObject();},t.createGpuPipeline=function(e){return t.startGpuPipeline(e),t.endGpuPipeline(e);},t;}();t.GpuPipeline=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsGpuStage=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsGpuStage=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startGpuStage=function(t){t.startObject(0);},t.endGpuStage=function(t){return t.endObject();},t.createGpuStage=function(e){return t.startGpuStage(e),t.endGpuStage(e);},t;}();t.GpuStage=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsGpuFunction=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsGpuFunction=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startGpuFunction=function(t){t.startObject(0);},t.endGpuFunction=function(t){return t.endObject();},t.createGpuFunction=function(e){return t.startGpuFunction(e),t.endGpuFunction(e);},t;}();t.GpuFunction=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsGpuLibrary=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsGpuLibrary=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startGpuLibrary=function(t){t.startObject(0);},t.endGpuLibrary=function(t){return t.endObject();},t.createGpuLibrary=function(e){return t.startGpuLibrary(e),t.endGpuLibrary(e);},t;}();t.GpuLibrary=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedParam=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedParam=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedParam=function(t){t.startObject(0);},t.endQuantizedParam=function(t){return t.endObject();},t.createQuantizedParam=function(e){return t.startQuantizedParam(e),t.endQuantizedParam(e);},t;}();t.QuantizedParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedAdd=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedAdd=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedAdd=function(t){t.startObject(0);},t.endQuantizedAdd=function(t){return t.endObject();},t.createQuantizedAdd=function(e){return t.startQuantizedAdd(e),t.endQuantizedAdd(e);},t;}();t.QuantizedAdd=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsDequantize=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsDequantize=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startDequantize=function(t){t.startObject(0);},t.endDequantize=function(t){return t.endObject();},t.createDequantize=function(e){return t.startDequantize(e),t.endDequantize(e);},t;}();t.Dequantize=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedAvgPool=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedAvgPool=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedAvgPool=function(t){t.startObject(0);},t.endQuantizedAvgPool=function(t){return t.endObject();},t.createQuantizedAvgPool=function(e){return t.startQuantizedAvgPool(e),t.endQuantizedAvgPool(e);},t;}();t.QuantizedAvgPool=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedBiasAdd=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedBiasAdd=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedBiasAdd=function(t){t.startObject(0);},t.endQuantizedBiasAdd=function(t){return t.endObject();},t.createQuantizedBiasAdd=function(e){return t.startQuantizedBiasAdd(e),t.endQuantizedBiasAdd(e);},t;}();t.QuantizedBiasAdd=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedConcat=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedConcat=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedConcat=function(t){t.startObject(0);},t.endQuantizedConcat=function(t){return t.endObject();},t.createQuantizedConcat=function(e){return t.startQuantizedConcat(e),t.endQuantizedConcat(e);},t;}();t.QuantizedConcat=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedLogistic=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedLogistic=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedLogistic=function(t){t.startObject(0);},t.endQuantizedLogistic=function(t){return t.endObject();},t.createQuantizedLogistic=function(e){return t.startQuantizedLogistic(e),t.endQuantizedLogistic(e);},t;}();t.QuantizedLogistic=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedMatMul=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedMatMul=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedMatMul=function(t){t.startObject(0);},t.endQuantizedMatMul=function(t){return t.endObject();},t.createQuantizedMatMul=function(e){return t.startQuantizedMatMul(e),t.endQuantizedMatMul(e);},t;}();t.QuantizedMatMul=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedMaxPool=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedMaxPool=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedMaxPool=function(t){t.startObject(0);},t.endQuantizedMaxPool=function(t){return t.endObject();},t.createQuantizedMaxPool=function(e){return t.startQuantizedMaxPool(e),t.endQuantizedMaxPool(e);},t;}();t.QuantizedMaxPool=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedRelu=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedRelu=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedRelu=function(t){t.startObject(0);},t.endQuantizedRelu=function(t){return t.endObject();},t.createQuantizedRelu=function(e){return t.startQuantizedRelu(e),t.endQuantizedRelu(e);},t;}();t.QuantizedRelu=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedRelu6=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedRelu6=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedRelu6=function(t){t.startObject(0);},t.endQuantizedRelu6=function(t){return t.endObject();},t.createQuantizedRelu6=function(e){return t.startQuantizedRelu6(e),t.endQuantizedRelu6(e);},t;}();t.QuantizedRelu6=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedReshape=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedReshape=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedReshape=function(t){t.startObject(0);},t.endQuantizedReshape=function(t){return t.endObject();},t.createQuantizedReshape=function(e){return t.startQuantizedReshape(e),t.endQuantizedReshape(e);},t;}();t.QuantizedReshape=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizedSoftmax=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizedSoftmax=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizedSoftmax=function(t){t.startObject(0);},t.endQuantizedSoftmax=function(t){return t.endObject();},t.createQuantizedSoftmax=function(e){return t.startQuantizedSoftmax(e),t.endQuantizedSoftmax(e);},t;}();t.QuantizedSoftmax=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsQuantizeV2=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsQuantizeV2=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startQuantizeV2=function(t){t.startObject(0);},t.endQuantizeV2=function(t){return t.endObject();},t.createQuantizeV2=function(e){return t.startQuantizeV2(e),t.endQuantizeV2(e);},t;}();t.QuantizeV2=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRequantizationRange=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRequantizationRange=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startRequantizationRange=function(t){t.startObject(0);},t.endRequantizationRange=function(t){return t.endObject();},t.createRequantizationRange=function(e){return t.startRequantizationRange(e),t.endRequantizationRange(e);},t;}();t.RequantizationRange=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsRequantize=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsRequantize=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startRequantize=function(t){t.startObject(0);},t.endRequantize=function(t){return t.endObject();},t.createRequantize=function(e){return t.startRequantize(e),t.endRequantize(e);},t;}();t.Requantize=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsTfQuantizedConv2D=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsTfQuantizedConv2D=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.startTfQuantizedConv2D=function(t){t.startObject(0);},t.endTfQuantizedConv2D=function(t){return t.endObject();},t.createTfQuantizedConv2D=function(e){return t.startTfQuantizedConv2D(e),t.endTfQuantizedConv2D(e);},t;}();t.TfQuantizedConv2D=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsTensorConvertInfo=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsTensorConvertInfo=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.source=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NCHW;},e.prototype.dest=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NCHW;},e.startTensorConvertInfo=function(t){t.startObject(2);},e.addSource=function(e,n){e.addFieldInt8(0,n,t.MNN_DATA_FORMAT.NCHW);},e.addDest=function(e,n){e.addFieldInt8(1,n,t.MNN_DATA_FORMAT.NCHW);},e.endTensorConvertInfo=function(t){return t.endObject();},e.createTensorConvertInfo=function(t,n,r){return e.startTensorConvertInfo(t),e.addSource(t,n),e.addDest(t,r),e.endTensorConvertInfo(t);},e;}();t.TensorConvertInfo=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsPlugin=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsPlugin=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.type=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.attr=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.Attribute()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.attrLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startPlugin=function(t){t.startObject(2);},e.addType=function(t,e){t.addFieldOffset(0,e,0);},e.addAttr=function(t,e){t.addFieldOffset(1,e,0);},e.createAttrVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAttrVector=function(t,e){t.startVector(4,e,4);},e.endPlugin=function(t){return t.endObject();},e.createPlugin=function(t,n,r){return e.startPlugin(t),e.addType(t,n),e.addAttr(t,r),e.endPlugin(t);},e;}();t.Plugin=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsExtra=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsExtra=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.type=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.engine=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.info=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t):0;},e.prototype.infoLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.infoArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.attr=function(e,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new t.Attribute()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.attrLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startExtra=function(t){t.startObject(4);},e.addType=function(t,e){t.addFieldOffset(0,e,0);},e.addEngine=function(t,e){t.addFieldOffset(1,e,0);},e.addInfo=function(t,e){t.addFieldOffset(2,e,0);},e.createInfoVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--){t.addInt8(e[n]);}return t.endVector();},e.startInfoVector=function(t,e){t.startVector(1,e,1);},e.addAttr=function(t,e){t.addFieldOffset(3,e,0);},e.createAttrVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAttrVector=function(t,e){t.startVector(4,e,4);},e.endExtra=function(t){return t.endObject();},e.createExtra=function(t,n,r,i,o){return e.startExtra(t),e.addType(t,n),e.addEngine(t,r),e.addInfo(t,i),e.addAttr(t,o),e.endExtra(t);},e;}();t.Extra=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0;}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},t.getRootAsStringVec=function(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.getSizePrefixedRootAsStringVec=function(e,n){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);},t.prototype.data=function(t,e){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},t.prototype.dataLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},t.startStringVec=function(t){t.startObject(1);},t.addData=function(t,e){t.addFieldOffset(0,e,0);},t.createDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},t.startDataVector=function(t,e){t.startVector(4,e,4);},t.endStringVec=function(t){return t.endObject();},t.createStringVec=function(e,n){return t.startStringVec(e),t.addData(e,n),t.endStringVec(e);},t;}();t.StringVec=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsWhileParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsWhileParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.condGraph=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.bodyGraph=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.aliasesInputs=function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.StringVec()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.aliasesInputsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.aliasesOutputs=function(t,e){var n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},e.prototype.aliasesOutputsLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.aliasesUpdates=function(e,n){var r=this.bb.__offset(this.bb_pos,12);return r?(n||new t.StringVec()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.aliasesUpdatesLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startWhileParam=function(t){t.startObject(5);},e.addCondGraph=function(t,e){t.addFieldOffset(0,e,0);},e.addBodyGraph=function(t,e){t.addFieldOffset(1,e,0);},e.addAliasesInputs=function(t,e){t.addFieldOffset(2,e,0);},e.createAliasesInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAliasesInputsVector=function(t,e){t.startVector(4,e,4);},e.addAliasesOutputs=function(t,e){t.addFieldOffset(3,e,0);},e.createAliasesOutputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAliasesOutputsVector=function(t,e){t.startVector(4,e,4);},e.addAliasesUpdates=function(t,e){t.addFieldOffset(4,e,0);},e.createAliasesUpdatesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAliasesUpdatesVector=function(t,e){t.startVector(4,e,4);},e.endWhileParam=function(t){return t.endObject();},e.createWhileParam=function(t,n,r,i,o,s){return e.startWhileParam(t),e.addCondGraph(t,n),e.addBodyGraph(t,r),e.addAliasesInputs(t,i),e.addAliasesOutputs(t,o),e.addAliasesUpdates(t,s),e.endWhileParam(t);},e;}();t.WhileParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsIfParam=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsIfParam=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.thenGraph=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.elseGraph=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.aliasesInputs=function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.StringVec()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.aliasesInputsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.aliasesOutputs=function(e,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new t.StringVec()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.aliasesOutputsLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startIfParam=function(t){t.startObject(4);},e.addThenGraph=function(t,e){t.addFieldOffset(0,e,0);},e.addElseGraph=function(t,e){t.addFieldOffset(1,e,0);},e.addAliasesInputs=function(t,e){t.addFieldOffset(2,e,0);},e.createAliasesInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAliasesInputsVector=function(t,e){t.startVector(4,e,4);},e.addAliasesOutputs=function(t,e){t.addFieldOffset(3,e,0);},e.createAliasesOutputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startAliasesOutputsVector=function(t,e){t.startVector(4,e,4);},e.endIfParam=function(t){return t.endObject();},e.createIfParam=function(t,n,r,i,o){return e.startIfParam(t),e.addThenGraph(t,n),e.addElseGraph(t,r),e.addAliasesInputs(t,i),e.addAliasesOutputs(t,o),e.endIfParam(t);},e;}();t.IfParam=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsOp=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsOp=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.inputIndexes=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.inputIndexesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.inputIndexesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.mainType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.OpParameter.NONE;},e.prototype.main=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null;},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.outputIndexes=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.outputIndexesLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.outputIndexesArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt32(this.bb_pos+e):t.OpType.AbsVal;},e.prototype.defaultDimentionFormat=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt8(this.bb_pos+e):t.MNN_DATA_FORMAT.NHWC;},e.startOp=function(t){t.startObject(7);},e.addInputIndexes=function(t,e){t.addFieldOffset(0,e,0);},e.createInputIndexesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startInputIndexesVector=function(t,e){t.startVector(4,e,4);},e.addMainType=function(e,n){e.addFieldInt8(1,n,t.OpParameter.NONE);},e.addMain=function(t,e){t.addFieldOffset(2,e,0);},e.addName=function(t,e){t.addFieldOffset(3,e,0);},e.addOutputIndexes=function(t,e){t.addFieldOffset(4,e,0);},e.createOutputIndexesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startOutputIndexesVector=function(t,e){t.startVector(4,e,4);},e.addType=function(e,n){e.addFieldInt32(5,n,t.OpType.AbsVal);},e.addDefaultDimentionFormat=function(e,n){e.addFieldInt8(6,n,t.MNN_DATA_FORMAT.NHWC);},e.endOp=function(t){return t.endObject();},e.createOp=function(t,n,r,i,o,s,a,u){return e.startOp(t),e.addInputIndexes(t,n),e.addMainType(t,r),e.addMain(t,i),e.addName(t,o),e.addOutputIndexes(t,s),e.addType(t,a),e.addDefaultDimentionFormat(t,u),e.endOp(t);},e;}();t.Op=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsTensorDescribe=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsTensorDescribe=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.blob=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.Blob()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null;},e.startTensorDescribe=function(t){t.startObject(3);},e.addBlob=function(t,e){t.addFieldOffset(0,e,0);},e.addIndex=function(t,e){t.addFieldInt32(1,e,0);},e.addName=function(t,e){t.addFieldOffset(2,e,0);},e.endTensorDescribe=function(t){return t.endObject();},e.createTensorDescribe=function(t,n,r,i){return e.startTensorDescribe(t),e.addBlob(t,n),e.addIndex(t,r),e.addName(t,i),e.endTensorDescribe(t);},e;}();t.TensorDescribe=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsSubGraphProto=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsSubGraphProto=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.inputs=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.inputsLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.inputsArray=function(){var t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.outputs=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0;},e.prototype.outputsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.outputsArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null;},e.prototype.tensors=function(t,e){var n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},e.prototype.tensorsLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.nodes=function(e,n){var r=this.bb.__offset(this.bb_pos,12);return r?(n||new t.Op()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.nodesLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startSubGraphProto=function(t){t.startObject(5);},e.addName=function(t,e){t.addFieldOffset(0,e,0);},e.addInputs=function(t,e){t.addFieldOffset(1,e,0);},e.createInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startInputsVector=function(t,e){t.startVector(4,e,4);},e.addOutputs=function(t,e){t.addFieldOffset(2,e,0);},e.createOutputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addInt32(e[n]);}return t.endVector();},e.startOutputsVector=function(t,e){t.startVector(4,e,4);},e.addTensors=function(t,e){t.addFieldOffset(3,e,0);},e.createTensorsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startTensorsVector=function(t,e){t.startVector(4,e,4);},e.addNodes=function(t,e){t.addFieldOffset(4,e,0);},e.createNodesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startNodesVector=function(t,e){t.startVector(4,e,4);},e.endSubGraphProto=function(t){return t.endObject();},e.createSubGraphProto=function(t,n,r,i,o,s){return e.startSubGraphProto(t),e.addName(t,n),e.addInputs(t,r),e.addOutputs(t,i),e.addTensors(t,o),e.addNodes(t,s),e.endSubGraphProto(t);},e;}();t.SubGraphProto=e;}(e.MNN||(e.MNN={})),function(t){var e=function(){function e(){this.bb=null,this.bb_pos=0;}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this;},e.getRootAsNet=function(t,n){return(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.getSizePrefixedRootAsNet=function(t,n){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(n||new e()).__init(t.readInt32(t.position())+t.position(),t);},e.prototype.bizCode=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null;},e.prototype.extraTensorDescribe=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.TensorDescribe()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.extraTensorDescribeLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.gpulibrary=function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.GpuLibrary()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;},e.prototype.oplists=function(e,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new t.Op()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.oplistsLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.outputName=function(t,e){var n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},e.prototype.outputNameLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.preferForwardType=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt8(this.bb_pos+e):t.ForwardType.CPU;},e.prototype.sourceType=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt8(this.bb_pos+e):t.NetSource.CAFFE;},e.prototype.tensorName=function(t,e){var n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null;},e.prototype.tensorNameLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.prototype.tensorNumber=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt32(this.bb_pos+t):0;},e.prototype.usage=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt8(this.bb_pos+e):t.Usage.INFERENCE;},e.prototype.subgraphs=function(e,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new t.SubGraphProto()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null;},e.prototype.subgraphsLength=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0;},e.startNet=function(t){t.startObject(11);},e.addBizCode=function(t,e){t.addFieldOffset(0,e,0);},e.addExtraTensorDescribe=function(t,e){t.addFieldOffset(1,e,0);},e.createExtraTensorDescribeVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startExtraTensorDescribeVector=function(t,e){t.startVector(4,e,4);},e.addGpulibrary=function(t,e){t.addFieldOffset(2,e,0);},e.addOplists=function(t,e){t.addFieldOffset(3,e,0);},e.createOplistsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startOplistsVector=function(t,e){t.startVector(4,e,4);},e.addOutputName=function(t,e){t.addFieldOffset(4,e,0);},e.createOutputNameVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startOutputNameVector=function(t,e){t.startVector(4,e,4);},e.addPreferForwardType=function(e,n){e.addFieldInt8(5,n,t.ForwardType.CPU);},e.addSourceType=function(e,n){e.addFieldInt8(6,n,t.NetSource.CAFFE);},e.addTensorName=function(t,e){t.addFieldOffset(7,e,0);},e.createTensorNameVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startTensorNameVector=function(t,e){t.startVector(4,e,4);},e.addTensorNumber=function(t,e){t.addFieldInt32(8,e,0);},e.addUsage=function(e,n){e.addFieldInt8(9,n,t.Usage.INFERENCE);},e.addSubgraphs=function(t,e){t.addFieldOffset(10,e,0);},e.createSubgraphsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--){t.addOffset(e[n]);}return t.endVector();},e.startSubgraphsVector=function(t,e){t.startVector(4,e,4);},e.endNet=function(t){return t.endObject();},e.finishNetBuffer=function(t,e){t.finish(e);},e.finishSizePrefixedNetBuffer=function(t,e){t.finish(e,void 0,!0);},e.createNet=function(t,n,r,i,o,s,a,u,c,p,h,f){return e.startNet(t),e.addBizCode(t,n),e.addExtraTensorDescribe(t,r),e.addGpulibrary(t,i),e.addOplists(t,o),e.addOutputName(t,s),e.addPreferForwardType(t,a),e.addSourceType(t,u),e.addTensorName(t,c),e.addTensorNumber(t,p),e.addUsage(t,h),e.addSubgraphs(t,f),e.endNet(t);},e;}();t.Net=e;}(e.MNN||(e.MNN={}));},function(t,e,n){"use strict";var _r5,i=this&&this.__extends||(_r5=function r(t,e){return(_r5=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r5(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBuilder=e.WebGLPrecision=void 0;var o=n(9),s=n(10);Object.defineProperty(e,"WebGLPrecision",{enumerable:!0,get:function get(){return s.WebGLPrecision;}});var a=n(22),u=n(23),c=n(24),p=n(26),h=n(27),f=n(28),d=n(29),l=n(30),b=n(31),_=n(32),y=n(33),m=n(34),v=n(35),g=n(36),x=n(37),T=n(38),w=n(39),S=n(40),I=n(41),O=n(42),N=n(43),A=n(44),P=n(45),D=n(46),V=n(47),F=n(48),E=n(49),R=n(50),M=n(51),C=n(52),L=n(53),z=function(t){function e(e){var n=t.call(this)||this;return n.runtime=e,n;}return i(e,t),e.create=function(t,n){var r=t;r.precision=t.precision||s.WebGLPrecision.High,r.enableProgramReusing=t.enableProgramReusing||!0,r.enableDownloadAcceleration=t.enableDownloadAcceleration||!0,r.enableUploadAcceleration=t.enableUploadAcceleration||!0,r.minimumTextureSizeForDownloadAcceleration=t.minimumTextureSizeForDownloadAcceleration||10240,r.minimumTextureSizeForUploadAcceleration=t.minimumTextureSizeForUploadAcceleration||10240;var i=u.WebGL2Runtime.create(r,n);if(i)return new e(i);var o=a.WebGL1Runtime.create(r,n);return o?new e(o):(console.warn("no webgl runtime support in this device !!!"),null);},e.prototype.supportedOperators=function(){var t=[];for(var e in this){e.startsWith("build")&&t.push(e.substr(5));}return t;},Object.defineProperty(e.prototype,"maximumInputs",{get:function get(){return this.runtime.maxTextureImageUnits;},enumerable:!1,configurable:!0}),e.prototype.buildBinaryOp=function(t,e,n,r){this._variables[e[0]]=new c.BinaryVar(n[0],this.runtime,r);},e.prototype.buildCast=function(t,e,n,r,i){this._variables[e[0]]=new p.CastVar(n[0],this.runtime,r,i);},e.prototype.buildConcat=function(t,e,n,r){this._variables[e[0]]=new h.ConcatVar(n[0],this.runtime,r);},e.prototype.buildConvertTensor=function(t,e,n,r,i){this._variables[e[0]]=new f.ConvertTensorVar(n[0],this.runtime,r,i);},e.prototype.buildConvolution=function(t,e,n,r,i,o,s,a,u,c,p,h,f){this._variables[e[0]]=new l.ConvolutionVar(n[0],this.runtime,r,i,o,s,a,u,c,p,h,f);},e.prototype.buildConvolutionDepthwise=function(t,e,n,r,i,o,s,a,u,c,p,h,f){this._variables[e[0]]=new d.ConvolutionDepthwiseVar(n[0],this.runtime,r,i,o,s,a,u,c,p,h,f);},e.prototype.buildCropAndResize=function(t,e,n,r,i){this._variables[e[0]]=new b.CropAndResizeVar(n[0],this.runtime,r,i);},e.prototype.buildEltwise=function(t,e,n,r){this._variables[e[0]]=new c.BinaryVar(n[0],this.runtime,r);},e.prototype.buildExpandDims=function(t,e,n,r){this._variables[e[0]]=new _.ExpandDimsVar(n[0],this.runtime,r);},e.prototype.buildGatherV2=function(t,e,n){this._variables[e[0]]=new y.GatherV2Var(n[0],this.runtime);},e.prototype.buildInput=function(t,e,n,r,i,o){this._variables[e[0]]=new m.InputVar(n[0],this.runtime,o,r,i);},e.prototype.buildInterp=function(t,e,n,r,i,o,s,a,u){this._variables[e[0]]=new v.InterpVar(n[0],this.runtime,r,i,o,s,a,u);},e.prototype.buildMatMul=function(t,e,n,r,i){this._variables[e[0]]=new g.MatMulVar(n[0],this.runtime,r,i);},e.prototype.buildPack=function(t,e,n,r){this._variables[e[0]]=new x.PackVar(n[0],this.runtime,r);},e.prototype.buildPadding=function(t,e,n){this._variables[e[0]]=new T.PaddingVar(n[0],this.runtime);},e.prototype.buildPooling=function(t,e,n,r,i,o,s,a,u,c){this._variables[e[0]]=new w.PoolingVar(n[0],this.runtime,r,i,o,s,a,u,c);},e.prototype.buildPReLU=function(t,e,n,r){this._variables[e[0]]=new S.PReluVar(n[0],this.runtime,r);},e.prototype.buildReduction=function(t,e,n,r,i,o){this._variables[e[0]]=new I.ReductionVar(n[0],this.runtime,r,i,o);},e.prototype.buildReLU=function(t,e,n,r){this._variables[e[0]]=new O.ReluVar(n[0],this.runtime,r);},e.prototype.buildReshape=function(t,e,n,r,i){this._variables[e[0]]=new N.ReshapeVar(n[0],this.runtime,r,i);},e.prototype.buildSigmoid=function(t,e,n){this._variables[e[0]]=new A.SigmoidVar(n[0],this.runtime);},e.prototype.buildSliceTf=function(t,e,n){this._variables[e[0]]=new P.SliceTfVar(n[0],this.runtime);},e.prototype.buildSlice=function(t,e,n,r,i){for(var o=0;o<e.length;o++){var s=e[o],a=n[o];this._variables[s]=new D.SliceVar(a,this.runtime,r,i,o);}},e.prototype.buildSoftmax=function(t,e,n,r){this._variables[e[0]]=new V.SoftmaxVar(n[0],this.runtime,r);},e.prototype.buildSqueeze=function(t,e,n,r){this._variables[e[0]]=new F.SqueezeVar(n[0],this.runtime,r);},e.prototype.buildTile=function(t,e,n){this._variables[e[0]]=new E.TileVar(n[0],this.runtime);},e.prototype.buildTranspose=function(t,e,n){this._variables[e[0]]=new R.TransposeVar(n[0],this.runtime);},e.prototype.buildUnaryOp=function(t,e,n,r){this._variables[e[0]]=new M.UnaryVar(n[0],this.runtime,r);},e.prototype.buildUnpack=function(t,e,n,r){for(var i=0;i<e.length;i++){this._variables[e[i]]=new C.UnpackVar(n[i],this.runtime,r,i);}},e.prototype.buildUnsqueeze=function(t,e,n,r){this._variables[e[0]]=new L.UnsqueezeVar(n[0],this.runtime,r);},e;}(o.OnboardBuilder);e.WebGLBuilder=z;},function(t,e,n){"use strict";var _r6,i=this&&this.__extends||(_r6=function r(t,e){return(_r6=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r6(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGL1Runtime=void 0;var c=n(12),p=n(13),h=n(5),f=n(10),d=n(7),l=a(n(1)),b=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.gl=n,o.vertexBuffer=r,o.framebuffer=i,o.cachedPrograms={},o.drawSteps=0,o.precision=e.precision,o.enableProgramReusing=e.enableProgramReusing,o.enableDownloadAcceleration=e.enableDownloadAcceleration,o.enableUploadAcceleration=e.enableUploadAcceleration,o.minimumTextureSizeForDownloadAcceleration=e.minimumTextureSizeForDownloadAcceleration,o.minimumTextureSizeForUploadAcceleration=e.minimumTextureSizeForUploadAcceleration,o.textureType=n.FLOAT,o.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)||4096,o.maxTextureImageUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)||16,o;}return i(e,t),e.prototype.dispose=function(){this.deleteShader(this.defaultVertexShader);},Object.defineProperty(e.prototype,"precisionDescription",{get:function get(){var t="";switch(this.precision){case f.WebGLPrecision.High:t="precision highp ";break;case f.WebGLPrecision.Medium:t="precision mediump ";break;case f.WebGLPrecision.Low:t="precision lowp ";}return t+" float;\nprecision highp int;\n"+t+" sampler2D;";},enumerable:!1,configurable:!0}),e.prototype.checkError=function(t){void 0===t&&(t="");var e=this.gl,n=e.getError(),r="";switch(n){case e.NO_ERROR:return;case e.INVALID_ENUM:r="INVALID_ENUM";break;case e.INVALID_VALUE:r="INVALID_VALUE";break;case e.INVALID_OPERATION:r="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:r="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:r="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:r="CONTEXT_LOST_WEBGL";break;default:r="Unknown WebGL Error: "+n.toString(16);}throw new Error(t+" --\x3e: "+r);},e.prototype.pushState=function(){var t=this.gl;return t.getParameter(t.TEXTURE_BINDING_2D);},e.prototype.popState=function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t);},e.prototype.reorderTextureToData=function(t,e,n,r){return p.reorderTextureToData(t,e,n,r);},e.prototype.reorderDataToTexture=function(t,e,n,r){return p.reorderDataToTexture(t,e,n,r);},e.prototype.sizeTexture=function(t){return l.sizeTexture(t,this.maxTextureSize);},e.prototype.checkTextureSize=function(t,e){(this.maxTextureSize<t||this.maxTextureSize<e)&&console.error(this.maxTextureSize+" < width("+t+") || "+this.maxTextureSize+" < height("+e+")");},e.prototype.allocTexture=function(t,e,n){var r;this.checkTextureSize(e,n);var i=null;null==t?r="float32":"string"==typeof t?r=t:(r=h.typedArrayGetType(t),i=t instanceof Float32Array?t:new Float32Array(t));var o=this.gl,s=o.createTexture();return o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e,n,0,o.RGBA,null==i?this.textureType:o.FLOAT,i),{texture:s,width:e,height:n,type:r};},e.prototype.allocUint8Texture=function(t,e,n){this.checkTextureSize(e,n);var r=this.gl,i=r.createTexture();return r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,n,0,r.RGBA,r.UNSIGNED_BYTE,t),{texture:i,width:e,height:n,type:"uint8"};},e.prototype.releaseTexture=function(t){t&&this.gl.deleteTexture(t.texture);},e.prototype.readTexture=function(t){var e=this.gl,n=new Float32Array(t.width*t.height*4);switch(this.attachFramebuffer(t),e.bindTexture(e.TEXTURE_2D,t.texture),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.texture,0),e.readPixels(0,0,t.width,t.height,e.RGBA,e.FLOAT,n),t.type){case"float32":return n;case"int32":return new Int32Array(n);case"int8":return new Int8Array(n);case"uint8":return new Uint8Array(n);default:throw"invalid data type";}},e.prototype.compileShader=function(t,e){var n=this.gl,r=n.createShader(e);if(!r)throw new Error("createShader() returned null with type "+e);if(n.shaderSource(r,t),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: "+n.getShaderInfoLog(r));return r;},e.prototype.deleteShader=function(t){t&&this.gl.deleteShader(t);},e.prototype.reuseProgram=function(t){var e=this.cachedPrograms[t];return e&&e.retainCount++,e;},e.prototype.cacheProgram=function(t,e){this.cachedPrograms[t]=e;},e.prototype.uncacheProgram=function(t){for(var e in this.cachedPrograms){if(this.cachedPrograms[e]==t){delete this.cachedPrograms[e];break;}}},e.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram();if(r)return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),{program:r,retainCount:1};},e.prototype.compile=function(t,e){var n,r,i;if(this.enableProgramReusing&&(r=e?t+e:t,n=this.reuseProgram(r)))return n;e?i=this.compileShader(e,this.gl.VERTEX_SHADER):(this.defaultVertexShader||(this.defaultVertexShader=this.compileShader(l.defaultVertexShaderSource(),this.gl.VERTEX_SHADER)),i=this.defaultVertexShader);var o=this.compileShader(t,this.gl.FRAGMENT_SHADER);null==(n=this.createProgram(i,o))&&console.error("failed in building program !"),e&&this.deleteShader(i),this.deleteShader(o);var s=this.gl,a=s.getAttribLocation(n.program,"position"),u=s.getAttribLocation(n.program,"textureCoord");return s.vertexAttribPointer(a,3,s.FLOAT,!1,20,0),s.enableVertexAttribArray(a),-1!==u&&(s.vertexAttribPointer(u,2,s.FLOAT,!1,20,12),s.enableVertexAttribArray(u)),this.enableProgramReusing&&this.cacheProgram(r,n),n;},e.prototype.deleteProgram=function(t){t&&(t.retainCount--,0==t.retainCount&&(this.gl.deleteProgram(t.program),this.uncacheProgram(t)));},e.prototype.useProgram=function(t){this.gl.useProgram(t.program);},e.prototype.attachFramebuffer=function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t.texture),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.texture,0),e.viewport(0,0,t.width,t.height),e.scissor(0,0,t.width,t.height);},e.prototype.bindTexture=function(t,e,n){var r=this.gl;r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,t.texture),r.uniform1i(e,n);},e.prototype.bindUniformF=function(t,e){this.gl.uniform1f(t,e);},e.prototype.getUniformLocation=function(t,e){var n=this.gl.getUniformLocation(t.program,e);if(null===n)throw new Error("Uniform "+e+" not found.");return n;},e.prototype.draw=function(){d.useDrawElement?this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.drawSteps++,this.drawSteps%4==0&&this.gl.flush();},e;}(c.DisposableImpl),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e;}(b),y=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.gl=n,s.vertexBuffer=r,s.framebuffer=i,s.textureType=o.HALF_FLOAT_OES,s;}return i(e,t),e.prototype.dispose=function(){this.releaseTexture(this.downloadTexture),delete this.downloadTexture,this.deleteProgram(this.downloadProgram),delete this.downloadProgram,delete this.downloadUniformLocation,t.prototype.dispose.call(this);},e.prototype.createFragSourcePackFp32ToU8=function(t){return"\n      precision highp float;\n      precision highp int;\n      precision highp sampler2D;\n\n      varying vec2 TexCoords;\n      uniform sampler2D input_s;\n\n      bool isNaN(float val) {\n        return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n      }\n\n      highp vec4 packToU8(highp float f) {\n        if (isNaN(f)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float F = abs(f); \n        highp float sign = step(0.0, -f);\n        highp float exponent = floor(log2(F)); \n        highp float mantissa = (exp2(-exponent) * F);\n        exponent = floor(log2(F) + 127.0) + floor(log2(mantissa));\n\n        highp vec4 rgba;\n        rgba[3] = 128.0 * sign + floor(exponent * 0.5);\n        rgba[2] = 128.0 * mod(exponent, 2.0) + mod(floor(mantissa * 128.0), 128.0);\n        rgba[1] = floor(mod(floor(mantissa * 32768.0), 256.0));\n        rgba[0] = floor(8388608.0 * mod(mantissa, 0.000030517578125));\n        return rgba / 255.0;\n      }\n\n      "+l.genIndexToCoords("input_getIndexToCoords",t)+"\n      "+l.genCoordsToIndex("output_getCoordsToIndex",this.downloadTexture)+"\n\n      void main() {\n        ivec2 outIndex = output_getCoordsToIndex(TexCoords);\n        int unpackIndex = outIndex.y * "+this.downloadTexture.width+" + outIndex.x;\n        int packIndex = unpackIndex / 4;\n\n        int iy = packIndex / "+t.width+";\n        int ix = packIndex - iy * "+t.width+";\n        vec2 inputTexCoords = input_getIndexToCoords(ivec2(ix, iy));\n\n        float value;\n        vec4 v4 = texture2D(input_s, inputTexCoords);\n        int mod = unpackIndex - packIndex * 4;\n        "+l.genVec4Split("v4","mod","value")+"\n        gl_FragColor = packToU8(value);\n      }";},e.prototype.prepareDownloadProgram=function(t){var e=u(this.sizeTexture(new Int32Array([t.width*t.height*4,4])),2),n=e[0],r=e[1];this.downloadTexture&&this.downloadTexture.width==n&&this.downloadTexture.height==r||(this.releaseTexture(this.downloadTexture),this.downloadTexture=this.allocUint8Texture(null,n,r),this.deleteProgram(this.downloadProgram),this.downloadProgram=this.compile(this.createFragSourcePackFp32ToU8(t)),this.downloadUniformLocation=this.getUniformLocation(this.downloadProgram,"input_s"));},e.prototype.readTexture=function(t){var e=this.gl;this.prepareDownloadProgram(t),this.useProgram(this.downloadProgram),this.attachFramebuffer(this.downloadTexture),this.bindTexture(t,this.downloadUniformLocation,0),this.draw();var n=new Uint8Array(this.downloadTexture.width*this.downloadTexture.height*4);this.attachFramebuffer(this.downloadTexture),e.readPixels(0,0,this.downloadTexture.width,this.downloadTexture.height,e.RGBA,e.UNSIGNED_BYTE,n);var r=new Float32Array(n.buffer,0,n.length/4);switch(t.type){case"float32":return r;case"int32":return new Int32Array(r.map(function(t){return Math.round(t);}));case"int8":return new Int8Array(r.map(function(t){return Math.round(t);}));case"uint8":return new Uint8Array(r.map(function(t){return Math.round(t);}));default:throw"invalid data type";}},e;}(b),m=function(){function t(){}return t.checkTextureAttachableToFramebuffer=function(t,e){var n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,e,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),i;},t.getValidContext=function(t){if(!t)return null;var e=t.getContext("webgl",{alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1});if(!e||e.isContextLost())return null;var n=e.createFramebuffer();if(!n)return null;var r=e.createBuffer();return r?[e,r,n]:null;},t.createDefaultVertexGeometryElement=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);},t.createDefaultVertexGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);},t.create=function(t,e){var n=this.getValidContext(e);if(!n&&document){var r=document.createElement("canvas");r.width=1,r.height=1,n=this.getValidContext(r);}if(!n)return null;var i=u(n,3),o=i[0],s=i[1],a=i[2];if(o.disable(o.DEPTH_TEST),o.disable(o.STENCIL_TEST),o.disable(o.BLEND),o.disable(o.DITHER),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SAMPLE_COVERAGE),o.enable(o.SCISSOR_TEST),o.enable(o.CULL_FACE),o.cullFace(o.BACK),d.useDrawElement){var c=this.createDefaultVertexGeometryElement();o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,c,o.STATIC_DRAW);var p=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,p),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,2,1,3]),o.STATIC_DRAW);}else{c=this.createDefaultVertexGeometry();o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,c,o.STATIC_DRAW);}d.debug&&console.log("WebGL1 supported extensions:\n"+o.getSupportedExtensions().join("\n"));var h=o.getExtension("OES_texture_float"),l=o.getExtension("OES_texture_half_float");if(null==t.precision||t.precision==f.WebGLPrecision.High){if(h&&this.checkTextureAttachableToFramebuffer(o,o.FLOAT))return new _(t,o,s,a);if(l&&this.checkTextureAttachableToFramebuffer(o,l.HALF_FLOAT_OES))return new y(t,o,s,a,l);}else{if(l&&this.checkTextureAttachableToFramebuffer(o,l.HALF_FLOAT_OES))return new y(t,o,s,a,l);if(h&&this.checkTextureAttachableToFramebuffer(o,o.FLOAT))return new _(t,o,s,a);}return null;},t;}();e.WebGL1Runtime=m;},function(t,e,n){"use strict";var _r7,i=this&&this.__extends||(_r7=function r(t,e){return(_r7=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r7(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGL2Runtime=void 0;var c=n(12),p=n(13),h=n(5),f=n(10),d=n(7),l=a(n(1)),b=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.gl=n,o.vertexBuffer=r,o.framebuffer=i,o.cachedPrograms={},o.precision=e.precision,o.enableProgramReusing=e.enableProgramReusing,o.enableDownloadAcceleration=e.enableDownloadAcceleration,o.enableUploadAcceleration=e.enableUploadAcceleration,o.minimumTextureSizeForDownloadAcceleration=e.minimumTextureSizeForDownloadAcceleration,o.minimumTextureSizeForUploadAcceleration=e.minimumTextureSizeForUploadAcceleration,o.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)||4096,o.maxTextureImageUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)||16,o;}return i(e,t),e.prototype.dispose=function(){this.deleteShader(this.defaultVertexShader);},Object.defineProperty(e.prototype,"precisionDescription",{get:function get(){var t="";switch(this.precision){case f.WebGLPrecision.High:t="precision highp ";break;case f.WebGLPrecision.Medium:t="precision mediump ";break;case f.WebGLPrecision.Low:t="precision lowp ";}return t+" float;\nprecision highp int;\n"+t+" sampler2D;";},enumerable:!1,configurable:!0}),e.prototype.checkError=function(t){void 0===t&&(t="");var e=this.gl,n=e.getError(),r="";switch(n){case e.NO_ERROR:return;case e.INVALID_ENUM:r="INVALID_ENUM";break;case e.INVALID_VALUE:r="INVALID_VALUE";break;case e.INVALID_OPERATION:r="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:r="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:r="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:r="CONTEXT_LOST_WEBGL";break;default:r="Unknown WebGL Error: "+n.toString(16);}throw new Error(t+" --\x3e: "+r);},e.prototype.pushState=function(){var t=this.gl;return t.getParameter(t.TEXTURE_BINDING_2D);},e.prototype.popState=function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t);},e.prototype.reorderTextureToData=function(t,e,n,r){return p.reorderTextureToData(t,e,n,r);},e.prototype.reorderDataToTexture=function(t,e,n,r){return p.reorderDataToTexture(t,e,n,r);},e.prototype.sizeTexture=function(t){return l.sizeTexture(t,this.maxTextureSize);},e.prototype.allocTexture=function(t,e,n){var r;(this.maxTextureSize<e||this.maxTextureSize<n)&&console.error(this.maxTextureSize+" < width("+e+") || "+this.maxTextureSize+" < height("+n+")");var i=null;null==t?r="float32":"string"==typeof t?r=t:(r=h.typedArrayGetType(t),i=t instanceof Float32Array?t:new Float32Array(t));var o=this.gl,s=o.createTexture();return o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texImage2D(o.TEXTURE_2D,0,o.RGBA32F,e,n,0,o.RGBA,o.FLOAT,i),{texture:s,width:e,height:n,type:r};},e.prototype.allocUint8Texture=function(t,e,n){(this.maxTextureSize<e||this.maxTextureSize<n)&&console.error(this.maxTextureSize+" < width("+e+") || "+this.maxTextureSize+" < height("+n+")");var r=this.gl,i=r.createTexture();return r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,n,0,r.RGBA,r.UNSIGNED_BYTE,t),{texture:i,width:e,height:n,type:"uint8"};},e.prototype.releaseTexture=function(t){t&&this.gl.deleteTexture(t.texture);},e.prototype.readTexture=function(t){var e=new Float32Array(t.width*t.height*4),n=this.gl;switch(this.attachFramebuffer(t),n.bindTexture(n.TEXTURE_2D,t.texture),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.texture,0),n.readPixels(0,0,t.width,t.height,n.RGBA,n.FLOAT,e),t.type){case"float32":return e;case"int32":return new Int32Array(e);case"int8":return new Int8Array(e);case"uint8":return new Uint8Array(e);default:throw"invalid data type";}},e.prototype.compileShader=function(t,e){var n=this.gl,r=n.createShader(e);if(!r)throw new Error("createShader() returned null with type "+e);if(n.shaderSource(r,t),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: "+n.getShaderInfoLog(r));return r;},e.prototype.deleteShader=function(t){t&&this.gl.deleteShader(t);},e.prototype.reuseProgram=function(t){var e=this.cachedPrograms[t];return e&&e.retainCount++,e;},e.prototype.cacheProgram=function(t,e){this.cachedPrograms[t]=e;},e.prototype.uncacheProgram=function(t){for(var e in this.cachedPrograms){if(this.cachedPrograms[e]==t){delete this.cachedPrograms[e];break;}}},e.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram();if(r)return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),{program:r,retainCount:1};},e.prototype.compile=function(t,e){var n,r,i;if(this.enableProgramReusing&&(r=e?t+e:t,n=this.reuseProgram(r)))return n;e?i=this.compileShader(e,this.gl.VERTEX_SHADER):(this.defaultVertexShader||(this.defaultVertexShader=this.compileShader(l.defaultVertexShaderSource(),this.gl.VERTEX_SHADER)),i=this.defaultVertexShader);var o=this.compileShader(t,this.gl.FRAGMENT_SHADER);null==(n=this.createProgram(i,o))&&console.error("failed in building program !"),e&&this.deleteShader(i),this.deleteShader(o);var s=this.gl,a=s.getAttribLocation(n.program,"position"),u=s.getAttribLocation(n.program,"textureCoord");return s.vertexAttribPointer(a,3,s.FLOAT,!1,20,0),s.enableVertexAttribArray(a),-1!==u&&(s.vertexAttribPointer(u,2,s.FLOAT,!1,20,12),s.enableVertexAttribArray(u)),this.enableProgramReusing&&this.cacheProgram(r,n),n;},e.prototype.deleteProgram=function(t){t&&(t.retainCount--,0==t.retainCount&&(this.gl.deleteProgram(t.program),this.uncacheProgram(t)));},e.prototype.useProgram=function(t){this.gl.useProgram(t.program);},e.prototype.attachFramebuffer=function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t.texture),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.texture,0),e.viewport(0,0,t.width,t.height),e.scissor(0,0,t.width,t.height);},e.prototype.bindTexture=function(t,e,n){var r=this.gl;r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,t.texture),r.uniform1i(e,n);},e.prototype.bindUniformF=function(t,e){this.gl.uniform1f(t,e);},e.prototype.getUniformLocation=function(t,e){var n=this.gl.getUniformLocation(t.program,e);if(null===n)throw new Error("Uniform "+e+" not found.");return n;},e.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);},e;}(c.DisposableImpl),_=function(){function t(){}return t.getValidContext=function(t){if(!t)return null;var e=null;try{e=t.getContext("webgl2",{alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1});}catch(t){return console.log("webgl2 is NOT available on this platform. falling back to webgl."),null;}if(!e||e.isContextLost())return null;var n=e.createFramebuffer();if(!n)return null;var r=e.createBuffer();return r?[e,r,n]:null;},t.createDefaultVertexGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);},t.checkTextureAttachableToFrameBuffer=function(t,e){var n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,WebGL2RenderingContext.RGBA32F,1,1,0,t.RGBA,e,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),i;},t.create=function(t,e){var n=this.getValidContext(e);if(!n&&document){var r=document.createElement("canvas");r.width=1,r.height=1,n=this.getValidContext(r);}if(!n)return null;var i=u(n,3),o=i[0],s=i[1],a=i[2];o.disable(o.DEPTH_TEST),o.disable(o.STENCIL_TEST),o.disable(o.BLEND),o.disable(o.DITHER),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SAMPLE_COVERAGE),o.enable(o.SCISSOR_TEST),o.enable(o.CULL_FACE),o.cullFace(o.BACK);var c=this.createDefaultVertexGeometry();return o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,c,o.STATIC_DRAW),d.debug&&console.log("WebGL2 supported extensions:\n"+o.getSupportedExtensions().join("\n")),o.getExtension("EXT_color_buffer_float")&&this.checkTextureAttachableToFrameBuffer(o,o.FLOAT)?new b(t,o,s,a):null;},t;}();e.WebGL2Runtime=_;},function(t,e,n){"use strict";var _r8,i=this&&this.__extends||(_r8=function r(t,e){return(_r8=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r8(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return"mul"==r?i.op="data0 * data1":"sub"==r?i.op="data0 - data1":"add"==r?i.op="data0 + data1":"min"==r?i.op="min(data0, data1)":"real_div"==r?i.op="data0 / data1":"max"==r?i.op="max(data0, data1)":"sum"==r?i.op="data0 + data1":"prod"==r?i.op="data0 * data1":"less"==r?i.op="vec4(lessThan(data0, data1))":"greater"==r?i.op="vec4(greaterThan(data0, data1))":"greater_equal"==r?i.op="vec4(greaterThanEqual(data0, data1))":console.error("not support this binaryType : "+r+" !!! "),i;}return i(e,t),e.prototype.resize=function(){var t;console.assert(2==this.inputVars.length);var e,n=u(this.inputVars,2),r=n[0],i=n[1],o=r.shape.dims,s=i.shape.dims,a=r.shape.size(),h=i.shape.size();if(1==a)e=i.shape.copy();else if(1==h)e=r.shape.copy();else if(r.shape.dimensions!=i.shape.dimensions||o.some(function(t,e){return t!=s[e];})){for(var f=r.shape.dimensions>i.shape.dimensions?r:i,d=r==f?i:r,l=f.shape.dimensions-d.shape.dimensions,b=f.shape.dims.slice(),_=l;_<f.shape.dimensions;_++){var y=_-l,m=d.shape.dims[y];if(m==b[_]);else{if(1!=m&&1!=b[_])throw"unsupport broadcast binary";b[_]=m*b[_];}}e=new p.VarShape(b,r.shape.format);}else e=r.shape.copy();return!p.VarShape.isEqual(this.shape,e)&&(this.shape=e,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([r.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),1==a||1==h||o.length==s.length&&!o.some(function(t,e){return t==s[e];})?(this.scalar0=1==a?r.download()[0]:void 0,this.scalar1=1==h?i.download()[0]:void 0,this.program=this.runtime.compile(this.createEltwiseScript())):(delete this.scalar0,delete this.scalar1,this.program=this.runtime.compile(this.createBroadcastScript())),this.inputLoc0=this.runtime.getUniformLocation(this.program,"input_s0"),this.inputLoc1=this.runtime.getUniformLocation(this.program,"input_s1"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.scalar0?this.runtime.bindUniformF(this.inputLoc0,this.scalar0):this.runtime.bindTexture(this.inputVars[0].texture,this.inputLoc0,0),this.scalar1?this.runtime.bindUniformF(this.inputLoc1,this.scalar1):this.runtime.bindTexture(this.inputVars[1].texture,this.inputLoc1,1),this.runtime.draw();},e.prototype.createEltwiseScript=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform "+(this.scalar0?"float":"sampler2D")+" input_s0;\nuniform "+(this.scalar1?"float":"sampler2D")+" input_s1;\nvoid main() {\n  vec4 data0 = "+(this.scalar0?"vec4(input_s0)":"texture2D(input_s0, TexCoords)")+";\n  vec4 data1 = "+(this.scalar1?"vec4(input_s1)":"texture2D(input_s1, TexCoords)")+";\n  gl_FragColor = "+this.op+";\n}";},e.prototype.createBroadcastScript=function(){var t,e,n=this,r=u(this.inputVars,2),i=r[0],o=r[1],s=Array.prototype.slice.call(i.shape.dims),a=Array.prototype.slice.call(o.shape.dims),p=o;s.length>a.length?(t=s,e=a):s.length<a.length?(t=a,e=s,p=i):s.filter(function(t){return 1!=t;}).length>=a.filter(function(t){return 1!=t;}).length?(t=s,e=a):(t=a,e=s,p=i);for(var f=[],d=e.length-1,l=t.length-1;l>=0;l--){t[l]==e[d]||1==e[d]?(f.push(a[d]),d--):f.push(0);}var b=(f=f.reverse()).map(function(t,e){return"o"+e;}),_=function _(t,r){if(!t)return"vec4 data"+r+" = texture2D(input_s"+r+", TexCoords);";if(4!=n.shape.dimensions&&4!=e.length){var i=b.map(function(t,e){return 1==f[e]?"0":"o"+e;}).filter(function(t,e){return 0!=f[e];}).join(","),o=e.length-1;return e[o]>1?"vec4 data"+r+" = texture2D(input_s"+r+", coord_input"+r+"("+i+"));":"vec4 data"+r+" = vec4(texture2D(input_s"+r+", coord_input"+r+"("+i+")).x);";}if(4==n.shape.dimensions&&4==e.length){p.shape.isNHWC()&&(f=[f[0],f[3],f[1],f[2]]);i=b.map(function(t,e){return 1==f[e]?"0":"o"+e;}).filter(function(t,e){return 0!=f[e];}).join(","),o=p.shape.isNCHW()?1:e.length-1;return e[o]>1?"vec4 data"+r+" = texture2D(input_s"+r+", coord_input"+r+"("+i+"));":"vec4 data"+r+" = vec4(texture2D(input_s"+r+", coord_input"+r+"("+i+")).x);";}if(4==n.shape.dimensions){if(n.shape.isNCHW()){i=b.map(function(t,e){return 1==f[e]?"0":1==e?"c":3==e?"w4":"o"+e;}).filter(function(t,e){return 0!=f[e];}).join(",");return f[3]>1?"int c = o1 * 4;\nint w4 = o3 / 4;\nint m4 = o3 - w4 * 4;\nfloat data"+r+"0, data"+r+"1, data"+r+"2, data"+r+"3;\nif (m4 == 0) {\ndata"+r+"0 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"1 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"2 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"3 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x;\n} else if (m4 == 1) {\ndata"+r+"0 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).y; c++;\ndata"+r+"1 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).y; c++;\ndata"+r+"2 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).y; c++;\ndata"+r+"3 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).y;\n} else if (m4 == 2) {\ndata"+r+"0 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).z; c++;\ndata"+r+"1 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).z; c++;\ndata"+r+"2 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).z; c++;\ndata"+r+"3 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).z;\n} else {\ndata"+r+"0 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).w; c++;\ndata"+r+"1 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).w; c++;\ndata"+r+"2 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).w; c++;\ndata"+r+"3 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).w;\n}\nvec4 data"+r+" = vec4(data"+r+"0, data"+r+"1, data"+r+"2, data"+r+"3);":"int c = o1 * 4;\nfloat data"+r+"0, data"+r+"1, data"+r+"2, data"+r+"3;\ndata"+r+"0 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"1 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"2 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x; c++;\ndata"+r+"3 = texture2D(input_s"+r+", coord_input"+r+"("+i+")).x;\nvec4 data"+r+" = vec4(data"+r+"0, data"+r+"1, data"+r+"2, data"+r+"3);";}i=b.map(function(t,e){return 1==f[e]?"0":3==e?"o1":2==e?"o3":1==e?"o2":"o0";}).filter(function(t,e){return 0!=f[e];}).join(",");return 1==f[3]?"vec4 data"+r+" = vec4(texture2D(input_s"+r+", coord_input"+r+"("+i+")).x);":"vec4 data"+r+" = texture2D(input_s"+r+", coord_input"+r+"("+i+"));";}throw"unsupported binary case";},y=_(p==i,0),m=_(p==o,1);return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input0",i.texture,i.shape)+"\n"+h.genDimsToCoords("coord_input1",o.texture,o.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s0, input_s1;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],b))+"\n  "+y+"\n  "+m+"\n  gl_FragColor = "+this.op+";\n}";},e;}(p.WebGLVar);e.BinaryVar=f;},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;var o=function(){function t(t){this.name=t;}return t.infer=function(t,e,n,o,s,a,u,c){return r(this,void 0,void 0,function(){var r,p,h,f,d,l,b,_,y,m;return i(this,function(i){switch(i.label){case 0:console.assert(n.length==o.length),console.assert(n.length==s.length),console.assert(n.length==a.length),console.assert(n.length==u.length),b=0,i.label=1;case 1:return b<n.length?(r=n[b],y=o[b],p=s[b],h=a[b],f=u[b],d=c?c[b]:void 0,[4,r.setData(f,p,h,y,d)]):[3,4];case 2:i.sent(),i.label=3;case 3:return b++,[3,1];case 4:console.assert(t.length==e.length),l={},b=0,i.label=5;case 5:return b<t.length?(_=t[b],y=e[b],[4,_.getData(y)]):[3,8];case 6:m=i.sent(),l[_.name]=m,i.label=7;case 7:return b++,[3,5];case 8:return[2,l];}});});},t;}();e.Variable=o;},function(t,e,n){"use strict";var _r9,i=this&&this.__extends||(_r9=function r(t,e){return(_r9=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r9(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(a(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.CastVar=void 0;var c=n(0),p=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.sourceType=r,o.destType=i,o.justCopy=!1,o;}return i(e,t),e.prototype.typeToVarType=function(t){return 1==t?"float32":3==t?"int32":6==t?"int8":4==t?"uint8":"float32";},e.prototype.typeToVecType=function(t){return 3==t||6==t||4==t?"ivec4":"vec4";},e.prototype.resize=function(){var t,e=this.inputVars[0];return!c.VarShape.isEqual(this.shape,e.shape)&&(this.shape=e.shape.copy(),this.justCopy=1==this.destType,this.justCopy||(this.texture=(t=this.runtime).allocTexture.apply(t,u([this.typeToVarType(this.destType)],this.runtime.sizeTexture(this.shape))),this.program||(this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"))),!0);},e.prototype.compute=function(){if(this.justCopy){var t=this.inputVars[0];this.texture={width:t.texture.width,height:t.texture.height,texture:t.texture.texture,type:this.typeToVarType(this.destType)};}else this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  vec4 data = texture2D(input_s, TexCoords);\n  gl_FragColor = vec4("+this.typeToVecType(this.destType)+"(data));\n}";},e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.justCopy&&delete this.texture,t.prototype.release.call(this),[2];});});},e;}(c.WebGLVar);e.CastVar=p;},function(t,e,n){"use strict";var _r10,i=this&&this.__extends||(_r10=function r(t,e){return(_r10=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r10(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__values||function(t){var e="function"==typeof _symbol2.default&&_iterator2.default,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");},c=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},p=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(c(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ConcatVar=void 0;var h=n(0),f=a(n(1)),d=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i.inLocs=[],i;}return i(e,t),e.prototype.resize=function(){var t,e,n,r=this,i=this.inputVars[0],o=this.axis<0?this.axis+i.shape.dimensions:this.axis,s=i.shape.copy(),a=0;try{for(var c=u(this.inputVars),f=c.next();!f.done;f=c.next()){var d=f.value;d.shape.dimensions>0&&(a+=d.shape.dims[o]);}}catch(e){t={error:e};}finally{try{f&&!f.done&&(e=c.return)&&e.call(c);}finally{if(t)throw t.error;}}if(s.dims[o]=a,h.VarShape.isEqual(this.shape,s))return!1;this.shape=s,this.runtime.releaseTexture(this.texture),this.texture=(n=this.runtime).allocTexture.apply(n,p([i.texture.type],this.runtime.sizeTexture(this.shape)));var l=o;4==this.shape.dimensions&&this.shape.isNHWC()&&(2==o?l=3:1==o?l=2:3==o&&(l=1));var b=!1;return(4!=this.shape.dimensions&&o==this.shape.dims.length-1||4==this.shape.dimensions&&1==l)&&(b=!0),this.runtime.deleteProgram(this.program),this.program=b?this.runtime.compile(this.createUnpackScript(l)):this.runtime.compile(this.createPackedScript(l)),this.inLocs=[],this.inputVars.filter(function(t){return t.shape.dimensions>0;}).forEach(function(t,e){return r.inLocs.push(r.runtime.getUniformLocation(r.program,"input_s"+e));}),!0;},e.prototype.compute=function(){var t=this;this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.inputVars.filter(function(t){return t.shape.dimensions>0;}).forEach(function(e,n){return t.runtime.bindTexture(e.texture,t.inLocs[n],n);}),this.runtime.draw();},e.prototype.createUnpackScript=function(t){var e=this.inputVars.filter(function(t){return t.shape.dimensions>0;}),n=Array.prototype.slice.call(this.shape.dimsAsNCHW),r=e.map(function(e){return e.shape.dimsAsNCHW[t];}),i=e.map(function(t,e){return r.slice(0,e+1).reduce(function(t,e){return t+e;},0);}),o=e.map(function(t,e){return"uniform sampler2D input_s"+e+";";}),s=e.map(function(t,e){return""+f.genDimsToCoords("coord_input"+e,t.texture,t.shape);}),a=n.map(function(t,e){return"d"+e;}),u=n.map(function(e,n){return n==t?"in_idx":"d"+n;}),c=e.map(function(t,e){return(0==e?"":"else ")+"if (cur < "+i[e]+") {\nint in_cur = "+(0==e?"cur":"cur - "+i[e-1])+";\nint in_idx = in_cur / 4;\nint in_mod = in_cur - in_cur / 4 * 4;\nresult[j] = getValueAtIndex(texture2D(input_s"+e+", coord_input"+e+"("+u.join(",")+")), in_mod);\n}";});return"\n"+this.runtime.precisionDescription+"\n"+o.join("\n")+"\n"+s.join("\n")+"\n\nfloat getValueAtIndex(vec4 v, int index) {\n  "+f.genVec4Split("v","index")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+f.genCoordsToDims.apply(f,p([this.texture,"TexCoords",this.shape],a))+"\n\n  float result[4];\n  int cur = "+a[t]+" * 4;\n  for (int j = 0; j < 4; j++) {\n    "+c.join("\n")+"\n    cur++;\n  }\n  gl_FragColor = vec4(result[0], result[1], result[2], result[3]);\n}";},e.prototype.createPackedScript=function(t){var e=this.inputVars.filter(function(t){return t.shape.dimensions>0;}),n=Array.prototype.slice.call(this.shape.dimsAsNCHW),r=e.map(function(e){return e.shape.dimsAsNCHW[t];}),i=e.map(function(t,e){return r.slice(0,e+1).reduce(function(t,e){return t+e;},0);}),o=e.map(function(t,e){return"uniform sampler2D input_s"+e+";";}),s=e.map(function(t,e){return""+f.genDimsToCoords("coord_input"+e,t.texture,t.shape);}),a=n.map(function(t,e){return"d"+e;}),u=n.map(function(e,n){return n==t?"in_idx":"d"+n;}),c=e.map(function(t,n){return(0==n?"if (cur < "+i[n]+")":n==e.length-1?"else":"else if (cur < "+i[n]+")")+" {\nint in_idx = "+(0==n?"cur":"cur - "+i[n-1])+";\nresult = texture2D(input_s"+n+", coord_input"+n+"("+u.join(",")+"));\n}";});return"\n"+this.runtime.precisionDescription+"\n"+o.join("\n")+"\n"+s.join("\n")+"\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+f.genCoordsToDims.apply(f,p([this.texture,"TexCoords",this.shape],a))+"\n\n  vec4 result = vec4(0.0);\n  int cur = "+a[t]+";\n  "+c.join("\n")+"\n  gl_FragColor = result;\n}";},e;}(h.WebGLVar);e.ConcatVar=d;},function(t,e,n){"use strict";var _r11,i=this&&this.__extends||(_r11=function r(t,e){return(_r11=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r11(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConvertTensorVar=void 0;var a=n(0),u=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.sourceType=r,o.destType=i,o;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0].shape.asFormat(this.destType);return this.shape=t,!a.VarShape.isEqual(this.shape,t);},e.prototype.compute=function(){this.texture=this.inputVars[0].texture;},e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return delete this.texture,t.prototype.release.call(this),[2];});});},e;}(a.WebGLVar);e.ConvertTensorVar=u;},function(t,e,n){"use strict";var _r12,i=this&&this.__extends||(_r12=function r(t,e){return(_r12=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r12(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ConvolutionDepthwiseVar=void 0;var f=n(0),d=n(4),l=a(n(1));var b=function(t){function e(e,n,r,i,o,s,a,u,c,p,h,f){var d=t.call(this,e,n)||this;return d.weightArray=r,d.biasArray=i,d.inOutChannels=o,d.kernelShape=s,d.dilateShape=a,d.strideShape=u,d.padShape=c,d.padMode=p,d.group=h,d.relu=f,d;}return i(e,t),e.prototype.is1x1=function(){return 1==this.kernelShape[0]&&1==this.kernelShape[1]&&1==this.strideShape[0]&&1==this.strideShape[1]&&0==this.padShape[0]&&0==this.padShape[1];},e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape,r=new f.VarShape(this.calcOutputShape(n.dims),n.format);if(f.VarShape.isEqual(this.shape,r))return!1;if(this.shape=r,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([e.texture.type],this.runtime.sizeTexture(this.shape))),"same"==this.padMode){var i=(this.kernelShape[0]-1)*this.dilateShape[0]+1,o=(this.kernelShape[1]-1)*this.dilateShape[1]+1,s=(r.dims[3]-1)*this.strideShape[0]+i-n.dims[3],a=(r.dims[2]-1)*this.strideShape[1]+o-n.dims[2];this.padShape[0]=~~(s/2),this.padShape[1]=~~(a/2);}if(!this.biasTexture){var u=new Int32Array([1,this.inOutChannels[1],1,1]),c=p(this.runtime.sizeTexture(u),2),l=c[0],b=c[1],_=this.runtime.reorderDataToTexture(l,b,u,this.biasArray);this.biasTexture=this.runtime.allocTexture(_,l,b);}if(!this.kernelTexture){var y=[this.inOutChannels[0],this.inOutChannels[1],this.kernelShape[0],this.kernelShape[1]],m=p(function(t){var e=p(t,4),n=e[1],r=e[2],i=e[3];return[~~(d.upDiv(n,4)*r),~~i];}(y),2),v=m[0],g=m[1],x=function(t,e,n,r){if(null==r)return null;for(var i=p(n,4),o=i[1],s=i[2],a=i[3],u=d.upDiv(o,4),c=new Float32Array(e*t*4),h=0;h<o;h++){for(var f=0;f<a;f++){for(var l=0;l<s;l++){c[f*t*4+l*u*4+4*Math.floor(h/4)+Math.floor(h%4)]=r[h*a*s+f*s+l];}}}return c;}(v,g,y,this.weightArray);this.kernelTexture=this.runtime.allocTexture(x,v,g);}return this.runtime.deleteProgram(this.program),this.is1x1()?this.program=this.runtime.compile(this.createSource1x1()):this.program=this.runtime.compile(this.createSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),this.kernelLocaiton=this.runtime.getUniformLocation(this.program,"kernel_s"),this.biasLoaction=this.runtime.getUniformLocation(this.program,"bias_s"),!0;},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.bindTexture(this.kernelTexture,this.kernelLocaiton,1),this.runtime.bindTexture(this.biasTexture,this.biasLoaction,2),this.runtime.draw();},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.kernelTexture&&(this.runtime.releaseTexture(this.kernelTexture),delete this.kernelTexture),this.biasTexture&&(this.runtime.releaseTexture(this.biasTexture),delete this.biasTexture),t.prototype.release.call(this),[2];});});},e.prototype.createReluSource=function(t){return"none"==t?"":"relu6"==t?"out4 = min(out4, 6.0); out4 = max(out4, 0.0);":"relu"==t?"out4 = max(out4, 0.0);":(console.error("not support this relu type !!! "),"");},e.prototype.createSource1x1=function(){var t=p(this.inputVars[0].shape.dims,4),e=(t[0],t[1],t[2],t[3],p(this.shape.dims,4)),n=(e[0],e[1],e[2],e[3],p(this.kernelShape,2)),r=(n[0],n[1],new Int32Array([1,this.inOutChannels[1],1,1])),i=this.inputVars[0];return"\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_bias",this.biasTexture,r,"","oc4","","")+"\n"+l.genIndexToCoords("coord_weight",this.kernelTexture)+"\n"+l.genDimsToCoords("coord_input",i.texture,i.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, kernel_s, bias_s;\nvoid main() {\n  "+l.genCoordsToDims(this.texture,"TexCoords",this.shape,"out_n","oc4","oh","ow")+"\n  \n  vec4 out4 = texture2D(bias_s, coord_bias(oc4));\n  vec4 in4 = texture2D(input_s, coord_input(out_n, oc4, oh, ow));\n  out4 += in4 * texture2D(kernel_s, coord_weight(ivec2(oc4, 0)));\n  \n  "+this.createReluSource(this.relu)+";\n  gl_FragColor = out4;\n}";},e.prototype.createSource=function(){var t=p(this.inputVars[0].shape.dims,4),e=(t[0],t[1],t[2]),n=t[3],r=p(this.shape.dims,4),i=(r[0],r[1]),o=(r[2],r[3],p(this.kernelShape,2)),s=o[0],a=o[1],u=p(this.dilateShape,2),c=u[0],h=u[1],f=new Int32Array([1,this.inOutChannels[1],1,1]),b=this.inputVars[0];return"\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_bias",this.biasTexture,f,"","oc4","","")+"\n"+l.genIndexToCoords("coord_weight",this.kernelTexture)+"\n"+l.genDimsToCoords("coord_input",b.texture,b.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, kernel_s, bias_s;\nvoid main() {\n  "+l.genCoordsToDims(this.texture,"TexCoords",this.shape,"out_n","oc4","oh","ow")+"\n  int iw = ow * "+this.strideShape[0]+" - "+this.padShape[0]+";\n  int ih = oh * "+this.strideShape[1]+" - "+this.padShape[1]+";\n\n  vec4 out4 = texture2D(bias_s, coord_bias(oc4));\n\n  for (int kh = 0; kh < "+a+"; kh++) {\n    int y = ih + kh * "+h+";\n    if (y < 0 || y >= "+e+") continue;\n\n    for (int kw = 0; kw < "+s+"; kw++) {\n      int x = iw + kw * "+c+";\n      if (x < 0 || x >= "+n+") continue;\n\n      vec4 in4 = texture2D(input_s, coord_input(out_n, oc4, y, x));\n      out4 += in4 * texture2D(kernel_s, coord_weight(ivec2(kw * "+d.upDiv(i,4)+" + oc4, kh)));\n    }\n  }\n  \n  "+this.createReluSource(this.relu)+";\n  gl_FragColor = out4;\n}";},e.prototype.calcOutputShape=function(t){var e=t[3],n=t[2],r=this.dilateShape[0]*(this.kernelShape[0]-1)+1,i=this.dilateShape[1]*(this.kernelShape[1]-1)+1,o=1,s=1;if((n<=0||e<=0)&&console.error("inputH <= 0 || inputW <= 0"),"same"==this.padMode)o=Math.ceil(e/this.strideShape[0]),s=Math.ceil(n/this.strideShape[1]);else if("valid"==this.padMode)o=Math.ceil((e-r+1)/this.strideShape[0]),s=Math.ceil((n-i+1)/this.strideShape[1]);else if("caffe"==this.padMode){var a=e+2*this.padShape[0],u=n+2*this.padShape[1];o=(a-r)/this.strideShape[0]+1,s=(u-i)/this.strideShape[1]+1;}else console.error("padmode error !!! ");return new Int32Array([t[0],t[1],s,o]);},e;}(f.WebGLVar);e.ConvolutionDepthwiseVar=b;},function(t,e,n){"use strict";var _r13,i=this&&this.__extends||(_r13=function r(t,e){return(_r13=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r13(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ConvolutionVar=void 0;var f=n(0),d=n(4),l=a(n(1));var b=function(t){function e(e,n,r,i,o,s,a,u,c,p,h,f){var d=t.call(this,e,n)||this;return d.weightArray=r,d.biasArray=i,d.inOutChannels=o,d.kernelShape=s,d.dilateShape=a,d.strideShape=u,d.padShape=c,d.padMode=p,d.group=h,d.relu=f,d;}return i(e,t),e.prototype.isConv1x1=function(){return 1==this.kernelShape[0]&&1==this.kernelShape[1]&&1==this.strideShape[0]&&1==this.strideShape[1]&&0==this.padShape[0]&&0==this.padShape[1];},e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape,r=new f.VarShape(this.calcOutputShape(n.dims),n.format);if(f.VarShape.isEqual(this.shape,r))return!1;if(this.shape=r,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([e.texture.type],this.runtime.sizeTexture(this.shape))),"same"==this.padMode){var i=(this.kernelShape[0]-1)*this.dilateShape[0]+1,o=(this.kernelShape[1]-1)*this.dilateShape[1]+1,s=(r.dims[3]-1)*this.strideShape[0]+i-n.dims[3],a=(r.dims[2]-1)*this.strideShape[1]+o-n.dims[2];this.padShape[0]=~~(s/2),this.padShape[1]=~~(a/2);}if(!this.biasTexture){var u=new Int32Array([1,this.inOutChannels[1],1,1]),c=p(this.runtime.sizeTexture(u),2),l=c[0],b=c[1],_=this.runtime.reorderDataToTexture(l,b,u,this.biasArray);this.biasTexture=this.runtime.allocTexture(_,l,b);}if(!this.kernelTexture){this.kernelDims=new Int32Array([this.inOutChannels[0],this.inOutChannels[1],this.kernelShape[0],this.kernelShape[1]]);var y=p(function(t){var e=p(t,4),n=e[0],r=e[1],i=e[2],o=e[3],s=d.upDiv(r,4)*o;return[~~(4*d.upDiv(n,4)*i),~~s];}(this.kernelDims),2),m=y[0],v=y[1],g=void 0;g=this.isConv1x1()?function(t,e,n,r){if(null==r)return null;for(var i=p(n,2),o=i[0],s=i[1],a=new Float32Array(e*t*4),u=p([0,0],2),c=u[0],h=u[1];c+4<s;c+=4,h++){for(var f=p([0,0],2),d=f[0],l=f[1];d+4<o;d+=4,l++){for(var b=4*(h*t+4*l),_=c*o+d,y=0;y<4;y++,b+=4,_+=o){a[b+0]=r[_+0],a[b+1]=r[_+1],a[b+2]=r[_+2],a[b+3]=r[_+3];}}for(d=0;d<o;d++){_=c*o+d;a[(b=4*(h*t+4*l)+d%4)+0]=r[_+0*o],a[b+4]=r[_+1*o],a[b+8]=r[_+2*o],a[b+12]=r[_+3*o];}}for(;c<s;c++){var m=p([0,0],2);for(d=m[0],l=m[1];d+4<o;d+=4,l++){_=c*o+d;a[(b=4*(h*t+4*l+c%4))+0]=r[_+0],a[b+1]=r[_+1],a[b+2]=r[_+2],a[b+3]=r[_+3];}for(;d<o;d++){a[4*(h*t+4*l+c%4)+d%4]=r[c*o+d];}}return a;}(m,v,this.kernelDims,this.weightArray):function(t,e,n,r){if(null==r)return null;for(var i=p(n,4),o=i[0],s=i[1],a=i[2],u=i[3],c=4*d.upDiv(o,4),h=new Float32Array(e*t*4),f=0,l=0;l<s;l++){for(var b=Math.floor(l/4)*u*t,_=0;_<o;_++){for(var y=4*Math.floor(_/4),m=0;m<u;m++){for(var v=0;v<a;v++){h[4*(b+m*t+v*c+y+l%4)+_%4]=r[f++];}}}}return h;}(m,v,this.kernelDims,this.weightArray),this.kernelTexture=this.runtime.allocTexture(g||"float32",m,v);}return this.runtime.deleteProgram(this.program),this.isConv1x1()?this.program=this.runtime.compile(this.createSource1x1(),this.createVertexShaderSource1x1()):this.program=this.runtime.compile(this.createSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),this.kernelLocaiton=this.runtime.getUniformLocation(this.program,"kernel_s"),this.biasLoaction=this.runtime.getUniformLocation(this.program,"bias_s"),!0;},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.bindTexture(this.kernelTexture,this.kernelLocaiton,1),this.runtime.bindTexture(this.biasTexture,this.biasLoaction,2),this.runtime.draw();},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.kernelTexture&&(this.runtime.releaseTexture(this.kernelTexture),delete this.kernelTexture),this.biasTexture&&(this.runtime.releaseTexture(this.biasTexture),delete this.biasTexture),t.prototype.release.call(this),[2];});});},e.prototype.createReluSource=function(t){return"none"==t?"":"relu6"==t?"out4 = min(out4, 6.0); out4 = max(out4, 0.0);":"relu"==t?"out4 = max(out4, 0.0);":(console.error("not support this relu type !!! "),"");},e.prototype.createVertexShaderSource1x1=function(){return"\nprecision highp float;\nattribute vec3 position;\nattribute vec2 textureCoord;\nvarying vec2 TexCoords;\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n  TexCoords = textureCoord;\n}";},e.prototype.createSource1x1=function(){var t=p(this.inputVars[0].shape.dims,4),e=(t[0],t[1]),n=(t[2],t[3],p(this.shape.dims,4)),r=(n[0],n[1],n[2],n[3],new Int32Array([1,this.inOutChannels[1],1,1])),i=this.inputVars[0];return"\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_bias",this.biasTexture,r,"","oc4","","")+"\n"+l.genIndexToCoords("coord_weight",this.kernelTexture)+"\n"+l.genDimsToCoords("coord_input",i.texture,i.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, kernel_s, bias_s;\nvoid main() {\n  "+l.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n\n  vec4 out4 = texture2D(bias_s, coord_bias(oc4));\n  for (int ic_4 = 0; ic_4 < "+d.upDiv(e,4)+"; ic_4++) {\n    int ic = ic_4 * 4;\n    vec4 in4 = texture2D(input_s, coord_input(on, ic_4, oh, ow));\n    out4.x += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ic, oc4))));\n    out4.y += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ic + 1, oc4))));\n    out4.z += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ic + 2, oc4))));\n    out4.w += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ic + 3, oc4))));\n  }\n  "+this.createReluSource(this.relu)+";\n  gl_FragColor = out4;\n}";},e.prototype.createSource=function(){var t=p(this.inputVars[0].shape.dimsAsNCHW,4),e=(t[0],t[1]),n=t[2],r=t[3],i=p(this.shape.dimsAsNCHW,4),o=(i[0],i[1],i[2],i[3],p(this.kernelShape,2)),s=o[0],a=o[1],u=p(this.strideShape,2),c=u[0],h=u[1],f=p(this.padShape,2),b=f[0],_=f[1],y=p(this.dilateShape,2),m=y[0],v=y[1],g=new Int32Array([1,this.inOutChannels[1],1,1]),x=this.inputVars[0];return"\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_bias",this.biasTexture,g,"","oc4","","")+"\n"+l.genIndexToCoords("coord_weight",this.kernelTexture)+"\n"+l.genDimsToCoords("coord_input",x.texture,x.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, kernel_s, bias_s;\nvoid main() {\n  "+l.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n  int iw = ow * "+c+" - "+b+";\n  int ih = oh * "+h+" - "+_+";\n\n  vec4 out4 = texture2D(bias_s, coord_bias(oc4));\n  for (int ic4 = 0; ic4 < "+d.upDiv(e,4)+"; ic4++) {\n    for (int kh = 0; kh < "+a+"; kh++) {\n      if (ih + kh * "+v+" < 0 || ih + kh * "+v+" >= "+n+") continue;\n      int kty = oc4 * "+a+" + kh;\n\n      for (int kw = 0; kw < "+s+"; kw++) {  \n        if (iw + kw * "+m+" < 0 || iw + kw * "+m+" >= "+r+") continue;\n        int ktx = (kw * "+d.upDiv(e,4)+" + ic4) * 4;\n\n        vec4 in4 = texture2D(input_s, coord_input(on, ic4, ih + kh * "+v+", iw + kw * "+m+"));\n        out4.x += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ktx, kty))));\n        out4.y += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ktx + 1, kty))));\n        out4.z += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ktx + 2, kty))));\n        out4.w += dot(in4, texture2D(kernel_s, coord_weight(ivec2(ktx + 3, kty))));\n      }\n    }\n  }\n\n  "+this.createReluSource(this.relu)+";\n  gl_FragColor = out4;\n}";},e.prototype.calcOutputShape=function(t){var e=t[3],n=t[2],r=this.dilateShape[0]*(this.kernelShape[0]-1)+1,i=this.dilateShape[1]*(this.kernelShape[1]-1)+1,o=1,s=1;if("same"==this.padMode)o=Math.ceil(e/this.strideShape[0]),s=Math.ceil(n/this.strideShape[1]);else if("valid"==this.padMode)o=Math.ceil((e-r+1)/this.strideShape[0]),s=Math.ceil((n-i+1)/this.strideShape[1]);else if("caffe"==this.padMode){var a=e+2*this.padShape[0],u=n+2*this.padShape[1];o=(a-r)/this.strideShape[0]+1,s=(u-i)/this.strideShape[1]+1;}else console.assert(!1,"invalid pad mode");return new Int32Array([t[0],this.inOutChannels[1],s,o]);},e;}(f.WebGLVar);e.ConvolutionVar=b;},function(t,e,n){"use strict";var _r14,i=this&&this.__extends||(_r14=function r(t,e){return(_r14=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r14(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.CropAndResizeVar=void 0;var p=n(0),h=n(4),f=a(n(1)),d=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.extrapolation=r,o.method=i,o;}return i(e,t),e.prototype.resize=function(){var t;if(4!=this.inputVars.length)return console.error("this.inputVars.length != 4"),!1;var e=u(this.inputVars,4),n=e[0],r=e[1],i=e[2],o=e[3];console.assert(1==o.shape.dimensions&&2==o.shape.dims[0]);var s=u(n.shape.dims,4),a=s[1],h=s[2],f=s[3];console.assert(a>0&&h>0);var d=0;d=0==r.shape.dims[0]&&0==i.shape.dims[0]?0:r.shape.dims[0];var l=u(o.download(),2),b=l[0],_=l[1];console.assert(b>0&&_>0);var y=new p.VarShape([d,b,_,f],n.shape.format);return!p.VarShape.isEqual(this.shape,y)&&(this.shape=y,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([n.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),"bilinear"==this.method?this.program=this.runtime.compile(this.createBilinearFragSource()):"nearest"==this.method?this.program=this.runtime.compile(this.createNearestFragSource()):console.error(this.constructor.name+" unsupport method - "+this.method+"."),this.imageLoaction=this.runtime.getUniformLocation(this.program,"image_s"),this.boxesLoaction=this.runtime.getUniformLocation(this.program,"boxes_s"),this.indexLoaction=this.runtime.getUniformLocation(this.program,"index_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.imageLoaction,0),this.runtime.bindTexture(this.inputVars[1].texture,this.boxesLoaction,1),this.runtime.bindTexture(this.inputVars[2].texture,this.indexLoaction,2),this.runtime.draw();},e.prototype.createBilinearFragSource=function(){var t=u(this.inputVars,3),e=t[0],n=t[1],r=t[2],i=u(e.shape.dims,4),o=i[0],s=i[1],a=i[2],c=i[3],p=u(this.shape.dims,4),d=(p[0],p[1]),l=p[2];p[3],h.upDiv(c,4);return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_image",e.texture,e.shape)+"\n"+f.genDimsToCoords("coord_boxes",n.texture,n.shape)+"\n"+f.genDimsToCoords("coord_index",r.texture,r.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D image_s, boxes_s, index_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n\n  int index = 0;\n  vec4 index4 = texture2D(index_s, coord_index(on / 4));\n  int mod = on - on / 4 * 4;\n  if (mod == 0) {\n    index = int(index4.x);\n  } else if (mod == 1) {\n    index = int(index4.y);\n  } else if (mod == 2) {\n    index = int(index4.z);\n  } else {\n    index = int(index4.w);\n  }\n  if (0 > index || index >= "+o+") {\n    gl_FragColor = vec4(0.0);\n    return;\n  }\n\n  vec4 rect = texture2D(boxes_s, coord_boxes(on, 0));\n  float y1 = rect.x;\n  float x1 = rect.y;\n  float y2 = rect.z;\n  float x2 = rect.w;\n\n  float h_scale = "+(d>1?"(y2 - y1) * float("+(s-1)/(d-1)+")":"0.0")+";\n  float im_y = "+(d>1?"y1 * float("+(s-1)+") + float(oh) * h_scale":"0.5 * (y1 + y2) * float("+(s-1)+")")+";\n  if (0.0 > im_y || im_y > float("+(s-1)+")) {\n    gl_FragColor = vec4(float("+this.extrapolation+"));\n    return;\n  }\n\n  float w_scale = "+(l>1?"(x2 - x1) * float("+(a-1)/(l-1)+")":"0.0")+";\n  float im_x = "+(l>1?"x1 * float("+(a-1)+") + float(ow) * w_scale":"0.5 * (x1 + x2) * float("+(a-1)+")")+";\n  if (0.0 > im_x || im_x > float("+(a-1)+")) {\n    gl_FragColor = vec4(float("+this.extrapolation+"));\n    return;\n  }\n\n  int top_y = int(floor(im_y));\n  int btm_y = int(ceil(im_y));\n  int lft_x = int(floor(im_x));\n  int rgt_x = int(ceil(im_x));\n\n  vec4 tl4 = texture2D(image_s, coord_image(index, oc4, top_y, lft_x));\n  vec4 tr4 = texture2D(image_s, coord_image(index, oc4, top_y, rgt_x));\n  vec4 bl4 = texture2D(image_s, coord_image(index, oc4, btm_y, lft_x));\n  vec4 br4 = texture2D(image_s, coord_image(index, oc4, btm_y, rgt_x));\n\n  float y_lerp = im_y - float(top_y);\n  float x_lerp = im_x - float(lft_x);\n  vec4 top = tl4 + (tr4 - tl4) * x_lerp;\n  vec4 btm = bl4 + (br4 - bl4) * x_lerp;\n  gl_FragColor = top + (btm - top) * y_lerp;\n}";},e.prototype.createNearestFragSource=function(){var t=u(this.inputVars,3),e=t[0],n=t[1],r=t[2],i=u(e.shape.dims,4),o=i[0],s=i[1],a=i[2],c=i[3],p=u(this.shape.dims,4),d=(p[0],p[1]),l=p[2];p[3],h.upDiv(c,4);return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_image",e.texture,e.shape)+"\n"+f.genDimsToCoords("coord_boxes",n.texture,n.shape)+"\n"+f.genDimsToCoords("coord_index",r.texture,r.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D image_s, boxes_s, index_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n\n  int index = 0;\n  vec4 index4 = texture2D(index_s, coord_index(on / 4));\n  int mod = on - on / 4 * 4;\n  if (mod == 0) {\n    index = int(index4.x);\n  } else if (mod == 1) {\n    index = int(index4.y);\n  } else if (mod == 2) {\n    index = int(index4.z);\n  } else {\n    index = int(index4.w);\n  }\n  if (0 > index || index >= "+o+") {\n    gl_FragColor = vec4(0.0);\n    return;\n  }\n\n  vec4 rect = texture2D(boxes_s, coord_boxes(on, 0));\n  float y1 = rect.x;\n  float x1 = rect.y;\n  float y2 = rect.z;\n  float x2 = rect.w;\n\n  float h_scale = "+(d>1?"(y2 - y1) * float("+(s-1)/(d-1)+")":"0.0")+";\n  float im_y = "+(d>1?"y1 * float("+(s-1)+") + float(oh) * h_scale":"0.5 * (y1 + y2) * float("+(s-1)+")")+";\n  if (0.0 > im_y || im_y > float("+(s-1)+")) {\n    gl_FragColor = vec4(float("+this.extrapolation+"));\n    return;\n  }\n\n  float w_scale = "+(l>1?"(x2 - x1) * float("+(a-1)/(l-1)+")":"0.0")+";\n  float im_x = "+(l>1?"x1 * float("+(a-1)+") + float(ow) * w_scale":"0.5 * (x1 + x2) * float("+(a-1)+")")+";\n  if (0.0 > im_x || im_x > float("+(a-1)+")) {\n    gl_FragColor = vec4(float("+this.extrapolation+"));\n    return;\n  }\n\n  int y = int(floor(im_y + 0.5));\n  int x = int(floor(im_x + 0.5));\n  gl_FragColor = texture2D(image_s, coord_image(index, oc4, y, x));\n}";},e;}(p.WebGLVar);e.CropAndResizeVar=d;},function(t,e,n){"use strict";var _r15,i=this&&this.__extends||(_r15=function r(t,e){return(_r15=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r15(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandDimsVar=void 0;var f=n(0),d=a(n(1)),l=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i.justCopy=!1,i;}return i(e,t),e.prototype.resize=function(){var t;console.assert(2==this.inputVars.length);var e=p(this.inputVars,2),n=e[0],r=e[1].download()[0];-1==r&&(r=n.shape.dimensions+1+r);for(var i=[],o=0;o<n.shape.dimensions;o++){o==r&&i.push(1),i.push(n.shape.dims[o]);}r==n.shape.dimensions&&i.push(1);var s=new f.VarShape(i,n.shape.format);return!f.VarShape.isEqual(this.shape,s)&&(this.shape=s,0==n.shape.dimensions&&1==this.shape.dimensions?(this.justCopy=!0,!0):(this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([n.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.shape.isNHWC()?this.program=this.runtime.compile(this.createNHWCScript()):this.program=this.runtime.compile(this.createNCHWScript()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0));},e.prototype.compute=function(){this.justCopy?this.texture=this.inputVars[0].texture:(this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw());},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.justCopy&&delete this.texture,t.prototype.release.call(this),[2];});});},e.prototype.createNHWCScript=function(){var t,e=this,n=Array.prototype.slice.call(this.shape.dimsAsNHWC),r=n.map(function(t,e){return"o"+e;}),i=4==r.length?1:r.length-1,o="o"+i+" = o"+i+" * 4;",s="o"+i+"++";4==n.length?t=[r[0],r[2],r[3],r[1]].map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + "):t=r.map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + ");var a=this.inputVars[0],u=Array.prototype.slice.call(a.shape.dimsAsNHWC),c=u.map(function(t,e){return"i"+e;});4==c.length&&(c=[c[0],c[3],c[1],c[2]]);var p=c.length-1,f=u.map(function(t,e){var n=a.shape.size(e+1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),l="int mod = i"+p+" - i"+p+" / 4 * 4;",b="i"+p+" = i"+p+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("coord_input",a.texture,a.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+f+"\n  "+l+"\n  "+b+"\n  vec4 v = texture2D(input_s, coord_input("+c.join(",")+"));\n  "+d.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],r))+"\n  "+o+"\n\n  float x = getIndex("+t+"); "+s+";\n  float y = getIndex("+t+"); "+s+";\n  float z = getIndex("+t+"); "+s+";\n  float w = getIndex("+t+");\n  gl_FragColor = vec4(x, y, z, w);\n}";},e.prototype.createNCHWScript=function(){var t=this,e=Array.prototype.slice.call(this.shape.dimsAsNCHW).map(function(t,e){return"o"+e;}),n=4==e.length?1:e.length-1,r="o"+n+" = o"+n+" * 4;",i="o"+n+"++",o=e.map(function(e,n){return e+" * "+t.shape.size(n+1);}).join(" + "),s=this.inputVars[0],a=Array.prototype.slice.call(s.shape.dimsAsNCHW),u=a.map(function(t,e){return"i"+e;}),c=4==u.length?1:u.length-1,p=a.map(function(t,e){var n=s.shape.size(e+1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),f="int mod = i"+c+" - i"+c+" / 4 * 4;",l="i"+c+" = i"+c+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("coord_input",s.texture,s.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+p+"\n  "+f+"\n  "+l+"\n  vec4 v = texture2D(input_s, coord_input("+u.join(",")+"));\n  "+d.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],e))+"\n  "+r+"\n\n  float x = getIndex("+o+"); "+i+";\n  float y = getIndex("+o+"); "+i+";\n  float z = getIndex("+o+"); "+i+";\n  float w = getIndex("+o+");\n  gl_FragColor = vec4(x, y, z, w);\n}\n";},e;}(f.WebGLVar);e.ExpandDimsVar=l;},function(t,e,n){"use strict";var _r16,i=this&&this.__extends||(_r16=function r(t,e){return(_r16=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r16(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.GatherV2Var=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){var t,e=u(this.inputVars,2),n=e[0],r=e[1],i=3==this.inputVars.length?this.inputVars[2].download()[0]:0;i<0&&(i=n.shape.dimensions+i),console.assert(0==i,"unsupported gather axis: "+i),console.assert(1==r.shape.dimensions,"unsupported gather indices dim: "+r.shape.dimensions);n.shape.dims[i];var o=n.shape.dimensions+r.shape.dimensions-1;i>o&&console.error("axis <= numDimensions "+i+" <= "+o);for(var s=[],a=0;a<i;a++){s.push(n.shape.dims[a]);}for(a=0;a<r.shape.dimensions;a++){s.push(r.shape.dims[a]);}for(a=i+1;a<n.shape.dimensions;a++){s.push(n.shape.dims[a]);}var h=new p.VarShape(s,this.inputVars[0].shape.format);return!p.VarShape.isEqual(this.shape,h)&&(this.shape=h,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([n.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createAxis0Script()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),this.indiceLocation=this.runtime.getUniformLocation(this.program,"indice_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.bindTexture(this.inputVars[1].texture,this.indiceLocation,1),this.runtime.draw();},e.prototype.createAxis0Script=function(){var t=u(this.inputVars,2),e=t[0],n=t[1],r=e.shape.dims[0],i=(n.shape.dims[0],Array.prototype.slice.call(this.shape.dims).map(function(t,e){return"o"+e;})),o=c(["i0"],i.slice(1));e.shape.dimensions;return e.shape.dimensions>1?"\n"+this.runtime.precisionDescription+"        \n"+h.genDimsToCoords("coord_input",e.texture,e.shape)+"\n"+h.genDimsToCoords("coord_indice",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, indice_s;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],i))+"\n\n  int i0; {\n    int index = o0 - o0 / 4 * 4;\n    vec4 v4 = texture2D(indice_s, coord_indice(o0 / 4));\n    float v; \n    "+h.genVec4Split("v4","index","v")+"\n    i0 = int(v);\n  }\n\n  if ("+r+" < i0 || i0 < 0) {\n    gl_FragColor = vec4(0);\n  } else {\n    gl_FragColor = texture2D(input_s, coord_input("+o.join(",")+"));\n  }\n}":"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",e.texture,e.shape)+"\n\nuniform sampler2D input_s;\nfloat getValue(int i0) {\n  if ("+r+" < i0 || i0 < 0) return 0.0;\n  int index = i0 - i0 / 4 * 4;\n  vec4 v4 = texture2D(input_s, coord_input(i0 / 4));\n  "+h.genVec4Split("v4","index")+"\n}\n\nvarying vec2 TexCoords;\nuniform sampler2D indice_s;\nvoid main() {\n  ivec4 indice4 = ivec4(texture2D(indice_s, TexCoords));\n  gl_FragColor = vec4(getValue(indice4.x), getValue(indice4.y), getValue(indice4.z), getValue(indice4.w));\n}";},e;}(p.WebGLVar);e.GatherV2Var=f;},function(t,e,n){"use strict";var _r17,i=this&&this.__extends||(_r17=function r(t,e){return(_r17=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r17(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.InputVar=void 0;var f=n(0),d=n(5),l=a(n(1));function b(t,e){return t==e||!(!t||!e)&&t.length==e.length&&t.every(function(t,n){return t==e[n];});}var _=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.dims=r,s.format=o,s;}return i(e,t),e.prototype.setData=function(t,e,n,r,i){return u(this,void 0,void 0,function(){var o,s;return c(this,function(a){return o=new f.VarShape(n,r),s=d.typedArrayWithData(e,t),i?this.preprocess(i,o,s):this.fill(o,s),[2];});});},e.prototype.isProcessEqual=function(t){return null!=this.processHistory&&this.processHistory.sourceFormat==t.sourceFormat&&this.processHistory.destFormat==t.destFormat&&this.processHistory.filterType==t.filterType&&this.processHistory.wrapType==t.wrapType&&!!b(this.processHistory.means,t.means)&&!!b(this.processHistory.norms,t.norms)&&(e=this.processHistory.cropAndResize,n=t.cropAndResize,!!(e==n||e&&n&&e[0][0]==n[0][0]&&e[0][1]==n[0][1]&&e[0][2]==n[0][2]&&e[0][3]==n[0][3]&&e[1][0]==n[1][0]&&e[1][1]==n[1][1]&&e[1][2]==n[1][2]&&e[1][3]==n[1][3])&&!!function(t,e){return t==e||!(!t||!e)&&t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]&&t[4]==e[4]&&t[5]==e[5]&&t[6]==e[6]&&t[7]==e[7]&&t[8]==e[8];}(this.processHistory.matrix,t.matrix));var e,n;},e.prototype.preparePreprocess=function(t,e,n){var r;if(!f.VarShape.isStrictEqual(this.processShape,e)||!this.isProcessEqual(t)||this.processU8ToF32!=n){this.processHistory=(0,_assign2.default)({},t),this.processShape=e.copy(),this.processU8ToF32=n;var i,o,s=n?" * 255.0":"";if(i="bilinear"==t.filterType?"\nint top_y = int(floor(ih));\nint btm_y = int(ceil(ih));\nint lft_x = int(floor(iw));\nint rgt_x = int(ceil(iw));\n\nvec4 tl4 = texture2D(input_s, coord_input(on, oc4, top_y, lft_x))"+s+";\nvec4 tr4 = texture2D(input_s, coord_input(on, oc4, top_y, rgt_x))"+s+";\nvec4 bl4 = texture2D(input_s, coord_input(on, oc4, btm_y, lft_x))"+s+";\nvec4 br4 = texture2D(input_s, coord_input(on, oc4, btm_y, rgt_x))"+s+";\n\nfloat y_lerp = ih - float(top_y);\nfloat x_lerp = iw - float(lft_x);\nvec4 top = tl4 + (tr4 - tl4) * x_lerp;\nvec4 btm = bl4 + (br4 - bl4) * x_lerp;\nvec4 result = top + (btm - top) * y_lerp;":"vec4 result = texture2D(input_s, coord_input(on, oc4, int(floor(float(ih) + 0.5)), int(floor(float(iw) + 0.5))))"+s+";",t.means||t.norms){var a=t.means?t.means.length:0,u=t.norms?t.norms.length:0;switch(a){case 4:o="result - vec4("+t.means.join(",")+")";break;case 3:o="result - vec4("+t.means.join(",")+",0.0)";break;case 1:o="result - vec4("+t.means[0]+")";break;case 0:o="result";break;default:throw"invalid means: "+t.means;}switch(u){case 4:o="("+o+") * vec4("+t.norms.join(",")+")";break;case 3:o="("+o+") * vec4("+t.norms.join(",")+",1.0)";break;case 1:o="("+o+") * vec4("+t.norms[0]+")";break;case 0:break;default:throw"invalid norms: "+t.norms;}o="result = "+o+";";}else o="";var c,d,b=this.dims?new f.VarShape(this.dims,this.format).dimsAsNCHW:void 0,_=e.dimsAsNCHW,y=p(b?b.map(function(t,e){return t<0?_[e]:t;}):_,4),m=y[0],v=y[1],g=y[2],x=y[3];if(t.cropAndResize){var T=p(t.cropAndResize,2),w=T[0],S=T[1],I=p(w,4),O=I[0],N=I[1],A=I[2],P=I[3],D=p(S,4),V=D[0],F=D[1],E=D[2],R=D[3],M=1==E?A:(A-1)/(E-1),C=1==R?P:(P-1)/(R-1);c="zero"==t.wrapType?"\nif (ow < "+V+" || ow >= "+(V+E)+" || oh < "+F+" || oh >= "+(F+R)+") {\n  vec4 result = vec4(0);\n  "+o+"\n  gl_FragColor = result;\n  return;\n}\nfloat iw = (float(ow) - float("+V+")) * float("+M+") + float("+O+");\nfloat ih = (float(oh) - float("+F+")) * float("+C+") + float("+N+");":"\nfloat iw = (float(ow) - float("+V+")) * float("+M+") + float("+O+");\nfloat ih = (float(oh) - float("+F+")) * float("+C+") + float("+N+");\niw = clamp(iw, float("+O+"), float("+(O+A-1)+"));\nih = clamp(ih, float("+N+"), float("+(N+P-1)+"));",(!b||b[2]<0)&&(g=Math.max(0,F)+R),(!b||b[3]<0)&&(x=Math.max(0,V)+E);}else{if(t.matrix)throw"preprocess with matrix is not supported yet";c="float iw = float(ow), ih = float(oh);";}if(t.sourceFormat&&t.destFormat){if(t.sourceFormat==t.destFormat?d="":t.sourceFormat.slice(0,t.destFormat.length)==t.destFormat?d="result = vec4(result.rgb, 0.0);":"rgba"==t.sourceFormat?"bgra"==t.destFormat?d="result = result.bgra;":"bgr"==t.destFormat&&(d="result = vec4(result.bgr, 0.0);"):"rgb"==t.sourceFormat?"bgra"!=t.destFormat&&"bgr"!=t.destFormat||(d="result = vec4(result.bgr, 0.0);"):"bgra"==t.sourceFormat?"rgba"==t.destFormat?d="result = result.bgra;":"rgb"==t.destFormat&&(d="result = vec4(result.bgr, 0.0);"):"bgr"==t.sourceFormat&&("rgba"!=t.destFormat&&"rgb"!=t.destFormat||(d="result = vec4(result.bgr, 0.0);")),null==d)throw"unsupported format: "+t.sourceFormat+" -> "+t.destFormat;v=t.destFormat.length;}else d="";this.shape=new f.VarShape([m,v,g,x],"NCHW").asFormat(this.format),this.runtime.releaseTexture(this.texture),this.texture=(r=this.runtime).allocTexture.apply(r,h(["float32"],this.runtime.sizeTexture(this.shape)));var L="\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_input",this.processTexture,e)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+l.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n  "+c+"\n  "+i+"\n  "+d+"\n  "+o+"\n  gl_FragColor = result;\n}";this.runtime.deleteProgram(this.processProgram),this.processProgram=this.runtime.compile(L),this.processLocation=this.runtime.getUniformLocation(this.processProgram,"input_s");}},e.prototype.preprocess=function(t,e,n){var r,i;this.runtime.releaseTexture(this.processTexture),r=p(this.uploadToTexture(e,n,!0),2),this.processTexture=r[0],i=r[1],this.setContentIsDirty(),this.preparePreprocess(t,e,i),this.runtime.useProgram(this.processProgram),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.processTexture,this.processLocation,0),this.runtime.draw();},e.prototype.prepareUpload=function(t,e,n){var r,i=t.size(),o=new f.VarShape([i],t.format),s=p(this.runtime.sizeTexture(new Int32Array([i])),2),a=s[0],u=s[1],c=a*u*4;n.length==c?r=n:(r=new n.constructor(c)).set(n);var h=this.uploadTexture&&this.uploadTexture.type==e.type;this.runtime.releaseTexture(this.uploadTexture),r instanceof Uint8Array?this.uploadTexture=this.runtime.allocUint8Texture(r,a,u):this.uploadTexture=this.runtime.allocTexture(r,a,u);var d=this.uploadShape&&f.VarShape.isStrictEqual(t,this.uploadShape);if(this.uploadShape=t.copy(),!h||!d){var b=t.isNHWC()?"n * "+t.size(1)+" + h * "+t.size(2)+" + w * "+t.size(3)+" + c":"n * "+t.size(1)+" + c * "+t.size(2)+" + h * "+t.size(3)+" + w",_=r instanceof Uint8Array?" * 255.0":"",y="\n"+this.runtime.precisionDescription+"\n"+l.genDimsToCoords("coord_input",this.uploadTexture,o)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int n, int c, int h, int w) {\n  int index = "+b+";\n  int mod = index - index / 4 * 4;\n  vec4 v = texture2D(input_s, coord_input(index / 4));\n  "+l.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+l.genCoordsToDims(e,"TexCoords",t,"on","oc","oh","ow")+"\n  oc = oc * 4;\n  vec4 result = vec4(\n    getIndex(on, oc + 0, oh, ow),\n    getIndex(on, oc + 1, oh, ow),\n    getIndex(on, oc + 2, oh, ow),\n    getIndex(on, oc + 3, oh, ow)\n  );\n  gl_FragColor = result"+_+";\n}";this.runtime.deleteProgram(this.uploadProgram),this.uploadProgram=this.runtime.compile(y),this.uploadLocation=this.runtime.getUniformLocation(this.uploadProgram,"input_s");}},e.prototype.fill=function(t,e){var n=d.typedArrayGetType(e);f.VarShape.isEqual(this.shape,t)&&this.texture&&this.texture.type==n?this.setContentIsDirty():(this.shape=t.asFormat(this.format),this.setShapeIsDirty()),this.runtime.releaseTexture(this.texture),this.texture=this.uploadToTexture(t,e,!1)[0];},e.prototype.uploadToTexture=function(t,e,n){var r=p(this.runtime.sizeTexture(t),2),i=r[0],o=r[1],s=n||e instanceof Float32Array,a=4!=t.dimensions||t.isNHWC()&&4==t.dims[3];if(s&&a||!this.runtime.enableUploadAcceleration||this.runtime.minimumTextureSizeForUploadAcceleration>t.size()){var u=this.runtime.reorderDataToTexture(i,o,t,e);return n&&u instanceof Uint8Array?[this.runtime.allocUint8Texture(u,i,o),!0]:[this.runtime.allocTexture(u,i,o),!1];}var c=this.runtime.allocTexture(d.typedArrayGetType(e),i,o);return this.prepareUpload(t,c,e),this.runtime.useProgram(this.uploadProgram),this.runtime.attachFramebuffer(c),this.runtime.bindTexture(this.uploadTexture,this.uploadLocation,0),this.runtime.draw(),[c,!1];},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.runtime.deleteProgram(this.processProgram),delete this.processProgram,this.runtime.deleteProgram(this.uploadProgram),delete this.uploadProgram,this.runtime.releaseTexture(this.processTexture),delete this.processTexture,this.runtime.releaseTexture(this.uploadTexture),delete this.uploadTexture,t.prototype.release.call(this),[2];});});},e;}(f.WebGLVar);e.InputVar=_;},function(t,e,n){"use strict";var _r18,i=this&&this.__extends||(_r18=function r(t,e){return(_r18=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r18(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.InterpVar=void 0;var p,h=n(0),f=a(n(1));!function(t){t[t.Nearest=1]="Nearest",t[t.Bilinear=2]="Bilinear",t[t.Cubic=3]="Cubic";}(p||(p={}));var d=function(t){function e(e,n,r,i,o,s,a,u){var c=t.call(this,e,n)||this;return c.widthScale=r,c.heightScale=i,c.outputWidth=o,c.outputHeight=s,c.resizeType=a,c.alignCorners=u,c;}return i(e,t),e.prototype.resize=function(){var t,e,n,r,i=this.inputVars[0],o=u(i.shape.dimsAsNCHW,4),s=o[0],a=o[1],f=o[2],d=o[3];if(1==this.inputVars.length)n=0==this.outputHeight?f*this.heightScale:this.outputHeight,r=0==this.outputWidth?d*this.widthScale:this.outputWidth;else{var l=this.inputVars[1];console.assert(2==l.shape.dims[0]),n=(t=u(l.download(),2))[0],r=t[1];}var b=new h.VarShape([s,a,n,r],"NCHW");return!h.VarShape.isEqual(this.shape,b)&&(this.shape=b,this.runtime.releaseTexture(this.texture),this.texture=(e=this.runtime).allocTexture.apply(e,c([i.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.resizeType==p.Nearest?this.program=this.runtime.compile(this.createNearestScript()):this.resizeType==p.Bilinear?this.program=this.runtime.compile(this.createBilinearScript()):this.resizeType==p.Cubic&&(this.program=this.runtime.compile(this.createCubicScript())),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createNearestScript=function(){var t,e,n=this.inputVars[0],r=u(this.inputVars[0].shape.dimsAsNCHW,4),i=r[2],o=r[3],s=u(this.shape.dimsAsNCHW,4),a=s[2],c=s[3];return this.alignCorners?(t=(o-1)/(c-1),e=(i-1)/(a-1)):(t=o/c,e=i/a),"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"n","c_4","oh","ow")+"\n\n  float sx = float(ow) * float("+t+");\n  float sy = float(oh) * float("+e+");\n  int x = int(floor(clamp(sx, 0.0, float("+(o-1)+"))));\n  int y = int(floor(clamp(sy, 0.0, float("+(i-1)+"))));\n  gl_FragColor = texture2D(input_s, coord_input(n, c_4, y, x));\n}";},e.prototype.createBilinearScript=function(){var t,e,n=this.inputVars[0],r=u(this.inputVars[0].shape.dimsAsNCHW,4),i=r[2],o=r[3],s=u(this.shape.dimsAsNCHW,4),a=s[2],c=s[3];return this.alignCorners?(t=(o-1)/(c-1),e=(i-1)/(a-1)):(t=o/c,e=i/a),"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"n","c_4","oh","ow")+"\n\n  float sx = float(ow) * float("+t+");\n  float sy = float(oh) * float("+e+");\n  int left = int(floor(sx));\n  int right = int(min(float(left) + 1.0, float("+(o-1)+")));\n  int top = int(floor(sy));\n  int bottom = int(min(float(top) + 1.0, float("+(i-1)+")));\n  float x2_factor = sx - float(left), x1_factor = 1.0 - x2_factor;\n  float y2_factor = sy - float(top), y1_factor = 1.0 - y2_factor;\n\n  vec4 tl = texture2D(input_s, coord_input(n, c_4, top, left)) * x1_factor * y1_factor;\n  vec4 tr = texture2D(input_s, coord_input(n, c_4, top, right)) * x2_factor * y1_factor;\n  vec4 bl = texture2D(input_s, coord_input(n, c_4, bottom, left)) * x1_factor * y2_factor;\n  vec4 br = texture2D(input_s, coord_input(n, c_4, bottom, right)) * x2_factor * y2_factor;\n  gl_FragColor = tl + tr + bl + br;\n}";},e.prototype.createCubicScript=function(){var t=this.inputVars[0],e=u(this.inputVars[0].shape.dimsAsNCHW,4),n=(e[0],e[1],e[2]),r=e[3],i=u(this.shape.dimsAsNCHW,4),o=(i[0],i[1],i[2]),s=i[3];return this.alignCorners?((r-1)/(s-1),(n-1)/(o-1)):(r/s,n/o),"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",t.texture,t.shape)+"\n\nvec4 interpolation(vec4 A, vec4 B, vec4 C, vec4 D, float factor) {\n  vec4 a = (B - C) + 0.5 * (B - A) + (D - C) * 0.5;\n  vec4 b = C - ((B - A) + (B - C)) - (B + D) * 0.5;\n  vec4 c = (C - A) * 0.5;\n  vec4 d = B;\n  return ((a * factor + b) * factor + c) * factor + d;\n}\n\nint iclamp(int v, int min, int max) {\n  return int(clamp(float(v), float(min), float(max)));\n}\n\nuniform sampler2D input_s;\nvec4 interpolate_pixel(int n, int c_4, int y, int x, float factor) {\n  return interpolation(\n    texture2D(input_s, coord_input(n, c_4, iclamp(y, 0, "+(n-1)+"), iclamp(x - 1, 0, "+(r-1)+"))),\n    texture2D(input_s, coord_input(n, c_4, iclamp(y, 0, "+(n-1)+"), iclamp(x + 0, 0, "+(r-1)+"))),\n    texture2D(input_s, coord_input(n, c_4, iclamp(y, 0, "+(n-1)+"), iclamp(x + 1, 0, "+(r-1)+"))),\n    texture2D(input_s, coord_input(n, c_4, iclamp(y, 0, "+(n-1)+"), iclamp(x + 2, 0, "+(r-1)+"))),\n    factor\n  );\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"n","c_4","oh","ow")+"\n\n  float u = float(ow) / float("+(s-1)+");\n  float v = float(oh) / float("+(o-1)+");\n  float x = u * float("+r+") - 0.5;\n  float y = v * float("+n+") - 0.5;\n  float x_factor = x - floor(x);\n  float y_factor = y - floor(y);\n\n  int iw = int(x), ih = int(y);\n  vec4 A = interpolate_pixel(n, c_4, ih - 1, iw, x_factor);\n  vec4 B = interpolate_pixel(n, c_4, ih + 0, iw, x_factor);\n  vec4 C = interpolate_pixel(n, c_4, ih + 1, iw, x_factor);\n  vec4 D = interpolate_pixel(n, c_4, ih + 2, iw, x_factor);\n  gl_FragColor = interpolation(A, B, C, D, y_factor);\n}";},e;}(h.WebGLVar);e.InterpVar=d;},function(t,e,n){"use strict";var _r19,i=this&&this.__extends||(_r19=function r(t,e){return(_r19=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r19(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.MatMulVar=void 0;var p=n(0),h=n(4),f=a(n(1)),d=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.transposeA=r,o.transposeB=i,o;}return i(e,t),e.prototype.resize=function(){var t,e,n,r=u(this.inputVars,2),i=r[0],o=r[1];console.assert(2==i.shape.dimensions),console.assert(2==o.shape.dimensions);var s=i.shape.dims[0],a=i.shape.dims[1];this.transposeA&&(a=(t=u([s,a],2))[0],s=t[1]);var h=o.shape.dims[0],f=o.shape.dims[1];this.transposeB&&(f=(e=u([h,f],2))[0],h=e[1]),console.assert(a==h);var d=new p.VarShape(new Int32Array([s,f]),i.shape.format);return!p.VarShape.isEqual(this.shape,d)&&(this.shape=d,this.runtime.releaseTexture(this.texture),this.texture=(n=this.runtime).allocTexture.apply(n,c([i.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),o.shape.dims[0]%4==0&&o.shape.dims[1]%4==0?this.program=this.runtime.compile(this.createMatMulFastSource()):this.program=this.runtime.compile(this.createMatMulSource()),this.inputLocation0=this.runtime.getUniformLocation(this.program,"input_s0"),this.inputLocation1=this.runtime.getUniformLocation(this.program,"input_s1"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation0,0),this.runtime.bindTexture(this.inputVars[1].texture,this.inputLocation1,1),this.runtime.draw();},e.prototype.createMatMulSource=function(){var t=this.inputVars[0],e=this.inputVars[1],n=u(t.shape.dims,2),r=(n[0],n[1]),i=u(e.shape.dims,2)[1];return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input0",t.texture,t.shape)+"\n"+f.genDimsToCoords("coord_input1",e.texture,e.shape)+"\n\nuniform sampler2D input_s0;\nfloat get_input0(int d0, int d1) {\n  vec4 result = texture2D(input_s0, coord_input0(d0, d1 / 4));\n  int idx = d1 - (d1 / 4) * 4;\n  "+f.genVec4Split("result","idx")+";\n}\n\nuniform sampler2D input_s1;\nfloat get_input1(int d0, int d1) {\n  vec4 result = texture2D(input_s1, coord_input1(d0, d1 / 4));\n  int idx = d1 - (d1 / 4) * 4;\n  "+f.genVec4Split("result","idx")+";\n}\n\nfloat mad(int m, int k) {\n  float result = 0.0;\n  for(int n = 0; n < "+r+"; n++){\n    result += get_input0(m, n) * get_input1(n, k);\n  }\n  return result;\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"m","k_4")+"\n  \n  int k = k_4 * 4;\n  vec4 out4 = vec4(0.0);        \n  int remain = "+i+" - k;\n  if (remain == 1) {\n    out4[0] = mad(m, k);\n  } else if(remain == 2) {\n    out4[0] = mad(m, k);\n    out4[1] = mad(m, k + 1);\n  } else if(remain == 3) {\n    out4[0] = mad(m, k);\n    out4[1] = mad(m, k + 1);\n    out4[2] = mad(m, k + 2);\n  } else {\n    out4[0] = mad(m, k);\n    out4[1] = mad(m, k + 1);\n    out4[2] = mad(m, k + 2);\n    out4[3] = mad(m, k + 3);\n  }\n  gl_FragColor = out4;\n}";},e.prototype.createMatMulFastSource=function(){var t=this.inputVars[0],e=this.inputVars[1],n=u(t.shape.dims,2),r=(n[0],n[1]);u(e.shape.dims,2)[1];return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input0",t.texture,t.shape)+"\n"+f.genDimsToCoords("coord_input1",e.texture,e.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s0, input_s1;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"m","k_4")+"\n\n  vec4 out4 = vec4(0.0);              \n  for (int n_4 = 0; n_4 < "+h.upDiv(r,4)+"; n_4++) {\n    int n = n_4 * 4;\n    vec4 input0 = texture2D(input_s0, coord_input0(m, n_4));\n    out4 += input0.x * texture2D(input_s1, coord_input1(n + 0, k_4));\n    out4 += input0.y * texture2D(input_s1, coord_input1(n + 1, k_4));\n    out4 += input0.z * texture2D(input_s1, coord_input1(n + 2, k_4));\n    out4 += input0.w * texture2D(input_s1, coord_input1(n + 3, k_4));\n  }\n  gl_FragColor = out4;\n}";},e;}(p.WebGLVar);e.MatMulVar=d;},function(t,e,n){"use strict";var _r20,i=this&&this.__extends||(_r20=function r(t,e){return(_r20=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r20(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.PackVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i.inputLocs=[],i;}return i(e,t),e.prototype.resize=function(){var t,e=this,n=this.inputVars[0],r=n.shape.dims,i=this.axis<0?this.axis+r.length:this.axis,o=0==n.shape.dimensions?[this.inputVars.length]:c(r.slice(0,i),[this.inputVars.length],r.slice(i)),s=new p.VarShape(o,n.shape.format);return!p.VarShape.isEqual(this.shape,s)&&(this.shape=s,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([n.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createScript(i)),this.inputLocs=this.inputVars.map(function(t,n){return e.runtime.getUniformLocation(e.program,"input_s"+n);}),!0);},e.prototype.compute=function(){var t=this;this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.inputLocs.forEach(function(e,n){return t.runtime.bindTexture(t.inputVars[n].texture,e,n);}),this.runtime.draw();},e.prototype.createScript=function(t){var e,n=4==this.shape.dimensions?1:this.shape.dims.length-1,r=Array.prototype.slice.call(this.shape.dimsAsNCHW),i=r.map(function(t,e){return"o"+e;});e=this.shape.isNCHW()?i.join(","):4==i.length?[i[0],i[2],i[3],i[1]].join(","):i.join(",");var o="o"+n+" = o"+n+" * 4;",s=this.inputVars[0],a=s.shape.isNCHW()&&4==s.shape.dimensions?1:s.shape.dims.length-1,u=(s.shape.dimensions>0?Array.prototype.slice.call(s.shape.dimsAsNCHW):[]).map(function(t,e){return"i"+e;}),p=c(u.slice(0,t),["index"],u.slice(t)).map(function(t){return"int "+t;}),f=u.length>0?"i"+a+" = i"+a+" / 4;":"",d=u.length>0?(s.shape.isNHWC()&&4==u.length?[u[0],u[3],u[1],u[2]]:u).join(","):"0",l=this.inputVars.map(function(t,e){return"uniform sampler2D input_s"+e+";";}).join("\n"),b=this.inputVars.map(function(t,e){return"if (index == "+e+") result = texture2D(input_s"+e+", coord_input("+d+"));";}).join("\nelse "),_=u.length>0?"i"+a+" - i"+a+" / 4 * 4":"0";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",s.texture,s.shape)+"\n\n"+l+"\nfloat get_input("+p.join(",")+") {\n  int idx = "+_+";\n  "+f+"\n\n  vec4 result;\n  "+b+"\n  "+h.genVec4Split("result","idx")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],i))+"\n  "+o+"\n\n  vec4 result = vec4(0);\n  int remain = "+r[n]+" - o"+n+";\n  if (remain == 1) {\n    result[0] = get_input("+e+");\n  } else if (remain == 2) {\n    result[0] = get_input("+e+"); o"+n+" += 1;\n    result[1] = get_input("+e+");\n  } else if (remain == 3) {\n    result[0] = get_input("+e+"); o"+n+" += 1;\n    result[1] = get_input("+e+"); o"+n+" += 1;\n    result[2] = get_input("+e+");\n  } else {\n    result[0] = get_input("+e+"); o"+n+" += 1;\n    result[1] = get_input("+e+"); o"+n+" += 1;\n    result[2] = get_input("+e+"); o"+n+" += 1;\n    result[3] = get_input("+e+");\n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.PackVar=f;},function(t,e,n){"use strict";var _r21,i=this&&this.__extends||(_r21=function r(t,e){return(_r21=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r21(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.PaddingVar=void 0;var f=n(0),d=a(n(1)),l=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.justCopy=!1,r;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0];2!=this.inputVars.length&&4!=e.shape.dimensions&&console.error("2 != this.inputVars.length && input.shape!.dimensions != 4");var n=this.inputVars[1].download(),r=e.shape.copy();n.length<2*r.dimensions&&console.error("Padding blob size not match output's dimension");for(var i=0;i<r.dimensions;++i){r.dims[i]=r.dims[i]+n[2*i]+n[2*i+1];}if(f.VarShape.isEqual(this.shape,r))return!1;if(this.shape=r,!n.some(function(t){return 0!=t;}))return this.justCopy=!0,!0;if(4==this.shape.dimensions&&this.shape.isNHWC()){var o=new Int32Array(n.length);o[0]=n[0],o[1]=n[1],o[2]=n[6],o[3]=n[7],o[4]=n[2],o[5]=n[3],o[6]=n[4],o[7]=n[5];}else o=new Int32Array(n);this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([e.texture.type],this.runtime.sizeTexture(this.shape)));var s=4==this.shape.dimensions?1:this.shape.dims.length-1;return this.runtime.deleteProgram(this.program),0==o[2*s+0]&&0==o[2*s+1]?this.program=this.runtime.compile(this.createPackedScript(s,o)):this.program=this.runtime.compile(this.createScript(s,o)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0;},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.justCopy&&delete this.texture,t.prototype.release.call(this),[2];});});},e.prototype.compute=function(){this.justCopy?this.texture=this.inputVars[0].texture:(this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw());},e.prototype.createPackedScript=function(t,e){var n=this.inputVars[0],r=Array.prototype.slice.call(n.shape.dimsAsNCHW),i=r.map(function(t,e){return"o"+e;}),o=r.map(function(t,e){return"i"+e;}),s=r.map(function(t,n){return"int i"+n+" = "+i[n]+" - "+e[2*n]+";";}),a=r.map(function(e,n){return n==t?"true":"0 <= "+o[n]+" && "+o[n]+" < "+r[n];});return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],i))+"\n  "+s.join("\n")+"\n\n  vec4 result = vec4(0);\n  if ("+a.join(" && ")+") {\n    result = texture2D(input_s, coord_input("+o.join(",")+"));\n  }\n  gl_FragColor = result;\n}";},e.prototype.createScript=function(t,e){var n=this.inputVars[0],r=Array.prototype.slice.call(n.shape.dimsAsNCHW),i=r.map(function(t,e){return"o"+e;}),o=r.map(function(t,e){return"i"+e;}),s=r.map(function(n,r){return"int i"+r+" = "+i[r]+(r==t?" * 4":"")+" - "+e[2*r]+";";}),a=r.map(function(t,e){return"0 <= "+o[e]+" && "+o[e]+" < "+r[e];});return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\n\nfloat getIndex("+o.map(function(t){return"int "+t;}).join(",")+") {\n  if ("+a.join(" && ")+") {\n    int mod = i"+t+" - i"+t+" / 4 * 4;\n    i"+t+" = i"+t+" / 4;\n\n    vec4 v = texture2D(input_s, coord_input("+o.join(",")+"));\n    "+d.genVec4Split("v","mod")+"\n  } else {\n    return 0.0;\n  }\n}\n\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],i))+"\n  "+s.join("\n")+"\n\n  vec4 result;\n  result[0] = getIndex("+o.join(",")+"); i"+t+"++;\n  result[1] = getIndex("+o.join(",")+"); i"+t+"++;\n  result[2] = getIndex("+o.join(",")+"); i"+t+"++;\n  result[3] = getIndex("+o.join(",")+");\n  gl_FragColor = result;\n}";},e;}(f.WebGLVar);e.PaddingVar=l;},function(t,e,n){"use strict";var _r22,i=this&&this.__extends||(_r22=function r(t,e){return(_r22=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r22(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.PoolingVar=void 0;var p=n(0),h=n(4),f=a(n(1)),d=function(t){function e(e,n,r,i,o,s,a,u,c){var p=t.call(this,e,n)||this;return p.poolType=r,p.kernelShape=i,p.strideShape=o,p.padType=s,p.padShape=a,p.ceilModel=u,p.isGlobal=c,p;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape,r=new p.VarShape(this.calcOutputShape(n.dims),n.format);return!p.VarShape.isEqual(this.shape,r)&&(this.shape=r,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),"average"==this.poolType?this.program=this.runtime.compile(this.createAvgPoolingSource()):"max"==this.poolType&&(this.program=this.runtime.compile(this.createMaxPoolingSource())),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createAvgPoolingSource=function(){var t=this.inputVars[0],e=t.shape.dims;this.shape.dims;return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",t.texture,t.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n  \n  int iw = ow * "+this.strideShape[0]+" - "+this.padShape[0]+";\n  int ih = oh * "+this.strideShape[1]+" - "+this.padShape[1]+";\n  vec4 out4 = vec4(0.0);\n  int block_size = 0;\n\n  for (int kh = 0; kh < "+this.kernelShape[1]+"; kh++){\n    for (int kw = 0; kw < "+this.kernelShape[0]+"; kw++){\n      if (iw + kw < 0 || ih + kh < 0 || ih + kh >= "+e[2]+" || iw + kw >= "+e[3]+") continue;\n      block_size += 1;\n      out4 += texture2D(input_s, coord_input(on, oc4, ih + kh, iw + kw));\n    }\n  }\n  out4 /= vec4(block_size);\n  gl_FragColor = out4;\n}";},e.prototype.createMaxPoolingSource=function(){var t=this.inputVars[0],e=t.shape.dims;this.shape.dims;return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",t.texture,t.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+f.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n\n  int iw = ow * "+this.strideShape[0]+" - "+this.padShape[0]+";\n  int ih = oh * "+this.strideShape[1]+" - "+this.padShape[1]+";\n  vec4 out4 = vec4(-10000);\n  \n  for (int kh = 0; kh < "+this.kernelShape[1]+"; kh++){\n    for (int kw = 0; kw < "+this.kernelShape[0]+"; kw++){\n      if (iw + kw < 0 || ih + kh < 0 || ih + kh >= "+e[2]+" || iw + kw >= "+e[3]+") continue;\n      vec4 in4 = texture2D(input_s, coord_input(on, oc4, ih + kh, iw + kw));\n      out4 = max(in4, out4);\n    }\n  }\n  gl_FragColor = out4;\n}";},e.prototype.calcOutputShape=function(t){var e=1,n=1;"valid"!=this.padType&&"same"!=this.padType||0==this.padShape[1]&&0==this.padShape[0]||console.log("tensorflow mode pool should not have explict pad value\n");var r=t[3],i=t[2];return this.padShape[0]>0&&(r+=2*this.padShape[0]),this.padShape[1]>0&&(i+=2*this.padShape[1]),this.isGlobal&&(this.kernelShape[1]=t[3],this.kernelShape[0]=t[2],this.strideShape[1]=t[3],this.strideShape[0]=t[2],this.padShape[1]=0,this.padShape[0]=0),"same"==this.padType?(e=Math.ceil(r/this.strideShape[0]),n=Math.ceil(i/this.strideShape[1])):"valid"==this.padType?(e=Math.ceil((r-this.kernelShape[0]+1)/this.strideShape[0]),n=Math.ceil((i-this.kernelShape[1]+1)/this.strideShape[1])):this.ceilModel?(e=h.upDiv(r-this.kernelShape[0],this.strideShape[0])+1,n=h.upDiv(i-this.kernelShape[1],this.strideShape[1])+1):(e=Math.floor((r-this.kernelShape[0])/this.strideShape[0]+1),n=Math.floor((i-this.kernelShape[1])/this.strideShape[1]+1)),new Int32Array([t[0],t[1],n,e]);},e;}(p.WebGLVar);e.PoolingVar=d;},function(t,e,n){"use strict";var _r23,i=this&&this.__extends||(_r23=function r(t,e){return(_r23=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r23(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.PReluVar=void 0;var f=n(0),d=a(n(1)),l=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.slopes=r,i;}return i(e,t),e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.runtime.releaseTexture(this.slopeTexture),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape;if(f.VarShape.isEqual(this.shape,n))return!1;if(this.shape=n.copy(),this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([e.texture.type],this.runtime.sizeTexture(this.shape))),!this.program)if(this.slopes.length>1){var r=p(this.runtime.sizeTexture(new Int32Array([this.slopes.length])),2),i=r[0],o=r[1];this.slopeTexture=this.runtime.allocTexture(this.slopes,i,o),this.program=this.runtime.compile(this.createArrayScript()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),this.slopeLocation=this.runtime.getUniformLocation(this.program,"slope_s");}else this.program=this.runtime.compile(this.createScript()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s");return!0;},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.slopeTexture&&this.runtime.bindTexture(this.slopeTexture,this.slopeLocation,1),this.runtime.draw();},e.prototype.createArrayScript=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s, slope_s;\n"+d.genDimsToCoords("coord_slope",this.slopeTexture,new Int32Array([this.slopes.length]))+"\n\nvoid main() {\n  "+d.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc4","oh","ow")+"\n\n  vec4 data = texture2D(input_s, TexCoords);\n  vec4 slopes = texture2D(slope_s, coord_slope(oc4));\n  vec4 cond = vec4(lessThan(data, vec4(0)));\n  gl_FragColor = cond * data * slopes + (1.0 - cond) * data;\n}";},e.prototype.createScript=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  vec4 data = texture2D(input_s, TexCoords);\n  vec4 cond = vec4(lessThan(data, vec4(0)));\n  gl_FragColor = cond * data * float("+this.slopes[0]+") + (1.0 - cond) * data;\n}";},e;}(f.WebGLVar);e.PReluVar=l;},function(t,e,n){"use strict";var _r24,i=this&&this.__extends||(_r24=function r(t,e){return(_r24=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r24(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ReductionVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.reductionType=r,s.dimArray=i,s.keepDims=o,s;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=(this.dimArray?this.dimArray:new Int32Array(this.inputVars[1].download())).map(function(t){return t<0?t+e.shape.dimensions:t;});n=n.length>1?n.sort():n;for(var r=0;r<n.length-1;r++){if(n[r+1]-n[r]!=1)throw"unsupported reduction axes: "+n;}0==n.length&&(n=e.shape.dims.map(function(t,e){return e;}));var i,o=Array.prototype.slice.call(e.shape.dims);i=this.keepDims?o.map(function(t,e){return n.includes(e)?1:t;}):o.filter(function(t,e){return!n.includes(e);});var s=new p.VarShape(i,e.shape.format);return!p.VarShape.isEqual(this.shape,s)&&(this.shape=s,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createScript(n)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createScript=function(t){var e,n=this.inputVars[0],r=c(t),i=4==n.shape.dimensions&&n.shape.isNCHW()?1:n.shape.dims.length-1,o=c(n.shape.dims),s=o.map(function(t,e){return"i"+e;}).map(function(t,e){return e==i?t+" / 4":t;});n.shape.isNHWC()&&4==n.shape.dimensions&&(s=[s[0],s[3],s[1],s[2]]),this.keepDims?e=o.map(function(t,e){return"int i"+e;}):(e=[],o.forEach(function(t,n){return!r.includes(n)&&e.push("int i"+n);}));var a,u=r.map(function(t){return"for (int i"+t+" = 0; i"+t+" < "+o[t]+"; i"+t+"++) {";}).join("\n"),p=r.map(function(t){return"\n}";}).reverse().join("\n");if("prod"==this.reductionType)a="\nfloat do_reduce("+e.join(",")+") {\nfloat result = 1.0;\n\n"+u+"\n  vec4 tex = texture2D(input_s, coord_input("+s.join(",")+")); \n  int idx = i"+i+" - i"+i+" / 4 * 4;\n  if (idx == 0) {\n    result *= tex.x;\n  } else if (idx == 1) {\n    result *= tex.y;\n  } else if (idx == 2) {\n    result *= tex.z;\n  } else {\n    result *= tex.w;\n  } \n"+p+"\nreturn result;\n}";else if("sum"==this.reductionType)a="\nfloat do_reduce("+e.join(",")+") {\nfloat result = 0.0;\n\n"+u+"\n  vec4 tex = texture2D(input_s, coord_input("+s.join(",")+")); \n  int idx = i"+i+" - i"+i+" / 4 * 4;\n  if (idx == 0) {\n    result += tex.x;\n  } else if (idx == 1) {\n    result += tex.y;\n  } else if (idx == 2) {\n    result += tex.z;\n  } else {\n    result += tex.w;\n  } \n"+p+"\nreturn result;\n}";else if("mean"==this.reductionType)a="\nfloat do_reduce("+e.join(",")+") {\nfloat result = 0.0;\nint count = 0;\n\n"+u+"\n  vec4 tex = texture2D(input_s, coord_input("+s.join(",")+")); \n  int idx = i"+i+" - i"+i+" / 4 * 4;\n  if (idx == 0) {\n    result += tex.x;\n  } else if (idx == 1) {\n    result += tex.y;\n  } else if (idx == 2) {\n    result += tex.z;\n  } else {\n    result += tex.w;\n  } \n  count++;\n"+p+"\nreturn result / float(count);\n}";else{if("max"!=this.reductionType)throw"unsupported reduction type: "+this.reductionType;a="\nfloat do_reduce("+e.join(",")+") {\nfloat result = 0.0;\n\n"+u+"\n  vec4 tex = texture2D(input_s, coord_input("+s.join(",")+")); \n  int idx = i"+i+" - i"+i+" / 4 * 4;\n  if (idx == 0) {\n    result = result > tex.x ? result : tex.x;\n  } else if (idx == 1) {\n    result = result > tex.y ? result : tex.y;\n  } else if (idx == 2) {\n    result = result > tex.z ? result : tex.z;\n  } else {\n    result = result > tex.w ? result : tex.w;\n  } \n"+p+"\nreturn result;\n}";}var f,d=4==this.shape.dimensions?1:this.shape.dims.length-1,l=c(this.shape.dimsAsNCHW),b=l.map(function(t,e){return"o"+e;});f=0==e.length?"":this.shape.isNHWC()&&4==this.shape.dimensions?[b[0],b[2],b[3],b[1]].join(","):b.join(",");var _="o"+d+" = o"+d+" * 4;";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nuniform sampler2D input_s;\n"+a+"\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],b))+"\n  "+_+"\n\n  vec4 result = vec4(0);\n  int remain = "+l[d]+" - o"+d+";\n  if (remain == 1) {\n    result[0] = do_reduce("+f+");\n  } else if (remain == 2) {\n    result[0] = do_reduce("+f+"); o"+d+" += 1;\n    result[1] = do_reduce("+f+");\n  } else if (remain == 3) {\n    result[0] = do_reduce("+f+"); o"+d+" += 1;\n    result[1] = do_reduce("+f+"); o"+d+" += 1;\n    result[2] = do_reduce("+f+");\n  } else {\n    result[0] = do_reduce("+f+"); o"+d+" += 1;\n    result[1] = do_reduce("+f+"); o"+d+" += 1;\n    result[2] = do_reduce("+f+"); o"+d+" += 1;\n    result[3] = do_reduce("+f+");\n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.ReductionVar=f;},function(t,e,n){"use strict";var _r25,i=this&&this.__extends||(_r25=function r(t,e){return(_r25=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r25(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(o(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ReluVar=void 0;var a=n(0),u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.slope=r,i;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape;return!a.VarShape.isEqual(this.shape,n)&&(this.shape=n.copy(),this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,s([e.texture.type],this.runtime.sizeTexture(this.shape))),this.program||(this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s")),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\n\nvoid main() {\n  vec4 data = max(texture2D(input_s, TexCoords), vec4(0));\n  gl_FragColor = data;\n}";},e;}(a.WebGLVar);e.ReluVar=u;},function(t,e,n){"use strict";var _r26,i=this&&this.__extends||(_r26=function r(t,e){return(_r26=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r26(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},p=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},h=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(p(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.ReshapeVar=void 0;var f=n(0),d=a(n(1)),l=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.reshapeDims=r,o.dataFormat=i,o.justCopy=!1,o;}return i(e,t),e.prototype.resize=function(){var t,e;if(console.assert(1==this.inputVars.length||2==this.inputVars.length),1==this.inputVars.length)e=this.reshapeDims;else{var n=this.inputVars[1];if(e=new Int32Array(n.download()),"NC4HW4"==this.dataFormat&&"NHWC"==n.shape.format){var r=p(e,4),i=r[1],o=r[2],s=r[3];e[1]=s,e[2]=i,e[3]=o;}}var a=this.inputVars[0],u=a.shape,c=new f.VarShape(e.map(function(t,e){return-1==t?1:0==t?u.dims[e]:t;}),u.format),d=e.lastIndexOf(-1);return d>=0&&(c.dims[d]=u.size()/c.size()),!f.VarShape.isStrictEqual(this.shape,c)&&(this.shape=c,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,h([a.texture.type],this.runtime.sizeTexture(this.shape))),u.dims.length!=e.length||u.dims.some(function(t,n){return t!=e[n];})?(this.runtime.deleteProgram(this.program),a.shape.format==this.dataFormat||4!=a.shape.dimensions||4!=this.shape.dimensions?a.shape.isNHWC()?this.program=this.runtime.compile(this.createNHWCScript()):this.program=this.runtime.compile(this.createNCHWScript()):a.shape.isNCHW()?this.program=this.runtime.compile(this.createNHWCScript()):this.program=this.runtime.compile(this.createNHWCViaNCHWScript()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0):(this.justCopy=!0,!0));},e.prototype.compute=function(){this.justCopy?this.texture=this.inputVars[0].texture:(this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw());},e.prototype.release=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.justCopy&&delete this.texture,t.prototype.release.call(this),[2];});});},e.prototype.createNHWCScript=function(){var t,e=Array.prototype.slice.call(this.shape.dimsAsNHWC),n=e.map(function(t,e){return"o"+e;}),r=4==n.length?1:n.length-1,i="o"+r+" = o"+r+" * 4;",o="o"+r+"++";4==e.length?t=[n[0],n[2],n[3],n[1]].map(function(t,n){return t+" * "+e.slice(n+1).reduce(function(t,e){return t*e;},1);}).join(" + "):t=n.map(function(t,n){return t+" * "+e.slice(n+1).reduce(function(t,e){return t*e;},1);}).join(" + ");var s=this.inputVars[0],a=Array.prototype.slice.call(s.shape.dimsAsNHWC),u=a.map(function(t,e){return"i"+e;});4==u.length&&(u=[u[0],u[3],u[1],u[2]]);var c=u.length-1,p=a.map(function(t,e){var n=a.slice(e+1).reduce(function(t,e){return t*e;},1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),f="int mod = i"+c+" - i"+c+" / 4 * 4;",l="i"+c+" = i"+c+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("get_input",s.texture,s.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+p+"\n  "+f+"\n  "+l+"\n  vec4 v = texture2D(input_s, get_input("+u.join(",")+"));\n  "+d.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],n))+"\n  "+i+"\n\n  float x = getIndex("+t+"); "+o+";\n  float y = getIndex("+t+"); "+o+";\n  float z = getIndex("+t+"); "+o+";\n  float w = getIndex("+t+");\n  gl_FragColor = vec4(x, y, z, w);\n}\n";},e.prototype.createNCHWScript=function(){var t=Array.prototype.slice.call(this.shape.dimsAsNCHW),e=t.map(function(t,e){return"o"+e;}),n=4==e.length?1:e.length-1,r="o"+n+" = o"+n+" * 4;",i="o"+n+"++",o=e.map(function(e,n){return e+" * "+t.slice(n+1).reduce(function(t,e){return t*e;},1);}).join(" + "),s=this.inputVars[0],a=Array.prototype.slice.call(s.shape.dimsAsNCHW),u=a.map(function(t,e){return"i"+e;}),c=4==u.length?1:u.length-1,p=a.map(function(t,e){var n=a.slice(e+1).reduce(function(t,e){return t*e;},1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),f="int mod = i"+c+" - i"+c+" / 4 * 4;",l="i"+c+" = i"+c+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("get_input",s.texture,s.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+p+"\n  "+f+"\n  "+l+"\n  vec4 v = texture2D(input_s, get_input("+u.join(",")+"));\n  "+d.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+d.genCoordsToDims.apply(d,h([this.texture,"TexCoords",this.shape],e))+"\n  "+r+"\n\n  float x = getIndex("+o+"); "+i+";\n  float y = getIndex("+o+"); "+i+";\n  float z = getIndex("+o+"); "+i+";\n  float w = getIndex("+o+");\n  gl_FragColor = vec4(x, y, z, w);\n}\n";},e.prototype.createNHWCViaNCHWScript=function(){var t=this.inputVars[0],e=p(t.shape.dims,4),n=(e[0],e[1]),r=e[2],i=e[3],o=p(this.shape.dims,4),s=(o[0],o[1]),a=o[2],u=o[3],c="on * "+s*a*u+" + oh * "+a*u+" + ow * "+u+" + oc";return"\n"+this.runtime.precisionDescription+"\n"+d.genDimsToCoords("get_input",t.texture,t.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  int n = index / "+i*n*r+"; index -= n * "+i*n*r+";\n  int c = index / "+n*r+"; index -= c * "+n*r+";\n  int h = index / "+r+"; \n  int w = index - h * "+r+";\n  int mod = c - c / 4 * 4;\n  vec4 v = texture2D(input_s, get_input(n, c / 4, h, w));\n  "+d.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+d.genCoordsToDims(this.texture,"TexCoords",this.shape,"on","oc","oh","ow")+"\n  oc = oc * 4;\n\n  float x = getIndex("+c+"); oc++;\n  float y = getIndex("+c+"); oc++;\n  float z = getIndex("+c+"); oc++;\n  float w = getIndex("+c+");\n  gl_FragColor = vec4(x, y, z, w);\n}\n";},e;}(f.WebGLVar);e.ReshapeVar=l;},function(t,e,n){"use strict";var _r27,i=this&&this.__extends||(_r27=function r(t,e){return(_r27=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r27(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(o(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.SigmoidVar=void 0;var a=n(0),u=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape;return!a.VarShape.isEqual(this.shape,n)&&(this.shape=n.copy(),this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,s([e.texture.type],this.runtime.sizeTexture(this.shape))),this.program||(this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s")),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\n\nvoid main() {\n  vec4 data = texture2D(input_s, TexCoords);\n  const vec4 one = vec4(1);\n  gl_FragColor = (one / (one + exp(-data)));\n}";},e;}(a.WebGLVar);e.SigmoidVar=u;},function(t,e,n){"use strict";var _r28,i=this&&this.__extends||(_r28=function r(t,e){return(_r28=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r28(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.SliceTfVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){var t;console.assert(3==this.inputVars.length);var e=u(this.inputVars,3),n=e[0],r=e[1],i=e[2],o=n.shape.dims;console.assert(1==r.shape.dimensions&&1==i.shape.dimensions&&o.length>=1&&o.length==i.shape.dims[0]&&o.length==r.shape.dims[0]);var s,a=new Int32Array(r.download()),h=new Int32Array(i.download()).map(function(t,e){return-1==t?o[e]-a[e]:t;});return s=h.some(function(t){return t<=0;})?new p.VarShape([],n.shape.format):new p.VarShape(h,n.shape.format),!p.VarShape.isEqual(this.shape,s)&&(this.shape=s,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([n.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createScript(a)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createScript=function(t){var e=Array.prototype.slice.call(t);4==e.length&&(e=[e[0],e[3],e[1],e[2]]);var n=4==this.shape.dims.length?1:this.shape.dims.length-1,r=Array.prototype.slice.call(this.shape.dimsAsNCHW),i=r.map(function(t,e){return"d"+e;}),o=i.join(","),s="d"+n+" = d"+n+" * 4;",a=i.map(function(t,n){return t+" += "+e[n]+";";}).join("\n"),u=this.inputVars[0],p=Array.prototype.slice.call(u.shape.dimsAsNCHW),f=p.map(function(t,e){return"i"+e;}).join(","),d=p.map(function(t,e){return"int i"+e;}).join(","),l="i"+n+" = i"+n+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",u.texture,u.shape)+"\n\nuniform sampler2D input_s;\nfloat get_input("+d+") {\n  int idx = i"+n+" - i"+n+" / 4 * 4;\n  "+l+"\n  vec4 result = texture2D(input_s, coord_input("+f+"));\n  "+h.genVec4Split("result","idx")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],i))+"\n  "+s+"\n  int remain = "+r[n]+" - d"+n+";\n  "+a+"\n\n  vec4 result = vec4(0);\n  if (remain == 1) {\n    result[0] = get_input("+o+");\n  } else if (remain == 2) {\n    result[0] = get_input("+o+"); d"+n+" += 1;\n    result[1] = get_input("+o+");\n  } else if (remain == 3) {\n    result[0] = get_input("+o+"); d"+n+" += 1;\n    result[1] = get_input("+o+"); d"+n+" += 1;\n    result[2] = get_input("+o+");\n  } else {\n    result[0] = get_input("+o+"); d"+n+" += 1;\n    result[1] = get_input("+o+"); d"+n+" += 1;\n    result[2] = get_input("+o+"); d"+n+" += 1;\n    result[3] = get_input("+o+");\n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.SliceTfVar=f;},function(t,e,n){"use strict";var _r29,i=this&&this.__extends||(_r29=function r(t,e){return(_r29=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r29(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.SliceVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.axis=r,s.slices=i,s.index=o,s;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape.copy(),r=this.axis<0?n.dimensions+this.axis:this.axis,i=0;if(1==this.slices.length){var o=this.slices[0];console.assert(n.dims[r]%o==0),n.dims[r]/=o,i=this.index*n.dims[r];}else{var s=this.slices.slice(),a=s.findIndex(function(t){return-1==t;});a&&(s[a]=n.dims[a]-s.reduce(function(t,e){return t+e;})-1),n.dims[r]=s[this.index],i=0==this.index?0:s.slice(0,this.index).reduce(function(t,e){return t+e;});}return!p.VarShape.isEqual(this.shape,n)&&(this.shape=n,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createScript(i,r)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createScript=function(t,e){var n,r=t%4,i=4==this.shape.dimensions?1:this.shape.dims.length-1,o=Array.prototype.slice.call(this.shape.dimsAsNCHW).map(function(t,e){return"d"+e;}),s=o.join(","),a=this.inputVars[0];return n=0==r?"d"+i+" = d"+i+" + "+Math.floor(t/4)+";\nresult = texture2D(input_s, coord_input("+s+"));":"d"+i+" = d"+i+" + "+Math.floor(t/4)+";\nvec4 in0x4 = texture2D(input_s, coord_input("+s+")); d"+i+" += 1;\nvec4 in1x4 = texture2D(input_s, coord_input("+s+"));\n"+(1==r?"result = vec4(in0x4.y, in0x4.z, in0x4.w, in1x4.x);":2==r?"result = vec4(in0x4.z, in0x4.w, in1x4.x, in1x4.y);":"result = vec4(in0x4.w, in1x4.x, in1x4.y, in1x4.z);"),"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\n"+h.genDimsToCoords("coord_input",a.texture,a.shape)+"\n\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],o))+"\n  vec4 result = vec4(0.0);\n  "+n+"\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.SliceVar=f;},function(t,e,n){"use strict";var _r30,i=this&&this.__extends||(_r30=function r(t,e){return(_r30=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r30(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.SoftmaxVar=void 0;var p=n(0),h=n(4),f=a(n(1)),d=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape;if(p.VarShape.isEqual(this.shape,n))return!1;this.shape=n.copy(),this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape)));var r=this.axis<0?this.shape.dimensions+this.axis:this.axis,i=this.shape.dimsAsNCHW;return 4==this.shape.dimensions&&this.shape.isNHWC()&&(2==r?r=3:1==r?r=2:3==r&&(r=1)),this.runtime.deleteProgram(this.program),4==i.length&&1==r||4!=i.length&&r==i.length-1?this.program=this.runtime.compile(this.createUnpackScript(i,r)):this.program=this.runtime.compile(this.createPackedScript(i,r)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0;},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createUnpackScript=function(t,e){var n=this.inputVars[0],r=Array.prototype.slice.call(t),i=r[e],o=r.map(function(t,e){return"d"+e;}),s=o.map(function(t,n){return n==e?"i":t;}).join(","),a=o.map(function(t,n){return n==e?""+(h.upDiv(i,4)-1):t;}).join(",");return"\n"+this.runtime.precisionDescription+"\n"+f.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  "+f.genCoordsToDims.apply(f,c([this.texture,"TexCoords",this.shape],o))+"\n\n  // max\n  vec4 max4 = vec4(-10000.0);\n  for (int i = 0; i < "+(h.upDiv(i,4)-1)+"; i++) {\n    max4 = max(max4, texture2D(input_s, coord_input("+s+")));\n  }\n  float max1 = max(max(max4.x, max4.y), max(max4.z, max4.w));\n\n  vec4 last4 = texture2D(input_s, coord_input("+a+"));\n  int rest = "+(4*h.upDiv(i,4)-i)+";\n  if (rest == 0) {\n    max1 = max(max1, last4.x);\n    max1 = max(max1, last4.y);\n    max1 = max(max1, last4.z);\n    max1 = max(max1, last4.w);\n  } else if (rest == 1) {\n    max1 = max(max1, last4.x);\n    max1 = max(max1, last4.y);\n    max1 = max(max1, last4.z);\n  } else if (rest == 2) {\n    max1 = max(max1, last4.x);\n    max1 = max(max1, last4.y);\n  } else if (rest == 3) {\n    max1 = max(max1, last4.x);\n  }\n  max4 = vec4(max1);\n\n  // sum\n  vec4 sum4 = vec4(0.0);\n  for (int i = 0; i < "+(h.upDiv(i,4)-1)+"; i++) {\n    sum4 += exp(texture2D(input_s, coord_input("+s+")) - max4);\n  }\n  float sum1 = sum4.x;\n  sum1 += sum4.y;\n  sum1 += sum4.z;\n  sum1 += sum4.w;\n\n  last4 -= max4;\n  vec4 last4_exp = exp(last4);\n  if (rest == 0) {\n    sum1 += last4_exp.x + last4_exp.y + last4_exp.z + last4_exp.w;\n  } else if (rest == 1) {\n    sum1 += last4_exp.x + last4_exp.y + last4_exp.z;\n  } else if (rest == 2) {\n    sum1 += last4_exp.x + last4_exp.y;\n  } else if (rest == 3) {\n    sum1 += last4_exp.x;\n  }\n  sum4 = vec4(sum1);\n\n  // div sum\n  vec4 input4 = texture2D(input_s, TexCoords);\n  vec4 output4 = exp(input4 - max4) / sum4;\n  gl_FragColor = output4;\n}";},e.prototype.createPackedScript=function(t,e){var n=this.inputVars[0],r=Array.prototype.slice.call(t),i=r[e],o=r.map(function(t,e){return"d"+e;}),s=o.map(function(t,n){return n==e?"i":t;}).join(",");return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\n"+f.genDimsToCoords("coord_input",n.texture,n.shape)+"\n\nvoid main() {\n  "+f.genCoordsToDims.apply(f,c([this.texture,"TexCoords",this.shape],o))+"\n\n  vec4 max4 = vec4(-10000.0);\n  for (int i = 0; i < "+i+"; i++) {\n    max4 = max(max4, texture2D(input_s, coord_input("+s+")));\n  }\n  \n  vec4 sum4 = vec4(0.0);\n  for (int i = 0; i < "+i+"; i++) {\n    sum4 += exp(texture2D(input_s, coord_input("+s+")) - max4);\n  }\n  \n  vec4 input4 = texture2D(input_s, TexCoords);\n  vec4 output4 = exp(input4 - max4) / sum4;\n  gl_FragColor = output4;\n}";},e;}(p.WebGLVar);e.SoftmaxVar=d;},function(t,e,n){"use strict";var _r31,i=this&&this.__extends||(_r31=function r(t,e){return(_r31=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r31(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.SqueezeVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.dimArray=r,i;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape,r=[];if(this.dimArray&&0!=this.dimArray.length)for(i=0;i<this.dimArray.length;i++){r.push(this.dimArray[i]);}else for(var i=0;i<n.dimensions;++i){1==n.dims[i]&&r.push(i);}var o=r.length;console.assert(o<n.dimensions);var s=new Int32Array(n.dimensions-o),a=0,u=function u(t){null==r.find(function(e){return e==t;})&&(s[a]=n.dims[t],a++);};for(i=0;i<n.dimensions;i++){u(i);}var h=new p.VarShape(s,n.format);return!p.VarShape.isEqual(this.shape,h)&&(this.shape=h,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){var t,e=this,n=Array.prototype.slice.call(this.shape.dimsAsNHWC),r=n.map(function(t,e){return"o"+e;}),i=4==r.length?1:r.length-1,o="o"+i+" = o"+i+" * 4;",s="o"+i+"++";4==n.length?t=[r[0],r[2],r[3],r[1]].map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + "):t=r.map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + ");var a=this.inputVars[0],u=Array.prototype.slice.call(a.shape.dimsAsNHWC),p=u.map(function(t,e){return"i"+e;});4==p.length&&(p=[p[0],p[3],p[1],p[2]]);var f=p.length-1,d=u.map(function(t,e){var n=a.shape.size(e+1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),l="int mod = i"+f+" - i"+f+" / 4 * 4;",b="i"+f+" = i"+f+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",a.texture,a.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+d+"\n  "+l+"\n  "+b+"\n  vec4 v = texture2D(input_s, coord_input("+p.join(",")+"));\n  "+h.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],r))+"\n  "+o+"\n\n  float x = getIndex("+t+"); "+s+";\n  float y = getIndex("+t+"); "+s+";\n  float z = getIndex("+t+"); "+s+";\n  float w = getIndex("+t+");\n  gl_FragColor = vec4(x, y, z, w);\n}";},e;}(p.WebGLVar);e.SqueezeVar=f;},function(t,e,n){"use strict";var _r32,i=this&&this.__extends||(_r32=function r(t,e){return(_r32=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r32(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.TileVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){var t;console.assert(2==this.inputVars.length);var e=u(this.inputVars,2),n=e[0],r=e[1],i=(n.shape.dimensions,r.download()),o=n.shape.dims.map(function(t,e){return t*i[e];}),s=new p.VarShape(o,n.shape.format);return!p.VarShape.isEqual(this.shape,s)&&(this.shape=s,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([n.texture.type],this.runtime.sizeTexture(this.shape))),this.program=this.runtime.compile(this.createScript()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createScript=function(){var t=4==this.shape.dims.length?1:this.shape.dims.length-1,e=Array.prototype.slice.call(this.shape.dimsAsNCHW),n=e.map(function(t,e){return"d"+e;}),r=n.join(","),i="d"+t+" = d"+t+" * 4;",o=this.inputVars[0],s=Array.prototype.slice.call(o.shape.dimsAsNCHW),a=s.map(function(t,e){return"i"+e;}),u=a.join(","),p=s.map(function(t,e){return"int i"+e;}).join(","),f="i"+t+" = i"+t+" / 4;",d=a.map(function(t,e){return t+" = "+t+" - "+t+" / "+s[e]+" * "+s[e]+";";}).join("\n");return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",o.texture,o.shape)+"\n\nuniform sampler2D input_s;\nfloat get_input("+p+") {\n  "+d+"\n  int idx = i"+t+" - i"+t+" / 4 * 4;\n  "+f+"\n  vec4 result = texture2D(input_s, coord_input("+u+"));\n  "+h.genVec4Split("result","idx")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],n))+"\n  "+i+"\n\n  vec4 result = vec4(0);\n  int remain = "+e[t]+" - d"+t+";\n  if (remain == 1) {\n    result[0] = get_input("+r+");\n  } else if (remain == 2) {\n    result[0] = get_input("+r+"); d"+t+" += 1;\n    result[1] = get_input("+r+");\n  } else if (remain == 3) {\n    result[0] = get_input("+r+"); d"+t+" += 1;\n    result[1] = get_input("+r+"); d"+t+" += 1;\n    result[2] = get_input("+r+");\n  } else {\n    result[0] = get_input("+r+"); d"+t+" += 1;\n    result[1] = get_input("+r+"); d"+t+" += 1;\n    result[2] = get_input("+r+"); d"+t+" += 1;\n    result[3] = get_input("+r+");\n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.TileVar=f;},function(t,e,n){"use strict";var _r33,i=this&&this.__extends||(_r33=function r(t,e){return(_r33=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r33(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.TransposeVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){for(var t,e=this.inputVars[0],n=new Int32Array(this.inputVars[1].download()),r=e.shape,i=r.copy(),o=0;o<i.dimensions;++o){var s=n[o];i.dims[o]=r.dims[s];}return!p.VarShape.isEqual(this.shape,i)&&(this.shape=i,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createSource(n)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createSource=function(t){var e=this.inputVars[0],n=this.shape.dims.length-1,r=c(e.shape.dims),i=4==r.length?["i0","i3","i1","i2"]:r.map(function(t,e){return"i"+e;}),o=r.map(function(e,n){return"int i"+t[n];}).join(","),s=c(this.shape.dims),a=4==s.length?["o0","o3","o1","o2"]:s.map(function(t,e){return"o"+e;}),u=s.map(function(t,e){return"o"+e;}).join(",");return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",e.texture,e.shape)+"\n\nuniform sampler2D input_s;\nfloat get_input("+o+") {\n  int idx = i"+n+" - i"+n+" / 4 * 4;\n  i"+n+" /= 4;\n  vec4 result = texture2D(input_s, coord_input("+i.join(",")+"));\n  "+h.genVec4Split("result","idx")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],a))+"\n  int rest = "+s[n]+" - o"+n+";\n  o"+n+" *= 4;\n\n  vec4 result = vec4(0);\n  if (rest == 1) {\n    result[0] = get_input("+u+"); o"+n+"++;\n  } else if (rest == 2) {\n    result[0] = get_input("+u+"); o"+n+"++;\n    result[1] = get_input("+u+");\n  } else if (rest == 3) {\n    result[0] = get_input("+u+"); o"+n+"++;\n    result[1] = get_input("+u+"); o"+n+"++;\n    result[2] = get_input("+u+");\n  } else{\n    result[0] = get_input("+u+"); o"+n+"++;\n    result[1] = get_input("+u+"); o"+n+"++;\n    result[2] = get_input("+u+"); o"+n+"++;\n    result[3] = get_input("+u+"); \n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.TransposeVar=f;},function(t,e,n){"use strict";var _r34,i=this&&this.__extends||(_r34=function r(t,e){return(_r34=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r34(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(o(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.UnaryVar=void 0;var a=n(0),u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return"rsqrt"==r?i.op="vec4(1) / sqrt(data)":"sqrt"==r?i.op="sqrt(data)":"exp"==r?i.op="exp(data)":"round"==r?i.op="floor(data + 0.5)":"floor"==r?i.op="floor(data)":"log"==r?i.op="log(data)":console.error(" not support this unaryType : "+r+"!!! "),i;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=e.shape;return!a.VarShape.isEqual(this.shape,n)&&(this.shape=n.copy(),this.texture=(t=this.runtime).allocTexture.apply(t,s([e.texture.type],this.runtime.sizeTexture(this.shape))),this.program||(this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s")),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){return"\n"+this.runtime.precisionDescription+"\n\nvarying vec2 TexCoords;\nuniform sampler2D input_s;\nvoid main() {\n  vec4 data = texture2D(input_s, TexCoords);\n  gl_FragColor = "+this.op+";\n}";},e;}(a.WebGLVar);e.UnaryVar=u;},function(t,e,n){"use strict";var _r35,i=this&&this.__extends||(_r35=function r(t,e){return(_r35=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r35(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.UnpackVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.axis=r,o.index=i,o;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=Array.prototype.slice.call(e.shape.dims),r=this.axis<0?this.axis+e.shape.dims.length:this.axis,i=n.filter(function(t,e){return e!=r;}),o=new p.VarShape(i,e.shape.format);return o.dimensions=e.shape.dimensions>0?e.shape.dimensions-1:0,!p.VarShape.isEqual(this.shape,o)&&(this.shape=o.copy(),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createScript(r)),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createScript=function(t){var e=this.inputVars[0],n=e.shape.dims.length-1,r=Array.prototype.slice.call(e.shape.dimsAsNCHW),i=r.map(function(t,e){return"i"+e;}),o=r.map(function(t,e){return"int i"+e;});o=c(o.slice(0,t),o.slice(t+1));var s,a="i"+n+" = i"+n+" / 4;";s=e.shape.isNHWC()&&4==e.shape.dimensions?[i[0],i[3],i[1],i[2]].join(","):i.join(",");var u,p=4==this.shape.dimensions?1:this.shape.dims.length-1,f=Array.prototype.slice.call(this.shape.dimsAsNCHW),d=f.map(function(t,e){return"o"+e;});u=0==o.length?"":this.shape.isNHWC()&&4==this.shape.dimensions?[d[0],d[2],d[3],d[1]].join(","):d.join(",");var l="o"+p+" = o"+p+" * 4;";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",e.texture,e.shape)+"\n\nuniform sampler2D input_s;\nfloat get_input("+o.join(",")+") {\n  int i"+t+" = "+this.index+";\n  int idx = i"+n+" - i"+n+" / 4 * 4;\n  "+a+"\n  vec4 result = texture2D(input_s, coord_input("+s+"));\n  "+h.genVec4Split("result","idx")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],d))+"\n  "+l+"\n\n  vec4 result = vec4(0);\n  int remain = "+f[p]+" - o"+p+";\n  if (remain == 1) {\n    result[0] = get_input("+u+");\n  } else if (remain == 2) {\n    result[0] = get_input("+u+"); o"+p+" += 1;\n    result[1] = get_input("+u+");\n  } else if (remain == 3) {\n    result[0] = get_input("+u+"); o"+p+" += 1;\n    result[1] = get_input("+u+"); o"+p+" += 1;\n    result[2] = get_input("+u+");\n  } else {\n    result[0] = get_input("+u+"); o"+p+" += 1;\n    result[1] = get_input("+u+"); o"+p+" += 1;\n    result[2] = get_input("+u+"); o"+p+" += 1;\n    result[3] = get_input("+u+");\n  }\n  gl_FragColor = result;\n}";},e;}(p.WebGLVar);e.UnpackVar=f;},function(t,e,n){"use strict";var _r36,i=this&&this.__extends||(_r36=function r(t,e){return(_r36=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r36(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__createBinding||(_create2.default?function(t,e,n,r){void 0===r&&(r=n),(0,_defineProperty2.default)(t,r,{enumerable:!0,get:function get(){return e[n];}});}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n];}),s=this&&this.__setModuleDefault||(_create2.default?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t){"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);}return s(e,t),e;},u=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(u(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.UnsqueezeVar=void 0;var p=n(0),h=a(n(1)),f=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.dimArray=r,i;}return i(e,t),e.prototype.resize=function(){for(var t,e=this.inputVars[0],n=e.shape,r=this.dimArray?c(this.dimArray):[],i=new Int32Array(n.dimensions+r.length),o=0,s=0;s<i.length;s++){r.includes(s)?i[s]=1:i[s]=n.dims[o++];}var a=new p.VarShape(i,n.format);return!p.VarShape.isEqual(this.shape,a)&&(this.shape=a,this.runtime.releaseTexture(this.texture),this.texture=(t=this.runtime).allocTexture.apply(t,c([e.texture.type],this.runtime.sizeTexture(this.shape))),this.runtime.deleteProgram(this.program),this.program=this.runtime.compile(this.createFragSource()),this.inputLocation=this.runtime.getUniformLocation(this.program,"input_s"),!0);},e.prototype.compute=function(){this.runtime.useProgram(this.program),this.runtime.attachFramebuffer(this.texture),this.runtime.bindTexture(this.inputVars[0].texture,this.inputLocation,0),this.runtime.draw();},e.prototype.createFragSource=function(){var t,e=this,n=Array.prototype.slice.call(this.shape.dimsAsNHWC),r=n.map(function(t,e){return"o"+e;}),i=4==r.length?1:r.length-1,o="o"+i+" = o"+i+" * 4;",s="o"+i+"++";4==n.length?t=[r[0],r[2],r[3],r[1]].map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + "):t=r.map(function(t,n){return t+" * "+e.shape.size(n+1);}).join(" + ");var a=this.inputVars[0],u=Array.prototype.slice.call(a.shape.dimsAsNHWC),p=u.map(function(t,e){return"i"+e;});4==p.length&&(p=[p[0],p[3],p[1],p[2]]);var f=p.length-1,d=u.map(function(t,e){var n=a.shape.size(e+1);return"int i"+e+" = index / "+n+"; index -= i"+e+" * "+n+";";}).join("\n"),l="int mod = i"+f+" - i"+f+" / 4 * 4;",b="i"+f+" = i"+f+" / 4;";return"\n"+this.runtime.precisionDescription+"\n"+h.genDimsToCoords("coord_input",a.texture,a.shape)+"\n\nuniform sampler2D input_s;\nfloat getIndex(int index) {\n  "+d+"\n  "+l+"\n  "+b+"\n  vec4 v = texture2D(input_s, coord_input("+p.join(",")+"));\n  "+h.genVec4Split("v","mod")+"\n}\n\nvarying vec2 TexCoords;\nvoid main() {\n  "+h.genCoordsToDims.apply(h,c([this.texture,"TexCoords",this.shape],r))+"\n  "+o+"\n\n  float x = getIndex("+t+"); "+s+";\n  float y = getIndex("+t+"); "+s+";\n  float z = getIndex("+t+"); "+s+";\n  float w = getIndex("+t+");\n  gl_FragColor = vec4(x, y, z, w);\n}";},e;}(p.WebGLVar);e.UnsqueezeVar=f;},function(t,e,n){"use strict";var _r37,i=this&&this.__extends||(_r37=function r(t,e){return(_r37=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r37(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmBuilder=void 0;var a=n(9),u=n(14),c=n(55),p=n(56),h=n(57),f=n(59),d=n(60),l=n(61),b=n(62),_=n(63),y=n(64),m=n(65),v=n(66),g=n(67),x=n(68),T=n(69),w=n(70),S=n(71),I=n(72),O=n(73),N=n(74),A=n(75),P=n(76),D=n(77),V=n(78),F=n(79),E=function(t){function e(e){var n=t.call(this)||this;return n.runtime=e,n;}return i(e,t),e.compile=function(t){return o(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return"function"!=typeof WebAssembly.compileStreaming?[3,1]:[2,WebAssembly.compileStreaming(t)];case 1:return[4,t];case 2:return[4,n.sent().arrayBuffer()];case 3:return e=n.sent(),[2,WebAssembly.compile(e)];}});});},e.create=function(t){return o(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return[4,u.WasmRuntime.create(t)];case 1:return(n=r.sent())?[2,new e(n)]:[2,null];}});});},e.prototype.supportedOperators=function(){var t=[];for(var e in this){e.startsWith("build")&&t.push(e.substr(5));}return t;},e.prototype.buildBinaryOp=function(t,e,n,r){this._variables[e[0]]=new c.BinaryVar(n[0],this.runtime,r);},e.prototype.buildConcat=function(t,e,n,r){this._variables[e[0]]=new p.ConcatVar(n[0],this.runtime,r);},e.prototype.buildConvertTensor=function(t,e,n,r,i){this._variables[e[0]]=new h.ConvertTensorVar(n[0],this.runtime,r,i);},e.prototype.buildConvolution=function(t,e,n,r,i,o,s,a,u,c,p,h,f){this._variables[e[0]]=new d.ConvolutionVar(n[0],this.runtime,r,i,o,s,a,u,c,p,h,f);},e.prototype.buildConvolutionDepthwise=function(t,e,n,r,i,o,s,a,u,c,p,h,d){this._variables[e[0]]=new f.ConvolutionDepthwiseVar(n[0],this.runtime,r,i,o,s,a,u,c,p,h,d);},e.prototype.buildCropAndResize=function(t,e,n,r,i){this._variables[e[0]]=new l.CropAndResizeVar(n[0],this.runtime,r,i);},e.prototype.buildEltwise=function(t,e,n,r){this._variables[e[0]]=new c.BinaryVar(n[0],this.runtime,r);},e.prototype.buildInput=function(t,e,n,r,i,o){this._variables[e[0]]=new b.InputVar(n[0],this.runtime,o,r,i);},e.prototype.buildInterp=function(t,e,n,r,i,o,s,a,u){this._variables[e[0]]=new _.InterpVar(n[0],this.runtime,r,i,o,s,a,u);},e.prototype.buildMatMul=function(t,e,n,r,i){this._variables[e[0]]=new y.MatMulVar(n[0],this.runtime,r,i);},e.prototype.buildPadding=function(t,e,n){this._variables[e[0]]=new m.PaddingVar(n[0],this.runtime);},e.prototype.buildPooling=function(t,e,n,r,i,o,s,a,u,c){this._variables[e[0]]=new v.PoolingVar(n[0],this.runtime,r,i,o,s,a,u,c);},e.prototype.buildPReLU=function(t,e,n,r){this._variables[e[0]]=new g.PReluVar(n[0],this.runtime,r);},e.prototype.buildReduction=function(t,e,n,r,i,o){this._variables[e[0]]=new x.ReductionVar(n[0],this.runtime,r,i,o);},e.prototype.buildReLU=function(t,e,n,r){this._variables[e[0]]=new T.ReluVar(n[0],this.runtime,r);},e.prototype.buildScatterNd=function(t,e,n,r){this._variables[e[0]]=new w.ScatterNdVar(n[0],this.runtime);},e.prototype.buildSigmoid=function(t,e,n){this._variables[e[0]]=new S.SigmoidVar(n[0],this.runtime);},e.prototype.buildSliceTf=function(t,e,n){this._variables[e[0]]=new I.SliceTfVar(n[0],this.runtime);},e.prototype.buildSlice=function(t,e,n,r,i){for(var o=0;o<e.length;o++){var s=e[o],a=n[o];this._variables[s]=new O.SliceVar(a,this.runtime,r,i,o);}},e.prototype.buildSoftmax=function(t,e,n,r){this._variables[e[0]]=new N.SoftmaxVar(n[0],this.runtime,r);},e.prototype.buildSqueeze=function(t,e,n,r){this._variables[e[0]]=new A.SqueezeVar(n[0],this.runtime,r);},e.prototype.buildTile=function(t,e,n){this._variables[e[0]]=new P.TileVar(n[0],this.runtime);},e.prototype.buildTranspose=function(t,e,n){this._variables[e[0]]=new D.TransposeVar(n[0],this.runtime);},e.prototype.buildUnaryOp=function(t,e,n,r){this._variables[e[0]]=new V.UnaryVar(n[0],this.runtime,r);},e.prototype.buildUnsqueeze=function(t,e,n,r){this._variables[e[0]]=new F.UnsqueezeVar(n[0],this.runtime,r);},e;}(a.OnboardBuilder);e.WasmBuilder=E;},function(t,e,n){"use strict";var _r38,i=this&&this.__extends||(_r38=function r(t,e){return(_r38=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r38(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVar=void 0;var a=n(2),u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.type=r,i;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.dim0Data&&(this.runtime.releaseData(this.dim0Data),delete this.dim0Data),this.dim1Data&&(this.runtime.releaseData(this.dim1Data),delete this.dim1Data),this.dimRData&&(this.runtime.releaseData(this.dimRData),delete this.dimRData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t,e=this.inputVars[0],n=this.inputVars[1],r=e.shape.dims,i=n.shape.dims,o=e.shape.size(),s=n.shape.size();if(1==o)this.algo="eltwise",t=n.shape.copy();else if(1==s)this.algo="eltwise",t=e.shape.copy();else if(e.shape.dimensions!=n.shape.dimensions||r.some(function(t,e){return t!=i[e];})){this.algo="broadcast";for(var u=e.shape.dimensions>n.shape.dimensions?e:n,c=e==u?n:e,p=u.shape.dimensions-c.shape.dimensions,h=u.shape.dims.slice(),f=p;f<u.shape.dimensions;f++){var d=f-p,l=c.shape.dims[d];if(l==h[f]);else{if(1!=l&&1!=h[f])throw"unsupport broadcast binary";h[f]=l*h[f];}}t=new a.VarShape(h,e.shape.format),this.runtime.releaseData(this.dim0Data),this.runtime.releaseData(this.dim1Data),this.runtime.releaseData(this.dimRData),this.dim0Data=this.runtime.allocData(new Int32Array([e.shape.dimensions]),"int32",new Int32Array(r)),this.dim1Data=this.runtime.allocData(new Int32Array([n.shape.dimensions]),"int32",new Int32Array(i)),this.dimRData=this.runtime.allocData(new Int32Array([t.dimensions]),"int32",new Int32Array(h));}else this.algo="eltwise",t=e.shape.copy();return!a.VarShape.isEqual(this.shape,t)&&(this.shape=t.copy(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,e.data.type),this.kernel=this.runtime.kernel("binary_"+this.algo+"_"+this.type),null==this.kernel&&console.error("not found kernel : binary_"+this.algo+"_"+this.type),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=this.inputVars[1],n=t.shape.size(),r=e.shape.size();"eltwise"==this.algo?this.kernel(t.data.offset,n,e.data.offset,r,this.data.offset):this.kernel(t.data.offset,this.dim0Data.offset,t.shape.dimensions,e.data.offset,this.dim1Data.offset,e.shape.dimensions,this.data.offset,this.dimRData.offset,this.shape.dimensions);},e;}(a.WasmVar);e.BinaryVar=u;},function(t,e,n){"use strict";var _r39,i=this&&this.__extends||(_r39=function r(t,e){return(_r39=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r39(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__values||function(t){var e="function"==typeof _symbol2.default&&_iterator2.default,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(e,"__esModule",{value:!0}),e.ConcatVar=void 0;var u=n(2),c=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.inptrsData),this.runtime.releaseData(this.stepsData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t,e,n=this.inputVars[0],r=this.axis<0?this.axis+n.shape.dimensions:this.axis,i=n.shape.copy(),o=0;try{for(var s=a(this.inputVars),c=s.next();!c.done;c=s.next()){var p=c.value;p.shape.dimensions>0&&(o+=p.shape.dims[r]);}}catch(e){t={error:e};}finally{try{c&&!c.done&&(e=s.return)&&e.call(s);}finally{if(t)throw t.error;}}return i.dims[r]=o,!u.VarShape.isEqual(this.shape,i)&&(this.shape=i,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,n.data.type),this.runtime.releaseData(this.inptrsData),this.inptrsData=this.runtime.allocData(new Int32Array([this.inputVars.length]),"int32"),this.runtime.releaseData(this.stepsData),this.stepsData=this.runtime.allocData(new Int32Array([this.inputVars.length]),"int32"),this.kernel=this.runtime.kernel("concat"),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=this.axis<0?this.axis+t.shape.dimensions:this.axis,n=this.inputVars.map(function(t){return t.data.offset;}),r=this.inputVars.map(function(t){return t.shape.dims[e];});this.inptrsData.typedArray().set(new Int32Array(n)),this.stepsData.typedArray().set(new Int32Array(r));var i=this.shape.size(0,e),o=this.shape.size(e+1);this.kernel(i,o,this.inputVars.length,this.stepsData.offset,this.inptrsData.offset,this.shape.dims[e],this.data.offset);},e;}(u.WasmVar);e.ConcatVar=c;},function(t,e,n){"use strict";var _r40,i=this&&this.__extends||(_r40=function r(t,e){return(_r40=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r40(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ConvertTensorVar=void 0;var o=n(2),s=n(58),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.destType=i,o;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0].shape.asFormat(this.destType);return!o.VarShape.isEqual(this.shape,t)&&(this.shape=t,!0);},e.prototype.compute=function(){var t=this.inputVars[0].shape,e=this.shape,n=this.inputVars[0].data;this.runtime.releaseData(this.data),t.isNCHW()&&e.isNHWC()?this.data=s.reorderNCHWToNHWC(t.dims,this.runtime,n):t.isNHWC()&&e.isNCHW()?this.data=s.reorderNHWCToNCHW(t.dims,this.runtime,n):this.data=this.runtime.allocData(e,n.type,n.typedArray());},e;}(o.WasmVar);e.ConvertTensorVar=a;},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.reorderNHWCToNCHW=e.reorderNCHWToNHWC=void 0;var i=n(15);e.reorderNCHWToNHWC=function(t,e,n){if(4!=t.length)return e.allocData(t,n.type,n.typedArray());var o=r(t,4),s=o[0],a=o[1],u=o[2],c=o[3],p=e.allocData(new Int32Array([s,u,c,a]),n.type);return e.kernel("reorder_NCHW_to_NHWC")(s,a,u,c,n.offset,p.offset,i.bytesForDataType(p.type)),p;},e.reorderNHWCToNCHW=function(t,e,n){if(4!=t.length)return e.allocData(t,n.type,n.typedArray());var o=r(t,4),s=o[0],a=o[1],u=o[2],c=o[3],p=e.allocData(new Int32Array([s,a,u,c]),n.type);return e.kernel("reorder_NHWC_to_NCHW")(s,a,u,c,n.offset,p.offset,i.bytesForDataType(p.type)),p;};},function(t,e,n){"use strict";var _r41,i=this&&this.__extends||(_r41=function r(t,e){return(_r41=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r41(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.ConvolutionDepthwiseVar=void 0;var u=n(2),c=function(t){function e(e,n,r,i,o,s,a,u,c,p,h,f){var d=t.call(this,e,n)||this;d.channels=o,d.kernels=s,d.dilations=a,d.strides=u,d.pads=c,d.padMode=p,d.group=h,d.weightData=n.allocData(new Int32Array([1,o[1],s[1],s[0]]),"float32",r),d.biasData=n.allocData(new Int32Array([o[1]]),"float32",i);var l=d.is3x3_d1x1_s1x1_p1x1()?"convdw3x3_s1x1":d.is3x3_d1x1_s2x2_p1x1()?"convdw3x3_s2x2":"convdw",b="relu"==f?"_relu":"relu6"==f?"_relu6":"";return d.kernel=d.runtime.kernel(l+b),d;}return i(e,t),e.prototype.is3x3_d1x1_s1x1_p1x1=function(){return 3==this.kernels[0]&&3==this.kernels[1]&&1==this.dilations[0]&&1==this.dilations[1]&&1==this.strides[0]&&1==this.strides[1]&&1==this.pads[0]&&1==this.pads[1];},e.prototype.is3x3_d1x1_s2x2_p1x1=function(){return 3==this.kernels[0]&&3==this.kernels[1]&&1==this.dilations[0]&&1==this.dilations[1]&&2==this.strides[0]&&2==this.strides[1]&&1==this.pads[0]&&1==this.pads[1];},e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.weightData&&(this.runtime.releaseData(this.weightData),delete this.weightData),this.biasData&&(this.runtime.releaseData(this.biasData),delete this.biasData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape,n=new u.VarShape(this.calcOutputShape(e.dims),e.format);if(u.VarShape.isEqual(this.shape,n))return!1;if(this.shape=n,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),"same"==this.padMode){var r=(this.kernels[0]-1)*this.dilations[0]+1,i=(this.kernels[1]-1)*this.dilations[1]+1,o=(n.dims[3]-1)*this.strides[0]+r-e.dims[3],s=(n.dims[2]-1)*this.strides[1]+i-e.dims[2];this.pads[0]=~~(o/2),this.pads[1]=~~(s/2);}return!0;},e.prototype.compute=function(){var t=this.inputVars[0],e=a(t.shape.dimsAsNCHW,4),n=e[1],r=e[2],i=e[3],o=a(this.shape.dimsAsNCHW,4),s=o[2],u=o[3],c=a(this.kernels,2),p=c[0],h=c[1],f=a(this.dilations,2),d=f[0],l=f[1],b=a(this.strides,2),_=b[0],y=b[1],m=a(this.pads,2),v=m[0],g=m[1];this.kernel(i,r,n,u,s,p,h,d,l,_,y,v,g,t.data.offset,this.weightData.offset,this.biasData.offset,this.data.offset);},e.prototype.calcOutputShape=function(t){var e=t[3],n=t[2],r=this.dilations[0]*(this.kernels[0]-1)+1,i=this.dilations[1]*(this.kernels[1]-1)+1,o=1,s=1;if((n<=0||e<=0)&&console.error("inputH <= 0 || inputW <= 0"),"same"==this.padMode)o=Math.ceil(e/this.strides[0]),s=Math.ceil(n/this.strides[1]);else if("valid"==this.padMode)o=Math.ceil((e-r+1)/this.strides[0]),s=Math.ceil((n-i+1)/this.strides[1]);else if("caffe"==this.padMode){var a=e+2*this.pads[0],u=n+2*this.pads[1];o=(a-r)/this.strides[0]+1,s=(u-i)/this.strides[1]+1;}else console.error("padmode error !!! ");return new Int32Array([t[0],t[1],s,o]);},e;}(u.WasmVar);e.ConvolutionDepthwiseVar=c;},function(t,e,n){"use strict";var _r42,i=this&&this.__extends||(_r42=function r(t,e){return(_r42=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r42(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.ConvolutionVar=void 0;var u=n(2),c=function(t){function e(e,n,r,i,o,s,a,u,c,p,h,f){var d=t.call(this,e,n)||this;d.channels=o,d.kernels=s,d.dilations=a,d.strides=u,d.pads=c,d.padMode=p,d.group=h,d.weightData=n.allocData(new Int32Array([o[0],o[1],s[1],s[0]]),"float32",r),d.biasData=n.allocData(new Int32Array([o[1]]),"float32",i),d.fastway=1==s[0]&&1==s[1]&&1==a[0]&&1==a[1]&&1==u[0]&&1==u[1]&&0==c[0]&&0==c[1];var l="relu"==f?"relu":"relu6"==f?"relu6":"none",b=(d.fastway?"conv1x1_":"conv_")+l;return d.kernel=d.runtime.kernel(b),d;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.weightData&&(this.runtime.releaseData(this.weightData),delete this.weightData),this.biasData&&(this.runtime.releaseData(this.biasData),delete this.biasData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape,n=new u.VarShape(this.calcOutputShape(e.dims),e.format);if(u.VarShape.isEqual(this.shape,n))return!1;if(this.shape=n,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),"same"==this.padMode){var r=(this.kernels[0]-1)*this.dilations[0]+1,i=(this.kernels[1]-1)*this.dilations[1]+1,o=(n.dims[3]-1)*this.strides[0]+r-e.dims[3],s=(n.dims[2]-1)*this.strides[1]+i-e.dims[2];this.pads[0]=~~(o/2),this.pads[1]=~~(s/2);}return!0;},e.prototype.compute=function(){var t=this.inputVars[0],e=a(t.shape.dimsAsNCHW,4),n=e[1],r=e[2],i=e[3],o=a(this.shape.dimsAsNCHW,4),s=o[1],u=o[2],c=o[3];if(this.fastway)this.kernel(i,r,n,s,t.data.offset,this.weightData.offset,this.biasData.offset,this.data.offset);else{var p=a(this.kernels,2),h=p[0],f=p[1],d=a(this.dilations,2),l=d[0],b=d[1],_=a(this.strides,2),y=_[0],m=_[1],v=a(this.pads,2),g=v[0],x=v[1];this.kernel(i,r,n,c,u,s,h,f,l,b,y,m,g,x,t.data.offset,this.weightData.offset,this.biasData.offset,this.data.offset);}},e.prototype.calcOutputShape=function(t){var e=t[3],n=t[2],r=this.dilations[0]*(this.kernels[0]-1)+1,i=this.dilations[1]*(this.kernels[1]-1)+1,o=1,s=1;if((n<=0||e<=0)&&console.error("input <= 0 || inputW <= 0"),"same"==this.padMode)o=Math.ceil(e/this.strides[0]),s=Math.ceil(n/this.strides[1]);else if("valid"==this.padMode)o=Math.ceil((e-r+1)/this.strides[0]),s=Math.ceil((n-i+1)/this.strides[1]);else if("caffe"==this.padMode){var a=e+2*this.pads[0],u=n+2*this.pads[1];o=(a-r)/this.strides[0]+1,s=(u-i)/this.strides[1]+1;}else console.log("padmode error !!! ");return new Int32Array([t[0],this.channels[1],s,o]);},e;}(u.WasmVar);e.ConvolutionVar=c;},function(t,e,n){"use strict";var _r43,i=this&&this.__extends||(_r43=function r(t,e){return(_r43=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r43(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.CropAndResizeVar=void 0;var s=n(2),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.extrapolation=r,o.method=i,o;}return i(e,t),e.prototype.resize=function(){if(4!=this.inputVars.length)return console.error("this.inputVars.length != 4"),!1;var t=o(this.inputVars,4),e=t[0],n=t[1],r=t[2],i=t[3];console.assert(1==i.shape.dimensions&&2==i.shape.dims[0]);var a=o(e.shape.dims,4),u=a[1],c=a[2],p=a[3];console.assert(u>0&&c>0);var h=0;h=0==n.shape.dims[0]&&0==r.shape.dims[0]?0:n.shape.dims[0];var f=o(i.data.typedArray(),2),d=f[0],l=f[1];console.assert(d>0&&l>0);var b=new s.VarShape([h,d,l,p],e.shape.format);return!s.VarShape.isEqual(this.shape,b)&&(this.shape=b,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,e.data.type),"bilinear"==this.method?this.kernel=this.runtime.kernel("cropAndResizeBilinear"):"nearest"==this.method?this.kernel=this.runtime.kernel("cropAndResizeNearest"):console.error(this.constructor.name+" unsupport method - "+this.method+"."),!0);},e.prototype.compute=function(){var t=o(this.inputVars,3),e=t[0],n=t[1],r=t[2],i=o(this.shape.dims,4),s=i[0],a=i[1],u=i[2],c=i[3],p=o(e.shape.dims,4),h=p[0],f=p[1],d=p[2],l=p[3];this.kernel(s,a,u,c,h,f,d,l,this.extrapolation,e.data.offset,n.data.offset,r.data.offset,this.data.offset);},e;}(s.WasmVar);e.CropAndResizeVar=a;},function(t,e,n){"use strict";var _r44,i=this&&this.__extends||(_r44=function r(t,e){return(_r44=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r44(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(a(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.InputVar=void 0;var c=n(2),p=n(5),h=n(6),f=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.dims=r,s.format=o,s;}return i(e,t),e.prototype.enumFormat=function(t){return"rgb"==t?1:"bgra"==t?2:"bgr"==t?3:0;},e.prototype.enumFilter=function(t){return"bilinear"==t?1:0;},e.prototype.enumWrap=function(t){return"zero"==t?1:0;},e.prototype.preprocess=function(t,e,n){e.format!=this.format&&(n=e.isNCHW()?h.reorderNCHWToNHWC(e.dims,n):h.reorderNHWCToNCHW(e.dims,n),e=e.asFormat(this.format)),n instanceof Float32Array||(n=new Float32Array(n));var r=this.dims?new c.VarShape(this.dims,this.format).dimsAsNCHW:void 0,i=e.dimsAsNCHW,o=a(r?r.map(function(t,e){return t<0?i[e]:t;}):i,4),s=o[0],f=o[1],d=o[2],l=o[3];if(t.cropAndResize){var b=a(t.cropAndResize,2),_=a(b[1],4),y=_[0],m=_[1],v=_[2],g=_[3];(!r||r[2]<0)&&(d=Math.max(0,m)+g),(!r||r[3]<0)&&(l=Math.max(0,y)+v);}else if(t.matrix)throw"preprocess with matrix is not supported yet";t.sourceFormat&&t.destFormat&&(f=t.destFormat.length),this.shape=new c.VarShape([s,f,d,l],"NCHW").asFormat(this.format);var x=this.runtime.allocData(e,p.typedArrayGetType(n),n),T=t.means?this.runtime.allocData(new Int32Array([t.means.length]),"float32",new Float32Array(t.means)):void 0,w=t.norms?this.runtime.allocData(new Int32Array([t.norms.length]),"float32",new Float32Array(t.norms)):void 0,S=t.cropAndResize?u(t.cropAndResize[0],t.cropAndResize[1]):void 0,I=S&&8==S.length?this.runtime.allocData(new Int32Array([8]),"float32",new Float32Array(S)):void 0;this.setContentIsDirty(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,"float32");var O=this.runtime.kernel(this.shape.isNCHW()?"preprocess_NCHW":"preprocess_NHWC"),N=a(e.dimsAsNCHW,4),A=N[1],P=N[2],D=N[3],V=a(this.shape.dimsAsNCHW,4),F=V[1],E=V[2],R=V[3],M=this.enumFormat(t.sourceFormat),C=this.enumFormat(t.destFormat),L=this.enumFilter(t.filterType),z=this.enumWrap(t.wrapType);O(A,P,D,M,x.offset,F,E,R,C,this.data.offset,z,I?I.offset:0,L,T?T.size:0,T?T.offset:0,w?w.size:0,w?w.offset:0),this.runtime.releaseData(I),this.runtime.releaseData(w),this.runtime.releaseData(T),this.runtime.releaseData(x);},e.prototype.fill=function(t,e){var n=p.typedArrayGetType(e);c.VarShape.isEqual(this.shape,t)&&this.data&&this.data.type==n?this.setContentIsDirty():(this.shape=t.asFormat(this.format),this.setShapeIsDirty()),this.runtime.releaseData(this.data),t.format==this.shape.format||4!=t.dimensions?this.data=this.runtime.allocData(this.shape,n,e):t.isNCHW()?this.data=this.runtime.allocData(this.shape,n,h.reorderNCHWToNHWC(t.dims,e)):this.data=this.runtime.allocData(this.shape,n,h.reorderNHWCToNCHW(t.dims,e));},e.prototype.setData=function(t,e,n,r,i){return o(this,void 0,void 0,function(){var o,a;return s(this,function(s){return o=new c.VarShape(n,r),a=p.typedArrayWithData(e,t),i?this.preprocess(i,o,a):this.fill(o,a),[2];});});},e;}(c.WasmVar);e.InputVar=f;},function(t,e,n){"use strict";var _r45,i=this&&this.__extends||(_r45=function r(t,e){return(_r45=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r45(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.InterpVar=void 0;var s,a=n(2);!function(t){t[t.Nearest=1]="Nearest",t[t.Bilinear=2]="Bilinear",t[t.Cubic=3]="Cubic";}(s||(s={}));var u=function(t){function e(e,n,r,i,o,s,a,u){var c=t.call(this,e,n)||this;return c.widthScale=r,c.heightScale=i,c.outputWidth=o,c.outputHeight=s,c.resizeType=a,c.alignCorners=u,c;}return i(e,t),e.prototype.resize=function(){var t,e,n,r=this.inputVars[0],i=o(r.shape.dimsAsNCHW,4),u=i[0],c=i[1],p=i[2],h=i[3];if(1==this.inputVars.length)e=0==this.outputHeight?p*this.heightScale:this.outputHeight,n=0==this.outputWidth?h*this.widthScale:this.outputWidth;else{var f=this.inputVars[1];console.assert(2==f.shape.dims[0]),e=(t=o(f.download(),2))[0],n=t[1];}var d=new a.VarShape([u,c,e,n],"NCHW");return!a.VarShape.isEqual(this.shape,d)&&(this.shape=d,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,r.data.type),this.resizeType==s.Nearest?this.kernel=this.runtime.kernel("interp_nearest"):this.resizeType==s.Bilinear?this.kernel=this.runtime.kernel("interp_bilinear"):this.kernel=this.runtime.kernel("interp_cubic"),!0);},e.prototype.compute=function(){var t,e,n=this.inputVars[0],r=o(n.shape.dims,4),i=r[0],s=r[1],a=r[2],u=r[3],c=o(this.shape.dims,4),p=c[2],h=c[3];this.alignCorners?(t=(u-1)/(h-1),e=(a-1)/(p-1)):(t=u/h,e=a/p),this.kernel(i,s,a,u,p,h,e,t,this.inputVars[0].data.offset,this.data.offset);},e;}(a.WasmVar);e.InterpVar=u;},function(t,e,n){"use strict";var _r46,i=this&&this.__extends||(_r46=function r(t,e){return(_r46=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r46(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.MatMulVar=void 0;var s=n(2),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.transposeA=r,o.transposeB=i,o;}return i(e,t),e.prototype.resize=function(){var t,e,n=o(this.inputVars,2),r=n[0],i=n[1];console.assert(2==r.shape.dimensions),console.assert(2==i.shape.dimensions);var a=r.shape.dims[0],u=r.shape.dims[1];this.transposeA&&(u=(t=o([a,u],2))[0],a=t[1]);var c=i.shape.dims[0],p=i.shape.dims[1];this.transposeB&&(p=(e=o([c,p],2))[0],c=e[1]),console.assert(u==c),this.M=a,this.N=p,this.K=u;var h=new s.VarShape(new Int32Array([a,p]),r.shape.format);if(s.VarShape.isEqual(this.shape,h))return!1;if(this.shape=h,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,r.data.type),0!=this.transposeA||0!=this.transposeB)throw"unsupported matmul transpose";return this.kernel=this.runtime.kernel("matmul_false_false"),!0;},e.prototype.compute=function(){var t=this.inputVars[0],e=this.inputVars[1];this.kernel(this.M,this.N,this.K,t.data.offset,e.data.offset,this.data.offset);},e;}(s.WasmVar);e.MatMulVar=a;},function(t,e,n){"use strict";var _r47,i=this&&this.__extends||(_r47=function r(t,e){return(_r47=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r47(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.PaddingVar=void 0;var u=n(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.shapeData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t=this.inputVars[0];2!=this.inputVars.length&&4!=t.shape.dimensions&&console.error("2 != this.inputVars.length && input.shape!.dimensions != 4");var e=this.inputVars[1].data.typedArray(),n=t.shape.copy();e.length<2*n.dimensions&&console.error("Padding blob size not match output's dimension");for(var r=0;r<n.dimensions;++r){n.dims[r]=n.dims[r]+e[2*r]+e[2*r+1];}return!u.VarShape.isEqual(this.shape,n)&&(this.shape=n,this.runtime.releaseData(this.shapeData),this.shapeData=this.runtime.allocData(new Int32Array([t.shape.dims.length]),"int32",t.shape.dims),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,"float32"),this.kernel=this.runtime.kernel("padding"),console.assert(this.shape.dimensions<=4,"unsupported padding with dimensions > 4"),!0);},e.prototype.compute=function(){var t=a(this.inputVars,2),e=t[0],n=t[1];this.kernel(this.shape.dims.length,this.shapeData.offset,e.data.offset,n.data.offset,this.data.offset);},e;}(u.WasmVar);e.PaddingVar=c;},function(t,e,n){"use strict";var _r48,i=this&&this.__extends||(_r48=function r(t,e){return(_r48=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r48(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.PoolingVar=void 0;var s=n(2),a=n(4),u=function(t){function e(e,n,r,i,o,s,a,u,c){var p=t.call(this,e,n)||this;return p.kernelShape=i,p.strideShape=o,p.padType=s,p.padShape=a,p.ceilModel=u,p.isGlobal=c,"average"==r?p.kernel=p.runtime.kernel("pool_avg"):"max"==r&&(p.kernel=p.runtime.kernel("pool_max")),p;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0].shape,e=new s.VarShape(this.calcOutputShape(t.dims),t.format);return!s.VarShape.isEqual(this.shape,e)&&(this.shape=e,this.data=this.runtime.allocData(this.shape,"float32"),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=o(t.shape.dimsAsNCHW,4),n=e[1],r=e[2],i=e[3],s=o(this.shape.dimsAsNCHW,4),a=s[2],u=s[3],c=o(this.kernelShape,2),p=c[0],h=c[1],f=o(this.strideShape,2),d=f[0],l=f[1],b=o(this.padShape,2),_=b[0],y=b[1];this.kernel(i,r,n,u,a,p,h,d,l,_,y,t.data.offset,this.data.offset);},e.prototype.calcOutputShape=function(t){var e=1,n=1;"valid"!=this.padType&&"same"!=this.padType||0==this.padShape[1]&&0==this.padShape[0]||console.log("tensorflow mode pool should not have explict pad value\n");var r=t[3],i=t[2];return this.padShape[0]>0&&(r+=2*this.padShape[0]),this.padShape[1]>0&&(i+=2*this.padShape[1]),this.isGlobal&&(this.kernelShape[1]=t[3],this.kernelShape[0]=t[2],this.strideShape[1]=t[3],this.strideShape[0]=t[2],this.padShape[1]=0,this.padShape[0]=0),"same"==this.padType?(e=Math.ceil(r/this.strideShape[0]),n=Math.ceil(i/this.strideShape[1])):"valid"==this.padType?(e=Math.ceil((r-this.kernelShape[0]+1)/this.strideShape[0]),n=Math.ceil((i-this.kernelShape[1]+1)/this.strideShape[1])):this.ceilModel?(e=a.upDiv(r-this.kernelShape[0],this.strideShape[0])+1,n=a.upDiv(i-this.kernelShape[1],this.strideShape[1])+1):(e=Math.floor((r-this.kernelShape[0])/this.strideShape[0]+1),n=Math.floor((i-this.kernelShape[1])/this.strideShape[1]+1)),new Int32Array([t[0],t[1],n,e]);},e;}(s.WasmVar);e.PoolingVar=u;},function(t,e,n){"use strict";var _r49,i=this&&this.__extends||(_r49=function r(t,e){return(_r49=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r49(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.PReluVar=void 0;var u=n(2),c=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.slopes=r,i.slopeData=n.allocData(new Int32Array([r.length]),"float32",r),i;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.slopeData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape;return!u.VarShape.isEqual(this.shape,e)&&(this.shape=e.copy(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),this.kernel=this.runtime.kernel("prelu"),!0);},e.prototype.compute=function(){var t=a(this.inputVars[0].shape.dims,4),e=t[0],n=t[1],r=t[2],i=t[3];this.kernel(this.inputVars[0].data.offset,e,n,r*i,this.slopeData.offset,this.slopes.length,this.data.offset);},e;}(u.WasmVar);e.PReluVar=c;},function(t,e,n){"use strict";var _r50,i=this&&this.__extends||(_r50=function r(t,e){return(_r50=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r50(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ReductionVar=void 0;var o=n(2),s=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;switch(s.dimArray=i,s.keepDims=o,r){case"prod":s.kernel=s.runtime.kernel("reduce_prod");break;case"sum":s.kernel=s.runtime.kernel("reduce_sum");break;case"mean":s.kernel=s.runtime.kernel("reduce_mean");break;case"max":s.kernel=s.runtime.kernel("reduce_max");break;default:console.assert(!1,"unsupported reduction type: "+r);}return s;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=(this.dimArray?this.dimArray:new Int32Array(this.inputVars[1].download())).map(function(e){return e<0?e+t.shape.dimensions:e;});e=e.length>1?e.sort():e;for(var n=0;n<e.length-1;n++){if(e[n+1]-e[n]!=1)throw"unsupported reduction axes: "+e;}0==e.length&&(e=t.shape.dims.map(function(t,e){return e;}));var r,i=Array.prototype.slice.call(t.shape.dims);r=this.keepDims?i.map(function(t,n){return e.includes(n)?1:t;}):i.filter(function(t,n){return!e.includes(n);});var s=new o.VarShape(r,t.shape.format);return!o.VarShape.isEqual(this.shape,s)&&(this.shape=s,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=(this.dimArray?this.dimArray:new Int32Array(this.inputVars[1].download())).map(function(e){return e<0?e+t.shape.dimensions:e;});0==(e=e.length>1?e.sort():e).length&&(e=t.shape.dims.map(function(t,e){return e;}));var n=t.shape.size(0,e[0]),r=t.shape.size(e[0],e[e.length-1]+1),i=t.shape.size(e[e.length-1]+1);this.kernel(t.data.offset,this.data.offset,n,r,i);},e;}(o.WasmVar);e.ReductionVar=s;},function(t,e,n){"use strict";var _r51,i=this&&this.__extends||(_r51=function r(t,e){return(_r51=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r51(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ReluVar=void 0;var o=n(2),s=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.slope=r,i;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape;return!o.VarShape.isEqual(this.shape,e)&&(this.shape=e.copy(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),this.kernel=this.runtime.kernel("relu"),!0);},e.prototype.compute=function(){var t=this.inputVars[0].shape.size();this.kernel(this.inputVars[0].data.offset,t,this.data.offset);},e;}(o.WasmVar);e.ReluVar=s;},function(t,e,n){"use strict";var _r52,i=this&&this.__extends||(_r52=function r(t,e){return(_r52=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r52(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ScatterNdVar=void 0;var o=n(2),s=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){var t,e,n=this.inputVars[0],r=this.inputVars[1],i=this.inputVars[2].shape;console.assert((null===(t=n.shape)||void 0===t?void 0:t.dims[0])===(null===(e=r.shape)||void 0===e?void 0:e.dims[0]));var s=Array.prototype.slice.call(i.dims,0),a=new Int32Array(s),u=new o.VarShape(a,i.format);return!o.VarShape.isEqual(this.shape,u)&&(this.shape=u,this.runtime.releaseData(this.data),this.runtime.releaseData(this.shapeDims),this.data=this.runtime.allocData(this.shape,r.data.type),this.shapeDims=this.runtime.allocData(i,"int32",a),this.kernel=this.runtime.kernel("scatter_nd"),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=this.inputVars[1],n=t.shape.dims[0],r=t.shape.dims.length,i=this.shape.dims.length;this.kernel(n,r,i,this.shapeDims.offset,t.data.offset,e.data.offset,this.data.offset);},e;}(o.WasmVar);e.ScatterNdVar=s;},function(t,e,n){"use strict";var _r53,i=this&&this.__extends||(_r53=function r(t,e){return(_r53=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r53(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.SigmoidVar=void 0;var o=n(2),s=function(t){function e(e,n){return t.call(this,e,n)||this;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape;return!o.VarShape.isEqual(this.shape,e)&&(this.shape=e.copy(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),this.kernel=this.runtime.kernel("sigmoid"),!0);},e.prototype.compute=function(){var t=this.inputVars[0].shape.size();this.kernel(this.inputVars[0].data.offset,t,this.data.offset);},e;}(o.WasmVar);e.SigmoidVar=s;},function(t,e,n){"use strict";var _r54,i=this&&this.__extends||(_r54=function r(t,e){return(_r54=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r54(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.SliceTfVar=void 0;var u=n(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.shapeData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){console.assert(3==this.inputVars.length);var t=a(this.inputVars,3),e=t[0],n=t[1],r=t[2],i=e.shape.dims;console.assert(1==n.shape.dimensions&&1==r.shape.dimensions&&i.length>=1&&i.length==r.shape.dims[0]&&i.length==n.shape.dims[0]);var o,s=n.data.typedArray(),c=r.data.typedArray().map(function(t,e){return-1==t?i[e]-s[e]:t;});return o=c.some(function(t){return t<=0;})?new u.VarShape([],e.shape.format):new u.VarShape(new Int32Array(c),e.shape.format),!u.VarShape.isEqual(this.shape,o)&&(this.shape=o,this.runtime.releaseData(this.shapeData),this.shapeData=this.runtime.allocData(new Int32Array([e.shape.dims.length]),"int32",e.shape.dims),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,e.data.type),this.kernel=this.runtime.kernel("sliceTf"),!0);},e.prototype.compute=function(){var t=a(this.inputVars,3),e=t[0],n=t[1],r=t[2];this.kernel(e.shape.dims.length,this.shapeData.offset,e.data.offset,n.data.offset,r.data.offset,this.data.offset);},e;}(u.WasmVar);e.SliceTfVar=c;},function(t,e,n){"use strict";var _r55,i=this&&this.__extends||(_r55=function r(t,e){return(_r55=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r55(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.SliceVar=void 0;var o=n(2),s=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.axis=r,s.slices=i,s.index=o,s;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape.copy(),n=this.axis<0?e.dimensions+this.axis:this.axis,r=0;if(1==this.slices.length){var i=this.slices[0];console.assert(e.dims[n]%i==0),e.dims[n]/=i,r=this.index*e.dims[n];}else{var s=this.slices.slice(),a=s.findIndex(function(t){return-1==t;});a&&(s[a]=e.dims[a]-s.reduce(function(t,e){return t+e;})-1),e.dims[n]=s[this.index],r=0==this.index?0:s.slice(0,this.index).reduce(function(t,e){return t+e;});}return this.start=r,!o.VarShape.isEqual(this.shape,e)&&(this.shape=e,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),this.kernel=this.runtime.kernel("slice"),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=this.axis<0?t.shape.dims.length+this.axis:this.axis,n=t.shape.size(0,e),r=this.shape.dims[e],i=t.shape.dims[e],o=e<t.shape.dims.length-1?t.shape.size(e+1):1;this.kernel(n,r,i,o,this.start,t.data.offset,this.data.offset);},e;}(o.WasmVar);e.SliceVar=s;},function(t,e,n){"use strict";var _r56,i=this&&this.__extends||(_r56=function r(t,e){return(_r56=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r56(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.SoftmaxVar=void 0;var a=n(2),u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.axis=r,i.kernel=i.runtime.kernel("softmax"),i;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.tempData&&(this.runtime.releaseData(this.tempData),delete this.tempData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){var t=this.inputVars[0].shape;if(a.VarShape.isEqual(this.shape,t))return!1;this.shape=t.copy(),this.data=this.runtime.allocData(this.shape,"float32");var e=this.axis<0?this.shape.dimensions+this.axis:this.axis,n=this.shape.size(e+1);return this.runtime.releaseData(this.tempData),this.tempData=this.runtime.allocData(new Int32Array([n]),"float32"),!0;},e.prototype.compute=function(){var t=this.axis<0?this.shape.dimensions+this.axis:this.axis,e=this.shape.size(0,t),n=this.shape.dims[t],r=this.shape.size(t+1),i=this.inputVars[0];this.kernel(i.data.offset,this.data.offset,this.tempData.offset,r,e,n);},e;}(a.WasmVar);e.SoftmaxVar=u;},function(t,e,n){"use strict";var _r57,i=this&&this.__extends||(_r57=function r(t,e){return(_r57=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r57(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.SqueezeVar=void 0;var o=n(2),s=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.dimArray=r,i;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape,n=[];if(this.dimArray&&0!=this.dimArray.length)for(r=0;r<this.dimArray.length;r++){n.push(this.dimArray[r]);}else for(var r=0;r<e.dimensions;++r){1==e.dims[r]&&n.push(r);}var i=n.length;console.assert(i<e.dimensions);var s=new Int32Array(e.dimensions-i),a=0,u=function u(t){null==n.find(function(e){return e==t;})&&(s[a]=e.dims[t],a++);};for(r=0;r<e.dimensions;r++){u(r);}var c=new o.VarShape(s,e.format);return!o.VarShape.isEqual(this.shape,c)&&(this.shape=c,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),!0);},e.prototype.compute=function(){var t=this.inputVars[0];this.data.typedArray().set(t.data.typedArray());},e;}(o.WasmVar);e.SqueezeVar=s;},function(t,e,n){"use strict";var _r58,i=this&&this.__extends||(_r58=function r(t,e){return(_r58=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r58(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}},a=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.TileVar=void 0;var u=n(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.shapeData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){console.assert(2==this.inputVars.length);var t=a(this.inputVars,2),e=t[0],n=t[1],r=(e.shape.dimensions,n.data.typedArray()),i=e.shape.dims.map(function(t,e){return t*r[e];}),o=new u.VarShape(i,e.shape.format);return!u.VarShape.isEqual(this.shape,o)&&(this.shape=o,this.runtime.releaseData(this.shapeData),this.shapeData=this.runtime.allocData(new Int32Array([e.shape.dims.length]),"int32",e.shape.dims),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,e.data.type),this.kernel=this.runtime.kernel("tile"),console.assert(this.shape.dimensions<=4,"unsupported tiling with dimensions > 4"),!0);},e.prototype.compute=function(){var t=a(this.inputVars,2),e=t[0],n=t[1];this.kernel(this.shape.dims.length,this.shapeData.offset,e.data.offset,n.data.offset,this.data.offset);},e;}(u.WasmVar);e.TileVar=c;},function(t,e,n){"use strict";var _r59,i=this&&this.__extends||(_r59=function r(t,e){return(_r59=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r59(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=_promise2.default))(function(i,o){function s(t){try{u(r.next(t));}catch(t){o(t);}}function a(t){try{u(r.throw(t));}catch(t){o(t);}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e);})).then(s,a);}u((r=r.apply(t,e||[])).next());});},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof _symbol2.default&&(o[_iterator2.default]=function(){return this;}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;){try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue;}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break;}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s);}catch(t){o=[6,t],r=0;}finally{n=i=0;}}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0};}([o,a]);};}};Object.defineProperty(e,"__esModule",{value:!0}),e.TransposeVar=void 0;var a=n(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.release=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.runtime.releaseData(this.shapeData),this.runtime.releaseData(this.permData),t.prototype.release.call(this),[2];});});},e.prototype.resize=function(){for(var t=this.inputVars[0],e=this.inputVars[1].data.typedArray(),n=t.shape,r=n.copy(),i=0;i<r.dimensions;++i){var o=e[i];r.dims[i]=n.dims[o];}return!a.VarShape.isEqual(this.shape,r)&&(this.shape=r,this.runtime.releaseData(this.shapeData),this.shapeData=this.runtime.allocData(new Int32Array([t.shape.dims.length]),"int32",t.shape.dims),this.runtime.releaseData(this.permData),this.permData=this.runtime.allocData(this.inputVars[1].shape,"int32",new Int32Array(e)),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),this.kernel=this.runtime.kernel("transpose"),console.assert(this.shape.dimensions<=4,"unsupported transpose with dimensions > 4"),!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=(this.inputVars[1],t.shape.dims.length);this.kernel(e,this.shapeData.offset,this.permData.offset,t.data.offset,this.data.offset);},e;}(a.WasmVar);e.TransposeVar=u;},function(t,e,n){"use strict";var _r60,i=this&&this.__extends||(_r60=function r(t,e){return(_r60=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r60(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.UnaryVar=void 0;var o=n(2),s=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.unaryType=r,i;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape;return!o.VarShape.isEqual(this.shape,e)&&(this.shape=e.copy(),this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),"rsqrt"==this.unaryType?this.kernel=this.runtime.kernel("unary_rsqrt"):"sqrt"==this.unaryType?this.kernel=this.runtime.kernel("unary_sqrt"):"exp"==this.unaryType?this.kernel=this.runtime.kernel("unary_exp"):"round"==this.unaryType?this.kernel=this.runtime.kernel("unary_round"):"log"==this.unaryType?this.kernel=this.runtime.kernel("unary_log"):"floor"==this.unaryType?this.kernel=this.runtime.kernel("unary_floor"):console.error(" not support this unaryType : "+this.unaryType+"!!! "),!0);},e.prototype.compute=function(){var t=this.inputVars[0].shape.size();this.kernel(this.inputVars[0].data.offset,t,this.data.offset);},e;}(o.WasmVar);e.UnaryVar=s;},function(t,e,n){"use strict";var _r61,i=this&&this.__extends||(_r61=function r(t,e){return(_r61=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r61(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(o(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.UnsqueezeVar=void 0;var a=n(2),u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.dimArray=r,i;}return i(e,t),e.prototype.resize=function(){for(var t=this.inputVars[0],e=t.shape,n=this.dimArray?s(this.dimArray):[],r=new Int32Array(e.dimensions+n.length),i=0,o=0;o<r.length;o++){n.includes(o)?r[o]=1:r[o]=e.dims[i++];}var u=new a.VarShape(r,e.format);return!a.VarShape.isEqual(this.shape,u)&&(this.shape=u,this.runtime.releaseData(this.data),this.data=this.runtime.allocData(this.shape,t.data.type),!0);},e.prototype.compute=function(){var t=this.inputVars[0];this.data.typedArray().set(t.data.typedArray());},e;}(a.WasmVar);e.UnsqueezeVar=u;},function(t,e,n){"use strict";var _r62,i=this&&this.__extends||(_r62=function r(t,e){return(_r62=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r62(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.JSBuilder=void 0;var o=n(9),s=n(81),a=n(82),u=n(83),c=n(84),p=n(85),h=n(86),f=n(87),d=n(88),l=n(89),b=n(90),_=n(91),y=n(92),m=n(93),v=n(94),g=n(95),x=n(96),T=n(97),w=n(98),S=n(99),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.create=function(){return new e();},e.prototype.supportedOperators=function(){var t=[];for(var e in this){e.startsWith("build")&&t.push(e.substr(5));}return t;},e.prototype.buildBinaryOp=function(t,e,n,r){this._variables[e[0]]=new s.BinaryVar(n[0],r);},e.prototype.buildCast=function(t,e,n,r,i){this._variables[e[0]]=new a.CastVar(n[0],r,i);},e.prototype.buildConcat=function(t,e,n,r){this._variables[e[0]]=new u.ConcatVar(n[0],r);},e.prototype.buildConst=function(t,e,n,r,i,o,s){this._variables[e[0]]=new c.ConstVar(n[0],r,i,o,s.slice().buffer);},e.prototype.buildEltwise=function(t,e,n,r){this._variables[e[0]]=new s.BinaryVar(n[0],r);},e.prototype.buildExpandDims=function(t,e,n,r){this._variables[e[0]]=new p.ExpandDimsVar(n[0],r);},e.prototype.buildFill=function(t,e,n){this._variables[e[0]]=new h.FillVar(n[0]);},e.prototype.buildGatherV2=function(t,e,n){this._variables[e[0]]=new f.GatherV2Var(n[0]);},e.prototype.buildNonMaxSuppressionV2=function(t,e,n){this._variables[e[0]]=new d.NonMaxSuppressionV2Var(n[0]);},e.prototype.buildPack=function(t,e,n,r){this._variables[e[0]]=new l.PackVar(n[0],r);},e.prototype.buildRange=function(t,e,n){this._variables[e[0]]=new b.RangeVar(n[0]);},e.prototype.buildRank=function(t,e,n){this._variables[e[0]]=new _.RankVar(n[0]);},e.prototype.buildReduction=function(t,e,n,r,i,o){this._variables[e[0]]=new y.ReductionVar(n[0],r,i,o);},e.prototype.buildReshape=function(t,e,n,r,i){this._variables[e[0]]=new m.ReshapeVar(n[0],r,i);},e.prototype.buildSelect=function(t,e,n){this._variables[e[0]]=new v.SelectVar(n[0]);},e.prototype.buildShape=function(t,e,n,r){this._variables[e[0]]=new g.ShapeVar(n[0],r);},e.prototype.buildSliceTf=function(t,e,n){this._variables[e[0]]=new x.SliceTfVar(n[0]);},e.prototype.buildStridedSlice=function(t,e,n,r,i,o,s,a,u){this._variables[e[0]]=new T.StridedSliceVar(n[0],r,i,o,s,a,u);},e.prototype.buildTopKV2=function(t,e,n){var r=new w.TopKV2Atom();this._variables[e[0]]=new w.TopKV2Var(n[0],r),this._variables[e[1]]=new w.TopKV2IndicesVar(n[1],r);},e.prototype.buildWhere=function(t,e,n){this._variables[e[0]]=new S.WhereVar(n[0]);},e;}(o.OnboardBuilder);e.JSBuilder=I;},function(t,e,n){"use strict";var _r63,i=this&&this.__extends||(_r63=function r(t,e){return(_r63=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r63(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVar=void 0;var s=n(3),a=function(t){function e(e,n){var r=t.call(this,e)||this;switch(r.type=n,n){case"add":r.func=function(t,e){return t+e;};break;case"sub":r.func=function(t,e){return t-e;};break;case"mul":r.func=function(t,e){return t*e;};break;case"real_div":r.func=function(t,e){return t/e;};break;case"max":r.func=function(t,e){return t>e?t:e;};break;case"min":r.func=function(t,e){return t<e?t:e;};break;case"sum":r.func=function(t,e){return t+e;};break;case"prod":r.func=function(t,e){return t*e;};break;case"less":r.func=function(t,e){return Number(t<e);},r.T=Uint8Array;break;case"greater":r.func=function(t,e){return Number(t>e);},r.T=Uint8Array;break;case"greater_equal":r.func=function(t,e){return Number(t>=e);},r.T=Uint8Array;break;default:throw"unsupported binary type: "+n;}return r;}return i(e,t),e.prototype.resize=function(){var t,e=this.inputVars[0],n=this.inputVars[1],r=e.shape.dims,i=n.shape.dims,o=e.shape.size(),a=n.shape.size();if(1==o)this.algo="eltwise",t=n.shape.copy();else if(1==a)this.algo="eltwise",t=e.shape.copy();else if(e.shape.dimensions!=n.shape.dimensions||r.some(function(t,e){return t!=i[e];})){this.algo="broadcast";for(var u=e.shape.dimensions>n.shape.dimensions?e:n,c=e==u?n:e,p=u.shape.dimensions-c.shape.dimensions,h=u.shape.dims.slice(),f=p;f<u.shape.dimensions;f++){var d=f-p,l=c.shape.dims[d];if(l==h[f]);else{if(1!=l&&1!=h[f])throw"unsupport broadcast binary";h[f]=l*h[f];}}t=new s.VarShape(h,e.shape.format);}else this.algo="eltwise",t=e.shape.copy();return!s.VarShape.isEqual(this.shape,t)&&(this.shape=t.copy(),!0);},e.prototype.compute=function(){"eltwise"==this.algo?this.computeEltwise():this.computeBroadcast();},e.prototype.computeEltwise=function(){var t=this.inputVars[0],e=this.inputVars[1],n=t.shape.size(),r=e.shape.size(),i=t.download(),o=e.download(),s=new(0,i.constructor)(this.shape.size());if(1==n)for(var a=0;a<r;a++){s[a]=this.func(i[0],o[a]);}else if(1==r)for(a=0;a<n;a++){s[a]=this.func(i[a],o[0]);}else for(a=0;a<n;a++){s[a]=this.func(i[a],o[a]);}this.data=s;},e.prototype.expandDims=function(t,e){var n,r;t.length>e.length?(n=t,r=e):t.length<e.length?(n=e,r=t):t.reduce(function(t,e){return t+e;})>e.reduce(function(t,e){return t+e;})?(n=t,r=e):(n=e,r=t);for(var i=new Int32Array(n.length),o=0,s=0;o<i.length;o++){n[o]==r[s]||1==r[s]?i[o]=r[s++]:i[o]=1;}return n==t?[t,i]:[i,e];},e.prototype.computeBroadcast=function(){var t=this.inputVars[0],e=this.inputVars[1],n=t.download(),r=e.download(),i=o(this.expandDims(t.shape.dims,e.shape.dims),2),s=i[0],a=i[1],u=new(0,n.constructor)(this.shape.size());if(4==this.shape.dimensions)for(var c=o(this.shape.dims,4),p=c[0],h=c[1],f=c[2],d=c[3],l=o(s,4),b=l[0],_=l[1],y=l[2],m=l[3],v=o(a,4),g=v[0],x=v[1],T=v[2],w=v[3],S=0,I=0;I<p;I++){for(var O=0;O<h;O++){for(var N=0;N<f;N++){for(var A=0;A<d;A++){var P=n[(b==p?I:0)*_*y*m+(_==h?O:0)*y*m+(y==f?N:0)*m+(m==d?A:0)],D=r[(g==p?I:0)*x*T*w+(x==h?O:0)*T*w+(T==f?N:0)*w+(w==d?A:0)];u[S++]=this.func(P,D);}}}}else if(3==this.shape.dimensions){var V=o(this.shape.dims,3),F=(h=V[0],f=V[1],d=V[2],o(s,3)),E=(_=F[0],y=F[1],m=F[2],o(a,3));for(x=E[0],T=E[1],w=E[2],S=0,O=0;O<h;O++){for(N=0;N<f;N++){for(A=0;A<d;A++){P=n[(_==h?O:0)*y*m+(y==f?N:0)*m+(m==d?A:0)],D=r[(x==h?O:0)*T*w+(T==f?N:0)*w+(w==d?A:0)];u[S++]=this.func(P,D);}}}}else if(2==this.shape.dimensions){var R=o(this.shape.dims,2),M=(f=R[0],d=R[1],o(s,2)),C=(y=M[0],m=M[1],o(a,2));for(T=C[0],w=C[1],S=0,N=0;N<f;N++){for(A=0;A<d;A++){P=n[(y==f?N:0)*m+(m==d?A:0)],D=r[(T==f?N:0)*w+(w==d?A:0)];u[S++]=this.func(P,D);}}}else{if(1!=this.shape.dimensions&&0!=this.shape.dimensions)throw"unsupport binary broadcast: "+t.shape.dims+" - "+e.shape.dims;for(d=o(this.shape.dims,1)[0],m=o(s,1)[0],w=o(a,1)[0],S=0,A=0;A<d;A++){P=n[m==d?A:0],D=r[w==d?A:0];u[S++]=this.func(P,D);}}this.data=u;},e;}(s.JSVar);e.BinaryVar=a;},function(t,e,n){"use strict";var _r64,i=this&&this.__extends||(_r64=function r(t,e){return(_r64=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r64(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.CastVar=void 0;var o=n(3),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destType=r,i;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0];return!o.VarShape.isEqual(this.shape,t.shape)&&(this.shape=t.shape.copy(),!0);},e.prototype.compute=function(){var t=this.inputVars[0].download();switch(this.destType){case 1:this.data=new Float32Array(t);break;case 3:this.data=new Int32Array(t);break;case 6:this.data=new Int8Array(t);break;case 4:this.data=new Uint8Array(t);break;default:throw"invalid data type: "+this.destType;}},e;}(o.JSVar);e.CastVar=s;},function(t,e,n){"use strict";var _r65,i=this&&this.__extends||(_r65=function r(t,e){return(_r65=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r65(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__values||function(t){var e="function"==typeof _symbol2.default&&_iterator2.default,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(e,"__esModule",{value:!0}),e.ConcatVar=void 0;var s=n(3),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.axis=n,r;}return i(e,t),e.prototype.resize=function(){var t,e,n=this.inputVars[0],r=this.axis<0?this.axis+n.shape.dimensions:this.axis,i=n.shape.copy(),a=0;try{for(var u=o(this.inputVars),c=u.next();!c.done;c=u.next()){var p=c.value;p.shape.dimensions>0&&(a+=p.shape.dims[r]);}}catch(e){t={error:e};}finally{try{c&&!c.done&&(e=u.return)&&e.call(u);}finally{if(t)throw t.error;}}return i.dims[r]=a,!s.VarShape.isEqual(this.shape,i)&&(this.shape=i,!0);},e.prototype.compute=function(){var t=this.shape.dims,e=this.axis;e<0&&(e+=t.length);for(var n=this.shape.size(0,e),r=t[e],i=this.shape.size(e+1),o=new Float32Array(n*r*i),s=this.inputVars.filter(function(t){return t.shape.dimensions>0;}),a=s.length,u=s.map(function(t){return t.download();}),c=0;c<n;c++){for(var p=0,h=0;h<a;h++){var f=s[h].shape.dims[e],d=u[h],l=f*i,b=c*l,_=b+l,y=(c*r+p)*i;o.set(d.slice(b,_),y),p+=f;}}this.data=o;},e;}(s.JSVar);e.ConcatVar=a;},function(t,e,n){"use strict";var _r66,i=this&&this.__extends||(_r66=function r(t,e){return(_r66=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r66(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ConstVar=void 0;var o=n(3),s=n(5),a=function(t){function e(e,n,r,i,a){var u=t.call(this,e)||this;return u.shape=new o.VarShape(i||[],r),u.setShapeIsConst(),u.setContentIsConst(),u.data=s.typedArrayWithData(n,a),u;}return i(e,t),e;}(o.JSVar);e.ConstVar=a;},function(t,e,n){"use strict";var _r67,i=this&&this.__extends||(_r67=function r(t,e){return(_r67=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r67(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandDimsVar=void 0;var s=n(3),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.axis=n,r;}return i(e,t),e.prototype.resize=function(){console.assert(2==this.inputVars.length);var t=o(this.inputVars,2),e=t[0],n=t[1].download()[0];-1==n&&(n=e.shape.dimensions+1+n);for(var r=[],i=0;i<e.shape.dimensions;i++){i==n&&r.push(1),r.push(e.shape.dims[i]);}n==e.shape.dimensions&&r.push(1);var a=new s.VarShape(r,e.shape.format);return!s.VarShape.isEqual(this.shape,a)&&(this.shape=a,!0);},e.prototype.compute=function(){this.data=this.inputVars[0].download();},e;}(s.JSVar);e.ExpandDimsVar=a;},function(t,e,n){"use strict";var _r68,i=this&&this.__extends||(_r68=function r(t,e){return(_r68=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r68(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.FillVar=void 0;var o=n(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){console.assert(2==this.inputVars.length);for(var t=this.inputVars[0],e=t.download(),n=t.shape.dims[0],r=new Int32Array(n),i=0;i<t.shape.dims[0];i++){r[i]=e[i];}var s=new o.VarShape(r,t.shape.format);return!o.VarShape.isEqual(this.shape,s)&&(this.shape=s,!0);},e.prototype.compute=function(){for(var t=this.inputVars[1].download(),e=t[0],n=this.shape.size(),r=new(0,t.constructor)(n),i=0;i<n;i++){r[i]=e;}this.data=r;},e;}(o.JSVar);e.FillVar=s;},function(t,e,n){"use strict";var _r69,i=this&&this.__extends||(_r69=function r(t,e){return(_r69=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r69(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.GatherV2Var=void 0;var s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){var t=o(this.inputVars,2),e=t[0],n=t[1],r=3==this.inputVars.length?this.inputVars[2].download()[0]:0;r<0&&(r=e.shape.dimensions+r),console.assert(0==r,"unsupported gather axis: "+r),console.assert(1==n.shape.dimensions,"unsupported gather indices dim: "+n.shape.dimensions);e.shape.dims[r];var i=e.shape.dimensions+n.shape.dimensions-1;r>i&&console.error("axis <= numDimensions "+r+" <= "+i);for(var a=[],u=0;u<r;u++){a.push(e.shape.dims[u]);}for(u=0;u<n.shape.dimensions;u++){a.push(n.shape.dims[u]);}for(u=r+1;u<e.shape.dimensions;u++){a.push(e.shape.dims[u]);}var c=new s.VarShape(a,this.inputVars[0].shape.format);return!s.VarShape.isEqual(this.shape,c)&&(this.shape=c,!0);},e.prototype.compute=function(){for(var t=o(this.inputVars,2),e=t[0],n=t[1],r=n.shape.dims[0],i=e.shape.dims[0],s=e.shape.size(1),a=n.download(),u=e.download(),c=new(0,u.constructor)(r*s),p=0;p<r;p++){if(a[p]<0||a[p]>i)return console.error("INPUT_DATA_ERROR"),!1;for(var h=0;h<s;h++){c[p*s+h]=u[a[p]*s+h];}}this.data=c;},e;}(s.JSVar);e.GatherV2Var=a;},function(t,e,n){"use strict";var _r70,i=this&&this.__extends||(_r70=function r(t,e){return(_r70=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r70(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.NonMaxSuppressionV2Var=void 0;var s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){console.assert(this.inputVars.length>=4);var t=o(this.inputVars,4),e=t[0],n=t[1],r=t[2],i=t[3];console.assert(2==e.shape.dimensions&&4==e.shape.dims[1]&&1==n.shape.dimensions);var a=e.shape.dims[0],u=i.download()[0],c=Math.min(r.download()[0],a);console.assert(0<=u&&u<=1);var p=new s.VarShape([c],e.shape.format);return!s.VarShape.isEqual(this.shape,p)&&(this.shape=p,!0);},e.prototype.IOU=function(t,e,n){var r=Math.min(t[4*e+0],t[4*e+2]),i=Math.min(t[4*e+1],t[4*e+3]),o=Math.max(t[4*e+0],t[4*e+2]),s=Math.max(t[4*e+1],t[4*e+3]),a=Math.min(t[4*n+0],t[4*n+2]),u=Math.min(t[4*n+1],t[4*n+3]),c=Math.max(t[4*n+0],t[4*n+2]),p=Math.max(t[4*n+1],t[4*n+3]),h=(o-r)*(s-i),f=(c-a)*(p-u);if(h<=0||f<=0)return 0;var d=Math.max(r,a),l=Math.max(i,u),b=Math.min(o,c),_=Math.min(s,p),y=Math.max(b-d,0)*Math.max(_-l,0);return y/(h+f-y);},e.prototype.compute=function(){for(var t=this.shape.dims[0],e=this.inputVars[0].download(),n=this.inputVars[1].download(),r=this.inputVars[3].download()[0],i=this.inputVars.length>4?this.inputVars[4].download()[0]:-Number.MAX_VALUE,s=[],a=0;a<n.length;a++){var u=n[a];u>i&&s.push([a,u]);}for(var c=s.sort(function(t,e){return e[1]-t[1];}),p=[];p.length<t&&c.length>0;){for(var h=o(c.shift(),2),f=h[0],d=(h[1],!0),l=p.length-1;l>=0;l--){var b=this.IOU(e,f,p[l]);if(0!=b&&b>r){d=!1;break;}}d&&p.push(f);}this.data=new Int32Array(p);},e;}(s.JSVar);e.NonMaxSuppressionV2Var=a;},function(t,e,n){"use strict";var _r71,i=this&&this.__extends||(_r71=function r(t,e){return(_r71=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r71(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++){t=t.concat(o(arguments[e]));}return t;};Object.defineProperty(e,"__esModule",{value:!0}),e.PackVar=void 0;var a=n(3),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.axis=n,r;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape.dims,n=this.axis<0?this.axis+e.length:this.axis,r=0==t.shape.dimensions?[this.inputVars.length]:s(e.slice(0,n),[this.inputVars.length],e.slice(n)),i=new a.VarShape(r,t.shape.format);return!a.VarShape.isEqual(this.shape,i)&&(this.shape=i,!0);},e.prototype.compute=function(){for(var t=this.inputVars[0],e=t.shape.dims,n=this.axis<0?this.axis+e.length:this.axis,r=this.inputVars.map(function(t){return t.download();}),i=new(0,r[0].constructor)(this.shape.size()),o=t.shape.size(0,n),s=this.inputVars.length,a=t.shape.size(n),u=0;u<o;u++){for(var c=0;c<s;c++){i.set(r[c].slice(u*a,(u+1)*a),u*a*s+c*a);}}this.data=i;},e;}(a.JSVar);e.PackVar=u;},function(t,e,n){"use strict";var _r72,i=this&&this.__extends||(_r72=function r(t,e){return(_r72=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r72(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.RangeVar=void 0;var o=n(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=this.inputVars[1],n=this.inputVars[2],r=t.download(),i=e.download(),s=n.download(),a=(i[0]-r[0])/s[0],u=new Int32Array([a]),c=new o.VarShape(u,t.shape.format);return!o.VarShape.isEqual(this.shape,c)&&(this.shape=c,!0);},e.prototype.compute=function(){for(var t=this.inputVars[0],e=this.inputVars[1],n=this.inputVars[2],r=t.download(),i=(e.download(),n.download()),o=this.shape.dims[0],s=new Float32Array(o),a=0;a<o;a++){s[a]=r[0]+a*i[0];}this.data=s;},e;}(o.JSVar);e.RangeVar=s;},function(t,e,n){"use strict";var _r73,i=this&&this.__extends||(_r73=function r(t,e){return(_r73=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r73(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.RankVar=void 0;var o=n(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0];this.shape=new o.VarShape([],t.shape.format);var e=t.shape.dims.length;return this.data=new Float32Array([e]),!0;},e.prototype.compute=function(){var t=this.inputVars[0].shape.dims.length;return this.data=new Float32Array([t]),!0;},e;}(o.JSVar);e.RankVar=s;},function(t,e,n){"use strict";var _r74,i=this&&this.__extends||(_r74=function r(t,e){return(_r74=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r74(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ReductionVar=void 0;var o=n(3),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;switch(o.reductionType=n,o.dimArray=r,o.keepDims=i,n){case"prod":o.reducer=function(t,e,n,r,i){for(var o=0;o<n;o++){for(var s=0;s<i;s++){for(var a=1,u=0;u<r;u++){a*=t[o*r*i+s+u*i];}e[o*i+s]=a;}}};break;case"sum":o.reducer=function(t,e,n,r,i){for(var o=0;o<n;o++){for(var s=0;s<i;s++){for(var a=0,u=0;u<r;u++){a+=t[o*r*i+s+u*i];}e[o*i+s]=a;}}};break;case"mean":o.reducer=function(t,e,n,r,i){for(var o=0;o<n;o++){for(var s=0;s<i;s++){for(var a=0,u=0;u<r;u++){a+=t[o*r*i+s+u*i];}e[o*i+s]=a/r;}}};break;case"max":o.reducer=function(t,e,n,r,i){for(var o=0;o<n;o++){for(var s=0;s<i;s++){for(var a=t[o*r*i+s],u=1;u<r;u++){a=Math.max(t[o*r*i+s+u*i],a);}e[o*i+s]=a;}}};break;default:console.assert(!1,"unsupported reduction type: "+n);}return o;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=(this.dimArray?this.dimArray:new Int32Array(this.inputVars[1].download())).map(function(e){return e<0?e+t.shape.dimensions:e;});e=e.length>1?e.sort():e;for(var n=0;n<e.length-1;n++){if(e[n+1]-e[n]!=1)throw"unsupported reduction axes: "+e;}0==e.length&&(e=t.shape.dims.map(function(t,e){return e;}));var r,i=Array.prototype.slice.call(t.shape.dims);r=this.keepDims?i.map(function(t,n){return e.includes(n)?1:t;}):i.filter(function(t,n){return!e.includes(n);});var s=new o.VarShape(r,t.shape.format);return!o.VarShape.isEqual(this.shape,s)&&(this.shape=s,!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=(t.shape.dims,t.download(t.shape.format)),n=this.shape.size(),r=new e.constructor(n),i=(this.dimArray?this.dimArray:new Int32Array(this.inputVars[1].download())).map(function(e){return e<0?e+t.shape.dimensions:e;});0==(i=i.length>1?i.sort():i).length&&(i=t.shape.dims.map(function(t,e){return e;}));var o=t.shape.size(0,i[0]),s=t.shape.size(i[0],i[i.length-1]+1),a=t.shape.size(i[i.length-1]+1);this.reducer(e,r,o,s,a),this.data=r;},e;}(o.JSVar);e.ReductionVar=s;},function(t,e,n){"use strict";var _r75,i=this&&this.__extends||(_r75=function r(t,e){return(_r75=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r75(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.ReshapeVar=void 0;var s=n(3),a=n(6),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.reshapeDims=n,i.dataFormat=r,i;}return i(e,t),e.prototype.resize=function(){var t;if(console.assert(1==this.inputVars.length||2==this.inputVars.length),1==this.inputVars.length)t=this.reshapeDims;else{var e=o(this.inputVars,2),n=e[0],r=e[1];if(t=new Int32Array(r.download()),n.shape.isNCHW()&&r.shape.isNHWC()&&4==t.length){var i=o(t,4),a=i[1],u=i[2],c=i[3];t[1]=c,t[2]=a,t[3]=u;}}var p=this.inputVars[0].shape,h=new s.VarShape(t.map(function(t,e){return-1==t?1:0==t?p.dims[e]:t;}),p.format),f=t.lastIndexOf(-1);return f>=0&&(h.dims[f]=p.size()/h.size()),!s.VarShape.isStrictEqual(this.shape,h)&&(this.shape=h,!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=t.download();this.shape.dims;if(this.shape.format==this.dataFormat||4!=this.shape.dimensions||4!=t.shape.dimensions)this.data=e;else if("NCHW"==this.dataFormat)this.data=a.reorderNHWCToNCHW(t.shape.dimsAsNHWC,e);else{var n=a.reorderNCHWToNHWC(t.shape.dimsAsNCHW,e);this.data=a.reorderNHWCToNCHW(this.shape.dimsAsNHWC,n);}},e;}(s.JSVar);e.ReshapeVar=u;},function(t,e,n){"use strict";var _r76,i=this&&this.__extends||(_r76=function r(t,e){return(_r76=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r76(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectVar=void 0;var s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){console.assert(3==this.inputVars.length);var t=this.inputVars[0];return!s.VarShape.isEqual(this.shape,t.shape)&&(this.shape=t.shape.copy(),!0);},e.prototype.compute=function(){var t=o(this.inputVars.map(function(t){return t.download();}),3),e=t[0],n=t[1],r=t[2];this.data=e.map(function(t,e){return(t>0?n:r)[e];});},e;}(s.JSVar);e.SelectVar=a;},function(t,e,n){"use strict";var _r77,i=this&&this.__extends||(_r77=function r(t,e){return(_r77=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r77(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());});Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeVar=void 0;var o=n(3),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.format=n,r;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0].shape.dimsAsNHWC,e=new o.VarShape([t.length],this.format);return!o.VarShape.isEqual(this.shape,e)&&(this.shape=e,this.data=new Int32Array(t),!0);},e;}(o.JSVar);e.ShapeVar=s;},function(t,e,n){"use strict";var _r78,i=this&&this.__extends||(_r78=function r(t,e){return(_r78=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r78(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.SliceTfVar=void 0;var s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){console.assert(3==this.inputVars.length);var t=o(this.inputVars,3),e=t[0],n=t[1],r=t[2],i=e.shape.dims;console.assert(1==n.shape.dimensions&&1==r.shape.dimensions&&i.length>=1&&i.length==r.shape.dims[0]&&i.length==n.shape.dims[0]);var a,u=new Int32Array(n.download()),c=new Int32Array(r.download()).map(function(t,e){return-1==t?i[e]-u[e]:t;});return a=c.some(function(t){return t<=0;})?new s.VarShape([],e.shape.format):new s.VarShape(c,e.shape.format),!s.VarShape.isEqual(this.shape,a)&&(this.shape=a,!0);},e.prototype.compute=function(){var t=o(this.inputVars,3),e=t[0],n=t[1],r=(t[2],e.download()),i=new Int32Array(n.download()),s=r.constructor,a=e.shape.dims.length,u=new s(this.shape.dimensions>0?this.shape.size():0);switch(a){case 4:for(var c=o(e.shape.dims,4),p=(c[0],c[1]),h=c[2],f=c[3],d=o(this.shape.dims,4),l=d[0],b=d[1],_=d[2],y=d[3],m=0;m<l;m++){for(var v=m+i[0],g=0;g<b;g++){for(var x=g+i[1],T=0;T<_;T++){for(var w=T+i[2],S=0;S<y;S++){var I=S+i[3];u[m*b*_*y+g*_*y+T*y+S]=r[v*p*h*f+x*h*f+w*f+I];}}}}break;case 3:var O=o(e.shape.dims,3),N=(O[0],p=O[1],h=O[2],o(this.shape.dims,3));for(l=N[0],b=N[1],_=N[2],m=0;m<l;m++){for(v=m+i[0],g=0;g<b;g++){for(x=g+i[1],T=0;T<_;T++){w=T+i[2];u[m*b*_+g*_+T]=r[v*p*h+x*h+w];}}}break;case 2:var A=o(e.shape.dims,2),P=(A[0],p=A[1],o(this.shape.dims,2));for(l=P[0],b=P[1],m=0;m<l;m++){for(v=m+i[0],g=0;g<b;g++){x=g+i[1];u[m*b+g]=r[v*p+x];}}break;case 1:for(o(e.shape.dims,1)[0],l=o(this.shape.dims,1)[0],m=0;m<l;m++){u[m]=r[m+i[0]];}break;case 0:break;default:throw"unsupported slice dims: "+a;}this.data=u;},e;}(s.JSVar);e.SliceTfVar=a;},function(t,e,n){"use strict";var _r79,i=this&&this.__extends||(_r79=function r(t,e){return(_r79=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r79(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.StridedSliceVar=void 0;var s=n(3),a=function(t){function e(e,n,r,i,o,s,a){var u=t.call(this,e)||this;return u.beginMask=r,u.endMask=i,u.ellipsisMask=o,u.newAxisMask=s,u.shrinkAxisMask=a,0==o&&0==s||console.assert(!1),u;}return i(e,t),e.prototype.resize=function(){4!=this.inputVars.length&&console.error("this.inputVars.length != 4");var t=o(this.inputVars,4),e=t[0],n=t[1],r=t[2],i=t[3];console.assert(n.shape.dimensions==r.shape.dimensions&&n.shape.dimensions==i.shape.dimensions);var a=e.shape.dimensions;if(a<=0)return!1;if(a>=5)return console.error("Error for StridedSliceComputer: inputDims >= 5 "),!1;for(var u=n.shape.dimsAsNHWC[0],c=new Int32Array(u),p=new Int32Array(u),h=new Int32Array(u),f=new Int32Array(u),d=0;d<u;d++){c[d]=this.beginMask&1<<d,p[d]=this.endMask&1<<d,h[d]=this.shrinkAxisMask&1<<d,f[d]=this.newAxisMask&1<<d;}for(d=0;d<u;d++){if(0!=(this.ellipsisMask&1<<d)){d;break;}}var l=e.download(),b=n.download(),_=r.download(),y=i.download(),m=e.shape.dimsAsNHWC,v=new Int32Array(u),g=new Int32Array(u),x=new Int32Array(u),T=[],w=[];for(d=0;d<u;d++){if(c[d]>0?v[d]=0:v[d]=Math.min(m[d],b[d]),v[d]<0&&(v[d]+=m[d]),p[d]>0?g[d]=m[d]:g[d]=Math.min(m[d],_[d]),g[d]<0&&(g[d]+=m[d]),g[d]<v[d]){var S=v[d];v[d]=g[d],g[d]=S,x[d]<0?x[d]=-x[d]:v[d]=g[d];}if(x[d]=h[d]>0?1:y[d],0==h[d]){var I=(g[d]-v[d]-1)/x[d]+1;T.push(I),w.push(I);}else T.push(1);}var O=T.length,N=a-u;for(d=0;d<N;d++){T.push(m[O+d]),w.push(m[O+d]);}var A=new Float32Array(w.length>0?w.reduce(function(t,e){return t*e;}):1);if(1==a)for(var P=0;P<T[0];P++){var D=P,V=E=v[0]+P*x[0];A[D]=l[V];}else if(2==a)for(P=0;P<T[0];P++){for(var F=0;F<T[1];F++){D=P*T[1]+F;var E=v[0]+P*x[0],R=v[1]+F*x[1];V=E*m[1]+R;A[D]=l[V];}}else if(3==a)for(P=0;P<T[0];P++){for(F=0;F<T[1];F++){for(var M=0;M<T[2];M++){D=P*T[1]*T[2]+F*T[2]+M,E=v[0]+P*x[0],R=v[1]+F*x[1];var C=v[2]+M*x[2];V=E*m[1]*m[2]+R*m[2]+C;A[D]=l[V];}}}else if(4==a)for(P=0;P<T[0];P++){for(F=0;F<T[1];F++){for(M=0;M<T[2];M++){for(var L=0;L<T[3];L++){D=P*T[1]*T[2]*T[3]+F*T[2]*T[3]+M*T[3]+L,E=v[0]+P*x[0],R=v[1]+F*x[1],C=v[2]+M*x[2];var z=v[3]+L*x[3];V=E*m[1]*m[2]*m[3]+R*m[2]*m[3]+C*m[3]+z;A[D]=l[V];}}}}this.data=A;var j=new s.VarShape(w,e.shape.format);return!s.VarShape.isEqual(this.shape,j)&&(this.shape=j,!0);},e;}(s.JSVar);e.StridedSliceVar=a;},function(t,e,n){"use strict";var _r80,i=this&&this.__extends||(_r80=function r(t,e){return(_r80=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r80(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.TopKV2IndicesVar=e.TopKV2Var=e.TopKV2Atom=void 0;var s=n(3),a=function(){function t(){this.sync=0;}return t.prototype.compute=function(t,e,n){for(var r=t.constructor,i=t.length/n,o=new r(i*e),s=new Int32Array(o.length),a=0,u=0,c=0;a<i;a++,u+=n,c+=e){var p=Array.prototype.slice.call(t.slice(u,u+n)).map(function(t,e){return[e,t];}).sort(function(t,e){return e[1]-t[1];}).slice(0,e);o.set(p.map(function(t){return t[1];}),c),s.set(p.map(function(t){return t[0];}),c);}this.topKData=o,this.indicesData=s;},t;}();e.TopKV2Atom=a;var u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.atom=n,r.sync=0,r;}return i(e,t),e.prototype.resize=function(){console.assert(2==this.inputVars.length);var t=o(this.inputVars,2),e=t[0],n=t[1];console.assert(0==n.shape.dimensions);var r=n.download()[0],i=e.shape.copy();return i.dims[i.dims.length-1]=r,!s.VarShape.isEqual(this.shape,i)&&(this.shape=i,!0);},e.prototype.compute=function(){if(this.sync>=this.atom.sync){var t=this.inputVars[0].download(),e=this.inputVars[0].shape.dims.slice(-1)[0],n=this.inputVars[1].download()[0];this.atom.compute(t,n,e);}this.sync=this.atom.sync;},e;}(s.JSVar),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.compute=function(){t.prototype.compute.call(this),this.data=this.atom.topKData;},e;}(u);e.TopKV2Var=c;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.compute=function(){t.prototype.compute.call(this),this.data=this.atom.indicesData;},e;}(u);e.TopKV2IndicesVar=p;},function(t,e,n){"use strict";var _r81,i=this&&this.__extends||(_r81=function r(t,e){return(_r81=_setPrototypeOf2.default||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){e.hasOwnProperty(n)&&(t[n]=e[n]);}})(t,e);},function(t,e){function n(){this.constructor=t;}_r81(t,e),t.prototype=null===e?(0,_create2.default)(e):(n.prototype=e.prototype,new n());}),o=this&&this.__read||function(t,e){var n="function"==typeof _symbol2.default&&t[_iterator2.default];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-->0)&&!(r=o.next()).done;){s.push(r.value);}}catch(t){i={error:t};}finally{try{r&&!r.done&&(n=o.return)&&n.call(o);}finally{if(i)throw i.error;}}return s;};Object.defineProperty(e,"__esModule",{value:!0}),e.WhereVar=void 0;var s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return i(e,t),e.prototype.resize=function(){var t=this.inputVars[0],e=t.shape.size(),n=new s.VarShape([e,t.shape.dimensions],t.shape.format);return!s.VarShape.isEqual(this.shape,n)&&(this.shape=n,!0);},e.prototype.compute=function(){var t=this.inputVars[0],e=Array.prototype.slice.call(t.shape.dims).map(function(e,n){return t.shape.size(n+1);}),n=t.download(),r=[];n.forEach(function(t,e){return t>0&&r.push(e);});for(var i=o(this.shape.dims,2),s=i[0],a=i[1],u=new Int32Array(s*a),c=0;c<r.length;c++){for(var p=r[c],h=0;h<a;h++){var f=p/e[h];p-=f*e[h],u[c*a+h]=f;}}var d=r.length>0?r[0]:0;for(c=r.length;c<s;c++){for(h=0;h<a;h++){u[c*a+h]=d;}}this.data=u;},e;}(s.JSVar);e.WhereVar=a;}]);});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(111)(module)))

/***/ })

});