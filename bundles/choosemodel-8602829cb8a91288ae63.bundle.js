webpackJsonpYMK([55],{1018:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(40),a=l(r),o=n(0),i=l(o),u=n(466),d=l(u),s=n(38),f=l(s),c=n(39),g=l(c),p=n(459),h=l(p),m=n(2040),v=l(m),y=n(1941),x=l(y),_=function(e){function t(){return(0,i.default)(this,t),(0,f.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.settings;return h.default.createElement(x.default,{settings:e,style:v.default.powered,text:e.i18n.getMessage("footer.powered.perfectcorp")})}}]),t}(p.Component);t.default=_,e.exports=t.default},1941:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=n(170),i=l(o),u=n(11),d=l(u),s=n(40),f=l(s),c=n(0),g=l(c),p=n(466),h=l(p),m=n(38),v=l(m),y=n(39),x=l(y),_=n(459),M=l(_),b=n(2015),S=l(b),C=n(760),w=l(C),k=n(2049),E=l(k),P=n(2050),R=l(P),I=n(552),j=l(I),T=(r=(0,w.default)({defaultStyles:E.default,a11yStyles:R.default}))(a=function(e){function t(){var e,n,l,r;(0,g.default)(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=l=(0,v.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(o))),l.getTextStyle=function(){var e=l.props,t=e.settings,n=e.styles,r=e.style,a=void 0===r?{}:r,o=e.resizable,i=(0,d.default)({},n.screenText,{fontFamily:t.i18n.getFontFamily()},a);return o?(0,d.default)({},n.resizableText,j.default.adjustText(i,t)):i},r=n,(0,v.default)(l,r)}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){if(!this.props.text&&!this.props.children)return!1;var e=this.props,t=e.text,n=e.children,l=(e.settings,e.style,e.styles,(0,i.default)(e,["text","children","settings","style","styles"]));return M.default.createElement(S.default,null,M.default.createElement("div",(0,d.default)({style:this.getTextStyle()},l),t||n))}}]),t}(_.Component))||a;t.default=T,e.exports=t.default},2040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={powered:{zIndex:3,left:"50%",bottom:"10px",transform:"translateX(-50%)",width:"max-content",fontSize:"11px",fontWeight:"normal","@media screen and (max-height: 500px)":{bottom:"5px"}}},e.exports=t.default},2376:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(11),a=l(r),o=n(178),i=l(o),u=n(40),d=l(u),s=n(0),f=l(s),c=n(466),g=l(c),p=n(38),h=l(p),m=n(39),v=l(m),y=n(459),x=l(y),_=n(2479),M=l(_),b=n(2480),S=l(b),C=n(112),w=n(183),k=l(w),E=n(977),P=l(E),R=n(3),I=l(R),j=n(961),T=l(j),L=n(2481),O=l(L),F=n(552),z=l(F),B=3,W=function(e){function t(){var e,n,l,r;(0,f.default)(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=l=(0,h.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(o))),l.splitArrayIntoChunks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.ceil(e.length/t);return(0,i.default)({length:n},function(n,l){return e.slice(l*t,l*t+t)})},l.splitModelsIntoChunks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],l=Math.ceil(e.length/n);return(0,i.default)({length:l},function(l,r){var a=r*n,o=e.slice(a,a+n),i=t.slice(a,a+n);return o.map(function(e,t){return{original:e.fileUrl,thumbnail:(0,I.default)(i,"["+t+"].fileUrl")||e.fileUrl}})})},l.sortModels=function(e){return(0,T.default)(e,["displayOrder"])},l.loadImage=function(e,t){var n=l.props,r=n.emitter,a=n.changeRoute;r.trigger(C.events.loadImageByModel,[e,t]),(0,k.default)(C.browserUtils.changeHost(e),{method:"GET",credentials:"same-origin",mode:"cors"}).then(function(e){return e.blob()}).then(function(t){return a(P.default.image,{image:t,mediaSource:"choosemodel",modelPath:e})})},l.getModelRows=function(e){var t=e.moduleSetting,n=e.maxRowNum,r=e.modelsPerRow,a=e.fallbackModels,o=t&&t.getModels(),i=t&&t.getModelThumbnails(),u=(0,I.default)(o,"length")?l.splitModelsIntoChunks(l.sortModels(o),l.sortModels(i),r):l.splitArrayIntoChunks(a,r);return n?u.slice(0,n):u},l.getModelFlexBasis=function(e){return 1===e?"43%":Math.floor(100/e)-2*B+"%"},l.getModelMargin=function(e,t){var n=l.props.settings,r=z.default.isLongScreen(n)?"2%":"1%",a=B+"%";return{marginTop:r,marginRight:t?0:a,marginBottom:r,marginLeft:e?0:a}},r=n,(0,h.default)(l,r)}return(0,v.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.settings,l=t.moduleSetting,r=t.modelsPerRow,o=void 0===r?3:r,i=t.maxRowNum,u=t.fallbackModels,d=void 0===u?[]:u,s=t.showTitle,f=t.title,c=t.containerStyle,g=t.titleStyle,p=t.modelContainerStyle,h=t.modelRowStyle,m=t.modelImageContainerStyle,v=this.getModelRows({moduleSetting:l,modelsPerRow:o,maxRowNum:i,fallbackModels:d});return x.default.createElement("div",{style:(0,a.default)({marginTop:"15px",width:"100%"},c)},s&&x.default.createElement(O.default,{settings:n,text:(0,I.default)(f,"text",n.i18n.getMessage("page.model.title")),textStyle:(0,a.default)({fontFamily:n.i18n.getFontFamily(),fontSize:z.default.getSubtitleFontSize(n.displayWidth)},g)}),x.default.createElement("div",{style:(0,a.default)({},M.default.modelContainer,p)},v&&v.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];return x.default.createElement("div",{key:"modelrow"+r,style:(0,a.default)({},M.default.rowContainer,{width:z.default.isShortScreen(n)?"90%":"100%",height:Math.floor(100/v.length)+"%"},h)},t.map(function(i,u){return x.default.createElement("button",{key:"model"+u+"_"+i.original+"_"+i.thumbnail,onClick:function(){return!l.isResultPageDisabled()&&e.loadImage(i.original,o*r+u)},style:(0,a.default)({},M.default.modelImageContainer,e.getModelMargin(0===u,u===t.length-1),{width:e.getModelFlexBasis(o)},m),"aria-label":n.i18n.getMessageWithValues("a11y.label.model.index",{index:o*r+u+1})},x.default.createElement(S.default,{"aria-hidden":!0,crossOrigin:"anonymous",key:"modelImage"+(o*r+u),style:M.default.modelImage,src:C.browserUtils.changeHost(i.thumbnail)}))}))})))}}]),t}(y.Component);t.default=W,e.exports=t.default},2479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={modelContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:"100%"},rowContainer:{display:"flex",justifyContent:"center",width:"100%"},modelImageContainer:{overflow:"hidden",cursor:"pointer",padding:0,border:0,backgroundColor:"transparent"},modelImage:{width:"100%",boxSizing:"border-box"}},e.exports=t.default},2480:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(11),a=l(r),o=n(40),i=l(o),u=n(0),d=l(u),s=n(466),f=l(s),c=n(38),g=l(c),p=n(39),h=l(p),m=n(459),v=l(m),y=n(112),x=y.dao.downloadImage,_={loaded:!1},M=function(e){function t(e){(0,d.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state=_,n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.src;x(t).then(function(t){return e.setState(function(e){return(0,a.default)({},e,{base64:t,loaded:!0})})})}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.base64;return!(!t||!n)&&v.default.createElement("img",(0,a.default)({},this.props,{src:n}))}}]),t}(m.Component);t.default=M,e.exports=t.default},2481:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(11),a=l(r),o=n(40),i=l(o),u=n(0),d=l(u),s=n(466),f=l(s),c=n(38),g=l(c),p=n(39),h=l(p),m=n(459),v=l(m),y=n(2482),x=l(y),_=n(3),M=l(_),b=n(552),S=l(b),C=function(e){function t(){var e,n,l,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=l=(0,g.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(o))),l.getContainerHeightEm=function(){return S.default.isShortScreen(l.props.settings)?.8:1.2},r=n,(0,g.default)(l,r)}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=void 0===t?"":t,l=e.style,r=e.textStyle;return v.default.createElement("div",{style:(0,a.default)({},x.default.container,{height:this.getContainerHeightEm()+"em"},l)},v.default.createElement("div",{style:(0,a.default)({},x.default.divider,{backgroundColor:(0,M.default)(r,"color",x.default.text.color),marginRight:"10px"})}),v.default.createElement("h3",{tabIndex:0,style:(0,a.default)({},x.default.text,{bottom:this.getContainerHeightEm()/2-.05+"em"},r)},n),v.default.createElement("div",{style:(0,a.default)({},x.default.divider,{backgroundColor:(0,M.default)(r,"color",x.default.text.color),marginLeft:"10px"})}))}}]),t}(m.Component);t.default=C,e.exports=t.default},2482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:{display:"flex",justifyContent:"center",alignItem:"center"},divider:{height:"1px",flex:1},text:{position:"relative",display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",color:"#575757",fontWeight:300,margin:0}},e.exports=t.default},3832:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(11),o=l(a),i=n(40),u=l(i),d=n(0),s=l(d),f=n(466),c=l(f),g=n(38),p=l(g),h=n(39),m=l(h),v=n(459),y=l(v),x=n(977),_=l(x),M=n(671),b=l(M),S=n(3833),C=l(S),w=n(552),k=l(w),E=n(3),P=l(E),R=n(978),I=l(R),j=n(112),T=n(2376),L=l(T),O=n(1018),F=l(O),z=(0,b.default)(r=function(e){function t(){var e,n,l,r;(0,s.default)(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=l=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),l.back=function(){return l.props.changeRoute(_.default.launcher)},l.close=function(){return l.props.emitter.trigger(j.events.close)},l.getModelLength=function(){var e=l.props,t=e.settings,n=e.models,r=t.getModuleSetting();return(0,P.default)(r&&r.getModels(),"length")||(0,P.default)(n,"length")},l.getModelListLayout=function(){var e=l.getModelLength();if(k.default.isLongScreen(l.props.settings))return 1===e||3===e?{modelsPerRow:1}:{modelsPerRow:2,modelRowStyle:{justifyContent:"start"}};switch(e){case 1:return{modelsPerRow:1};case 2:case 4:return{modelsPerRow:2};default:return{modelsPerRow:3}}},l.getContainerPadding=function(){var e=l.props.settings;return k.default.isLongScreen(e)?"0 8%":k.default.isShortScreen(e)?"0 15%":"0 13%"},r=n,(0,p.default)(l,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.emitter,n=e.settings;t.trigger(j.events.pageUpdated,[n.i18n.getMessage("a11y.page.choose.model")])}},{key:"render",value:function(){var e=this.props,t=e.settings,n=e.emitter,l=e.changeRoute,r=e.models,a=void 0===r?[]:r,i=t.getModuleSetting();return y.default.createElement("div",{style:k.default.getTemplateBackground(t)},y.default.createElement("div",{style:(0,o.default)({},C.default.contentContainer,{padding:this.getContainerPadding()})},y.default.createElement(L.default,(0,o.default)({moduleSetting:i,emitter:n,settings:t,changeRoute:l,fallbackModels:a,showTitle:!0,containerStyle:{marginTop:t.displayHeight<320?"10px":"15px"},titleStyle:{color:k.default.getTextColor(t),fontSize:k.default.getTitleFontSize(t.displayWidth)},modelContainerStyle:{maxHeight:"75vh",padding:k.default.isLongScreen(t)?"0 8%":"0"}},this.getModelListLayout()))),y.default.createElement(I.default,{backAriaLabel:t.i18n.getMessageWithValues("a11y.label.back.to",{pageTitle:t.i18n.getMessage("a11y.page.launcher")}),onBack:this.back,onClose:this.close,settings:t,emitter:n,confirmBeforeExit:t.confirmBeforeExit}),y.default.createElement(F.default,{settings:t}))}}]),t}(v.Component))||r;t.default=z,e.exports=t.default},3833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contentContainer:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0 15%"}},e.exports=t.default},961:function(e,t,n){var l=n(176),r=n(962),a=n(175),o=n(81),i=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,l(t,1),[])});e.exports=i},962:function(e,t,n){function l(e,t,n){var l=-1;t=r(t.length?t:[s],u(a));var f=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++l,value:e}});return i(f,function(e,t){return d(e,t,n)})}var r=n(79),a=n(82),o=n(963),i=n(964),u=n(121),d=n(965),s=n(56);e.exports=l},964:function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},965:function(e,t,n){function l(e,t,n){for(var l=-1,a=e.criteria,o=t.criteria,i=a.length,u=n.length;++l<i;){var d=r(a[l],o[l]);if(d){if(l>=u)return d;return d*("desc"==n[l]?-1:1)}}return e.index-t.index}var r=n(966);e.exports=l},966:function(e,t,n){function l(e,t){if(e!==t){var n=void 0!==e,l=null===e,a=e===e,o=r(e),i=void 0!==t,u=null===t,d=t===t,s=r(t);if(!u&&!s&&!o&&e>t||o&&i&&d&&!u&&!s||l&&i&&d||!n&&d||!a)return 1;if(!l&&!o&&!s&&e<t||s&&n&&a&&!l&&!o||u&&n&&a||!i&&a||!d)return-1}return 0}var r=n(54);e.exports=l}});